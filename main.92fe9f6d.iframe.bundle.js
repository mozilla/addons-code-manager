(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.tsx)$")],module,!1)}).call(this,__webpack_require__("./node_modules/@storybook/builder-webpack4/node_modules/webpack/buildin/module.js")(module))},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.tsx)$":function(module,exports,__webpack_require__){var map={"./components/AccordionMenu/AccordionMenu.stories.tsx":"./src/components/AccordionMenu/AccordionMenu.stories.tsx","./components/CodeLineShapes/CodeLineShapes.stories.tsx":"./src/components/CodeLineShapes/CodeLineShapes.stories.tsx","./components/CodeOverview/CodeOverview.stories.tsx":"./src/components/CodeOverview/CodeOverview.stories.tsx","./components/CodeView/CodeView.stories.tsx":"./src/components/CodeView/CodeView.stories.tsx","./components/Comment/Comment.stories.tsx":"./src/components/Comment/Comment.stories.tsx","./components/CommentList/CommentList.stories.tsx":"./src/components/CommentList/CommentList.stories.tsx","./components/CommentSummary/CommentSummary.stories.tsx":"./src/components/CommentSummary/CommentSummary.stories.tsx","./components/CommentSummaryButton/CommentSummaryButton.stories.tsx":"./src/components/CommentSummaryButton/CommentSummaryButton.stories.tsx","./components/Commentable/Commentable.stories.tsx":"./src/components/Commentable/Commentable.stories.tsx","./components/DiffView/DiffView.stories.tsx":"./src/components/DiffView/DiffView.stories.tsx","./components/ErrorBoundary/ErrorBoundary.stories.tsx":"./src/components/ErrorBoundary/ErrorBoundary.stories.tsx","./components/FadableContent/FadableContent.stories.tsx":"./src/components/FadableContent/FadableContent.stories.tsx","./components/FileMetadata/FileMetadata.stories.tsx":"./src/components/FileMetadata/FileMetadata.stories.tsx","./components/FileTree/FileTree.stories.tsx":"./src/components/FileTree/FileTree.stories.tsx","./components/FileTreeNode/FileTreeNode.stories.tsx":"./src/components/FileTreeNode/FileTreeNode.stories.tsx","./components/FullscreenGrid/FullscreenGrid.stories.tsx":"./src/components/FullscreenGrid/FullscreenGrid.stories.tsx","./components/LinterMessage/LinterMessage.stories.tsx":"./src/components/LinterMessage/LinterMessage.stories.tsx","./components/Loading/Loading.stories.tsx":"./src/components/Loading/Loading.stories.tsx","./components/LoginButton/LoginButton.stories.tsx":"./src/components/LoginButton/LoginButton.stories.tsx","./components/Navbar/Navbar.stories.tsx":"./src/components/Navbar/Navbar.stories.tsx","./components/PopoverButton/PopoverButton.stories.tsx":"./src/components/PopoverButton/PopoverButton.stories.tsx","./components/Skeleton/Skeleton.stories.tsx":"./src/components/Skeleton/Skeleton.stories.tsx","./components/SlowPageAlert/SlowPageAlert.stories.tsx":"./src/components/SlowPageAlert/SlowPageAlert.stories.tsx","./components/ToggleButton/ToggleButton.stories.tsx":"./src/components/ToggleButton/ToggleButton.stories.tsx","./components/VersionChooser/VersionChooser.stories.tsx":"./src/components/VersionChooser/VersionChooser.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.tsx)$"},"./src/api/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"m",(function(){return makeApiURL})),__webpack_require__.d(__webpack_exports__,"k",(function(){return isErrorResponse})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getVersion})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getVersionFileOnly})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getVersionsList})),__webpack_require__.d(__webpack_exports__,"l",(function(){return logOutFromServer})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getCurrentUser})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getDiff})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getDiffFileOnly})),__webpack_require__.d(__webpack_exports__,"a",(function(){return createOrUpdateComment})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getAllComments})),__webpack_require__.d(__webpack_exports__,"b",(function(){return deleteComment})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getValidation}));var HttpMethod,_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),url__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/url/url.js"),url__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_4__),loglevel__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_5__),_excluded=["_fetchAllPages","_getComments"],getApiHost=function getApiHost(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$apiHost=_ref.apiHost,apiHost=void 0===_ref$apiHost?"https://addons.mozilla.org":_ref$apiHost,_ref$useInsecureProxy=_ref.useInsecureProxy,useInsecureProxy=void 0===_ref$useInsecureProxy?"true"==={NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:".",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_USER_AUTH_SESSION_ID_PLACEHOLDER:"__AUTH_SESSION_ID__",REACT_APP_AUTHENTICATION_COOKIE:"sessionid",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29",REACT_APP_GA_DEBUG_MODE:"false"}.REACT_APP_USE_INSECURE_PROXY:_ref$useInsecureProxy;return useInsecureProxy?"":apiHost||""},makeApiURL=function makeApiURL(_ref2){var _ref2$apiHost=_ref2.apiHost,apiHost=void 0===_ref2$apiHost?"https://addons.mozilla.org":_ref2$apiHost,path=_ref2.path,_ref2$prefix=_ref2.prefix,prefix=void 0===_ref2$prefix?"api":_ref2$prefix,url=_ref2.url,_ref2$useInsecureProx=_ref2.useInsecureProxy,useInsecureProxy=void 0===_ref2$useInsecureProx?"true"==={NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:".",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_USER_AUTH_SESSION_ID_PLACEHOLDER:"__AUTH_SESSION_ID__",REACT_APP_AUTHENTICATION_COOKIE:"sessionid",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29",REACT_APP_GA_DEBUG_MODE:"false"}.REACT_APP_USE_INSECURE_PROXY:_ref2$useInsecureProx,_ref2$version=_ref2.version,version=void 0===_ref2$version?"v5":_ref2$version;if(path&&url)throw new Error("Cannot receive both `path` and `url` parameters.");var parts=[];if(path){parts.push(getApiHost({apiHost:apiHost,useInsecureProxy:useInsecureProxy})),prefix&&parts.push("/".concat(prefix)),version&&parts.push("/".concat(version));var adjustedPath=path;adjustedPath.startsWith("/")||(adjustedPath="/".concat(adjustedPath)),parts.push(adjustedPath)}else{if(!url)throw new Error("Either `path` or `url` must be defined.");var adjustedUrl=url;apiHost&&useInsecureProxy&&(adjustedUrl=adjustedUrl.replace(apiHost,"")),parts.push(adjustedUrl)}return parts.join("")},makeQueryString=function makeQueryString(query){var resolvedQuery=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},query);return Object.keys(resolvedQuery).forEach((function(key){var value=resolvedQuery[key];null!=value&&""!==value||delete resolvedQuery[key]})),url__WEBPACK_IMPORTED_MODULE_4___default.a.format({query:resolvedQuery})};!function(HttpMethod){HttpMethod.DELETE="DELETE",HttpMethod.GET="GET",HttpMethod.PATCH="PATCH",HttpMethod.POST="POST",HttpMethod.PUT="PUT"}(HttpMethod||(HttpMethod={}));var isErrorResponse=function isErrorResponse(arg){return void 0!==arg.error},callApi=function(){var _ref4=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(_ref3){var _ref3$_makeQueryStrin,_makeQueryString,apiState,bodyData,endpoint,endpointUrl,_ref3$includeCredenti,includeCredentials,_ref3$lang,lang,_ref3$method,method,_ref3$query,query,_ref3$version,version,headers,body,path,url,queryWithLang,response,contentType;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_ref3$_makeQueryStrin=_ref3._makeQueryString,_makeQueryString=void 0===_ref3$_makeQueryStrin?makeQueryString:_ref3$_makeQueryStrin,apiState=_ref3.apiState,bodyData=_ref3.bodyData,endpoint=_ref3.endpoint,endpointUrl=_ref3.endpointUrl,_ref3$includeCredenti=_ref3.includeCredentials,includeCredentials=void 0!==_ref3$includeCredenti&&_ref3$includeCredenti,_ref3$lang=_ref3.lang,lang=void 0===_ref3$lang?"en-US":_ref3$lang,_ref3$method=_ref3.method,method=void 0===_ref3$method?HttpMethod.GET:_ref3$method,_ref3$query=_ref3.query,query=void 0===_ref3$query?{}:_ref3$query,_ref3$version=_ref3.version,version=void 0===_ref3$version?"v5":_ref3$version,headers={},apiState.userAuthSessionId&&(headers.Authorization="Session ".concat(apiState.userAuthSessionId)),bodyData&&(headers["Content-Type"]="application/json",body=JSON.stringify(bodyData)),!endpointUrl||!endpoint){_context.next=6;break}throw new Error("endpoint and endpointUrl cannot both be defined at once");case 6:if(!endpointUrl){_context.next=10;break}url=endpointUrl,_context.next=19;break;case 10:if(!endpoint){_context.next=18;break}(path=endpoint).startsWith("/")||(path="/".concat(path)),path.endsWith("/")||(path="".concat(path,"/")),queryWithLang=lang?Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},query),{},{lang:lang}):query,path="".concat(path).concat(_makeQueryString(queryWithLang)),_context.next=19;break;case 18:throw new Error("Either endpoint or endpointUrl must be defined");case 19:return _context.prev=19,_context.next=22,fetch(makeApiURL({path:path,url:url,version:version}),{body:body,credentials:includeCredentials?"include":void 0,headers:headers,method:method});case 22:if((response=_context.sent).ok){_context.next=25;break}throw new Error("Unexpected status for ".concat(method," ").concat(path,": ").concat(response.status));case 25:return contentType=(response.headers.get("content-type")||"").toLowerCase(),_context.next=28,contentType.startsWith("application/json")?response.json():response.text();case 28:return _context.abrupt("return",_context.sent);case 31:return _context.prev=31,_context.t0=_context.catch(19),loglevel__WEBPACK_IMPORTED_MODULE_5___default.a.debug("Error caught in callApi():",_context.t0),_context.abrupt("return",{error:_context.t0});case 35:case"end":return _context.stop()}}),_callee,null,[[19,31]])})));return function callApi(_x){return _ref4.apply(this,arguments)}}(),fetchAllPages=function(){var _ref5=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(getNextResponse){var _ref6,_ref6$maxAllowedPages,maxAllowedPages,results,nextUrl,page,response,_args2=arguments;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_ref6=_args2.length>1&&void 0!==_args2[1]?_args2[1]:{},_ref6$maxAllowedPages=_ref6.maxAllowedPages,maxAllowedPages=void 0===_ref6$maxAllowedPages?100:_ref6$maxAllowedPages,results=[],nextUrl=null,page=1;case 4:if(!(page<=maxAllowedPages)){_context2.next=19;break}return _context2.next=7,getNextResponse(nextUrl);case 7:if(response=_context2.sent,!isErrorResponse(response)){_context2.next=10;break}return _context2.abrupt("return",response);case 10:if(results=results.concat(response.results),!response.next){_context2.next=15;break}nextUrl=response.next,_context2.next=16;break;case 15:return _context2.abrupt("return",{count:results.length,next:null,page_count:1,page_size:results.length,previous:null,results:results});case 16:page++,_context2.next=4;break;case 19:throw new Error("Fetched too many pages (maxAllowedPages=".concat(maxAllowedPages,")"));case 20:case"end":return _context2.stop()}}),_callee2)})));return function fetchAllPages(_x2){return _ref5.apply(this,arguments)}}(),makeApiQuery=function makeApiQuery(path,fileOnly){var query={};return path&&(query.file=path),fileOnly&&(query.file_only="true"),Object.keys(query).length?query:void 0},getVersion=function(){var _ref8=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee3(_ref7){var addonId,apiState,path,versionId;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return addonId=_ref7.addonId,apiState=_ref7.apiState,path=_ref7.path,versionId=_ref7.versionId,_context3.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/").concat(versionId),query:makeApiQuery(path)}));case 2:case"end":return _context3.stop()}}),_callee3)})));return function getVersion(_x3){return _ref8.apply(this,arguments)}}(),getVersionFileOnly=function(){var _ref10=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee4(_ref9){var addonId,apiState,path,versionId;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return addonId=_ref9.addonId,apiState=_ref9.apiState,path=_ref9.path,versionId=_ref9.versionId,_context4.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/").concat(versionId),query:makeApiQuery(path,!0)}));case 2:case"end":return _context4.stop()}}),_callee4)})));return function getVersionFileOnly(_x4){return _ref10.apply(this,arguments)}}(),getVersionsList=function(){var _ref12=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee5(_ref11){var apiState,addonId;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return apiState=_ref11.apiState,addonId=_ref11.addonId,_context5.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/")}));case 2:case"end":return _context5.stop()}}),_callee5)})));return function getVersionsList(_x5){return _ref12.apply(this,arguments)}}(),logOutFromServer=function(){var _ref13=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee6(apiState){return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",callApi({apiState:apiState,includeCredentials:!0,endpoint:"accounts/session",method:HttpMethod.DELETE}));case 1:case"end":return _context6.stop()}}),_callee6)})));return function logOutFromServer(_x6){return _ref13.apply(this,arguments)}}(),getCurrentUser=function(){var _ref14=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee7(apiState){return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.abrupt("return",callApi({apiState:apiState,endpoint:"/accounts/profile/"}));case 1:case"end":return _context7.stop()}}),_callee7)})));return function getCurrentUser(_x7){return _ref14.apply(this,arguments)}}(),getDiff=function(){var _ref16=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee8(_ref15){var addonId,apiState,baseVersionId,headVersionId,path;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return addonId=_ref15.addonId,apiState=_ref15.apiState,baseVersionId=_ref15.baseVersionId,headVersionId=_ref15.headVersionId,path=_ref15.path,_context8.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/").concat(baseVersionId,"/compare_to/").concat(headVersionId),query:makeApiQuery(path)}));case 2:case"end":return _context8.stop()}}),_callee8)})));return function getDiff(_x8){return _ref16.apply(this,arguments)}}(),getDiffFileOnly=function(){var _ref18=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee9(_ref17){var addonId,apiState,baseVersionId,headVersionId,path;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return addonId=_ref17.addonId,apiState=_ref17.apiState,baseVersionId=_ref17.baseVersionId,headVersionId=_ref17.headVersionId,path=_ref17.path,_context9.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/").concat(baseVersionId,"/compare_to/").concat(headVersionId),query:makeApiQuery(path,!0)}));case 2:case"end":return _context9.stop()}}),_callee9)})));return function getDiffFileOnly(_x9){return _ref18.apply(this,arguments)}}(),createOrUpdateComment=function(){var _ref20=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee10(_ref19){var _ref19$_callApi,_callApi,addonId,apiState,cannedResponseId,comment,commentId,fileName,line,versionId,endpoint;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:if(_ref19$_callApi=_ref19._callApi,_callApi=void 0===_ref19$_callApi?callApi:_ref19$_callApi,addonId=_ref19.addonId,apiState=_ref19.apiState,cannedResponseId=_ref19.cannedResponseId,comment=_ref19.comment,commentId=_ref19.commentId,fileName=_ref19.fileName,line=_ref19.line,versionId=_ref19.versionId,void 0!==cannedResponseId||void 0!==comment){_context10.next=3;break}throw new Error("Either cannedResponseId or comment must be specified");case 3:if(void 0===cannedResponseId||void 0===comment){_context10.next=5;break}throw new Error("cannedResponseId and comment cannot both be specified");case 5:return endpoint="reviewers/addon/".concat(addonId,"/versions/").concat(versionId,"/draft_comments"),commentId&&(endpoint="".concat(endpoint,"/").concat(commentId)),_context10.abrupt("return",_callApi({apiState:apiState,bodyData:{canned_response:cannedResponseId,comment:comment,filename:fileName,lineno:line},endpoint:endpoint,method:commentId?HttpMethod.PATCH:HttpMethod.POST}));case 8:case"end":return _context10.stop()}}),_callee10)})));return function createOrUpdateComment(_x10){return _ref20.apply(this,arguments)}}(),getComments=function(){var _ref22=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee11(_ref21){var _ref21$_callApi,_callApi,addonId,apiState,endpointUrl,versionId,endpoint;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _ref21$_callApi=_ref21._callApi,_callApi=void 0===_ref21$_callApi?callApi:_ref21$_callApi,addonId=_ref21.addonId,apiState=_ref21.apiState,endpointUrl=_ref21.endpointUrl,versionId=_ref21.versionId,endpointUrl||(endpoint="reviewers/addon/".concat(addonId,"/versions/").concat(versionId,"/draft_comments")),_context11.abrupt("return",_callApi({apiState:apiState,endpointUrl:endpointUrl||void 0,endpoint:endpoint,method:HttpMethod.GET}));case 3:case"end":return _context11.stop()}}),_callee11)})));return function getComments(_x11){return _ref22.apply(this,arguments)}}(),getAllComments=function(){var _ref24=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee12(_ref23){var _ref23$_fetchAllPages,_fetchAllPages,_ref23$_getComments,_getComments,params;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return _ref23$_fetchAllPages=_ref23._fetchAllPages,_fetchAllPages=void 0===_ref23$_fetchAllPages?fetchAllPages:_ref23$_fetchAllPages,_ref23$_getComments=_ref23._getComments,_getComments=void 0===_ref23$_getComments?getComments:_ref23$_getComments,params=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref23,_excluded),_context12.abrupt("return",_fetchAllPages((function(nextUrl){return _getComments(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},params),{},{endpointUrl:nextUrl}))})));case 2:case"end":return _context12.stop()}}),_callee12)})));return function getAllComments(_x12){return _ref24.apply(this,arguments)}}(),deleteComment=function(){var _ref26=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee13(_ref25){var _ref25$_callApi,_callApi,addonId,commentId,apiState,versionId;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _ref25$_callApi=_ref25._callApi,_callApi=void 0===_ref25$_callApi?callApi:_ref25$_callApi,addonId=_ref25.addonId,commentId=_ref25.commentId,apiState=_ref25.apiState,versionId=_ref25.versionId,_context13.abrupt("return",_callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/").concat(versionId,"/draft_comments/").concat(commentId),method:HttpMethod.DELETE}));case 2:case"end":return _context13.stop()}}),_callee13)})));return function deleteComment(_x13){return _ref26.apply(this,arguments)}}(),getValidation=function(){var _ref28=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee14(_ref27){var addonId,apiState,fileId;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return addonId=_ref27.addonId,apiState=_ref27.apiState,fileId=_ref27.fileId,_context14.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/file/").concat(fileId,"/validation/")}));case 2:case"end":return _context14.stop()}}),_callee14)})));return function getValidation(_x14){return _ref28.apply(this,arguments)}}();try{getApiHost.displayName="getApiHost",getApiHost.__docgenInfo={description:"",displayName:"getApiHost",props:{apiHost:{defaultValue:{value:"process.env.REACT_APP_API_HOST"},description:"",name:"apiHost",required:!1,type:{name:"string | null"}},useInsecureProxy:{defaultValue:{value:"process.env.REACT_APP_USE_INSECURE_PROXY === 'true'"},description:"",name:"useInsecureProxy",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#getApiHost"]={docgenInfo:getApiHost.__docgenInfo,name:"getApiHost",path:"src/api/index.tsx#getApiHost"})}catch(__react_docgen_typescript_loader_error){}try{makeApiURL.displayName="makeApiURL",makeApiURL.__docgenInfo={description:"",displayName:"makeApiURL",props:{apiHost:{defaultValue:{value:"process.env.REACT_APP_API_HOST"},description:"",name:"apiHost",required:!1,type:{name:"string | null"}},path:{defaultValue:null,description:"",name:"path",required:!1,type:{name:"string"}},prefix:{defaultValue:{value:"api"},description:"",name:"prefix",required:!1,type:{name:"string | null"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string"}},useInsecureProxy:{defaultValue:{value:"process.env.REACT_APP_USE_INSECURE_PROXY === 'true'"},description:"",name:"useInsecureProxy",required:!1,type:{name:"boolean"}},version:{defaultValue:{value:"process.env.REACT_APP_DEFAULT_API_VERSION"},description:"",name:"version",required:!1,type:{name:"string | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#makeApiURL"]={docgenInfo:makeApiURL.__docgenInfo,name:"makeApiURL",path:"src/api/index.tsx#makeApiURL"})}catch(__react_docgen_typescript_loader_error){}try{makeQueryString.displayName="makeQueryString",makeQueryString.__docgenInfo={description:"",displayName:"makeQueryString",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#makeQueryString"]={docgenInfo:makeQueryString.__docgenInfo,name:"makeQueryString",path:"src/api/index.tsx#makeQueryString"})}catch(__react_docgen_typescript_loader_error){}try{isErrorResponse.displayName="isErrorResponse",isErrorResponse.__docgenInfo={description:"",displayName:"isErrorResponse",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#isErrorResponse"]={docgenInfo:isErrorResponse.__docgenInfo,name:"isErrorResponse",path:"src/api/index.tsx#isErrorResponse"})}catch(__react_docgen_typescript_loader_error){}try{callApi.displayName="callApi",callApi.__docgenInfo={description:"",displayName:"callApi",props:{_makeQueryString:{defaultValue:{value:"(query: {\n  [key: string]: string | number | null | undefined | boolean;\n}) => {\n  const resolvedQuery = { ...query };\n  Object.keys(resolvedQuery).forEach((key) => {\n    const value = resolvedQuery[key];\n    if (value === undefined || value === null || value === '') {\n      // Make sure we don't turn this into ?key= (empty string) because sending\n      // an empty string to the API sometimes triggers bugs.\n      delete resolvedQuery[key];\n    }\n  });\n  return urllib.format({ query: resolvedQuery });\n}"},description:"",name:"_makeQueryString",required:!1,type:{name:"((query: { [key: string]: string | number | boolean | null; }) => string)"}},apiState:{defaultValue:null,description:"",name:"apiState",required:!0,type:{name:"ApiState"}},bodyData:{defaultValue:null,description:"",name:"bodyData",required:!1,type:{name:"Record<string, unknown>"}},endpoint:{defaultValue:null,description:"",name:"endpoint",required:!1,type:{name:"string"}},endpointUrl:{defaultValue:null,description:"",name:"endpointUrl",required:!1,type:{name:"string"}},includeCredentials:{defaultValue:{value:"false"},description:"",name:"includeCredentials",required:!1,type:{name:"boolean"}},lang:{defaultValue:{value:"process.env.REACT_APP_DEFAULT_API_LANG"},description:"",name:"lang",required:!1,type:{name:"string"}},method:{defaultValue:{value:"HttpMethod.GET"},description:"",name:"method",required:!1,type:{name:"enum",value:[{value:'"DELETE"'},{value:'"GET"'},{value:'"PATCH"'},{value:'"POST"'},{value:'"PUT"'}]}},query:{defaultValue:{value:"{}"},description:"",name:"query",required:!1,type:{name:"CallApiQuery"}},version:{defaultValue:{value:"process.env.REACT_APP_DEFAULT_API_VERSION"},description:"",name:"version",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#callApi"]={docgenInfo:callApi.__docgenInfo,name:"callApi",path:"src/api/index.tsx#callApi"})}catch(__react_docgen_typescript_loader_error){}try{getVersion.displayName="getVersion",getVersion.__docgenInfo={description:"",displayName:"getVersion",props:{addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},apiState:{defaultValue:null,description:"",name:"apiState",required:!0,type:{name:"ApiState"}},path:{defaultValue:null,description:"",name:"path",required:!1,type:{name:"string"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#getVersion"]={docgenInfo:getVersion.__docgenInfo,name:"getVersion",path:"src/api/index.tsx#getVersion"})}catch(__react_docgen_typescript_loader_error){}try{getVersionFileOnly.displayName="getVersionFileOnly",getVersionFileOnly.__docgenInfo={description:"",displayName:"getVersionFileOnly",props:{addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},apiState:{defaultValue:null,description:"",name:"apiState",required:!0,type:{name:"ApiState"}},path:{defaultValue:null,description:"",name:"path",required:!1,type:{name:"string"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#getVersionFileOnly"]={docgenInfo:getVersionFileOnly.__docgenInfo,name:"getVersionFileOnly",path:"src/api/index.tsx#getVersionFileOnly"})}catch(__react_docgen_typescript_loader_error){}try{getVersionsList.displayName="getVersionsList",getVersionsList.__docgenInfo={description:"",displayName:"getVersionsList",props:{addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},apiState:{defaultValue:null,description:"",name:"apiState",required:!0,type:{name:"ApiState"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#getVersionsList"]={docgenInfo:getVersionsList.__docgenInfo,name:"getVersionsList",path:"src/api/index.tsx#getVersionsList"})}catch(__react_docgen_typescript_loader_error){}try{logOutFromServer.displayName="logOutFromServer",logOutFromServer.__docgenInfo={description:"",displayName:"logOutFromServer",props:{userAuthSessionId:{defaultValue:null,description:"",name:"userAuthSessionId",required:!0,type:{name:"string | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#logOutFromServer"]={docgenInfo:logOutFromServer.__docgenInfo,name:"logOutFromServer",path:"src/api/index.tsx#logOutFromServer"})}catch(__react_docgen_typescript_loader_error){}try{getCurrentUser.displayName="getCurrentUser",getCurrentUser.__docgenInfo={description:"",displayName:"getCurrentUser",props:{userAuthSessionId:{defaultValue:null,description:"",name:"userAuthSessionId",required:!0,type:{name:"string | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#getCurrentUser"]={docgenInfo:getCurrentUser.__docgenInfo,name:"getCurrentUser",path:"src/api/index.tsx#getCurrentUser"})}catch(__react_docgen_typescript_loader_error){}try{getDiff.displayName="getDiff",getDiff.__docgenInfo={description:"",displayName:"getDiff",props:{addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},apiState:{defaultValue:null,description:"",name:"apiState",required:!0,type:{name:"ApiState"}},baseVersionId:{defaultValue:null,description:"",name:"baseVersionId",required:!0,type:{name:"number"}},headVersionId:{defaultValue:null,description:"",name:"headVersionId",required:!0,type:{name:"number"}},path:{defaultValue:null,description:"",name:"path",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#getDiff"]={docgenInfo:getDiff.__docgenInfo,name:"getDiff",path:"src/api/index.tsx#getDiff"})}catch(__react_docgen_typescript_loader_error){}try{getDiffFileOnly.displayName="getDiffFileOnly",getDiffFileOnly.__docgenInfo={description:"",displayName:"getDiffFileOnly",props:{addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},apiState:{defaultValue:null,description:"",name:"apiState",required:!0,type:{name:"ApiState"}},baseVersionId:{defaultValue:null,description:"",name:"baseVersionId",required:!0,type:{name:"number"}},headVersionId:{defaultValue:null,description:"",name:"headVersionId",required:!0,type:{name:"number"}},path:{defaultValue:null,description:"",name:"path",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#getDiffFileOnly"]={docgenInfo:getDiffFileOnly.__docgenInfo,name:"getDiffFileOnly",path:"src/api/index.tsx#getDiffFileOnly"})}catch(__react_docgen_typescript_loader_error){}try{createOrUpdateComment.displayName="createOrUpdateComment",createOrUpdateComment.__docgenInfo={description:"",displayName:"createOrUpdateComment",props:{_callApi:{defaultValue:{value:"async <\n  T extends {\n    requestData: undefined | Record<string, unknown>;\n    successfulResponse: unknown;\n  },\n>({\n  _makeQueryString = makeQueryString,\n  apiState,\n  bodyData,\n  endpoint,\n  endpointUrl,\n  includeCredentials = false,\n  lang = process.env.REACT_APP_DEFAULT_API_LANG,\n  method = HttpMethod.GET,\n  query = {},\n  version = process.env.REACT_APP_DEFAULT_API_VERSION,\n}: CallApiParams<T['requestData']>): Promise<\n  CallApiResponse<T['successfulResponse']>\n> => {\n  const headers: Headers = {};\n  if (apiState.userAuthSessionId) {\n    headers.Authorization = `Session ${apiState.userAuthSessionId}`;\n  }\n\n  let body;\n  if (bodyData) {\n    headers['Content-Type'] = 'application/json';\n    body = JSON.stringify(bodyData);\n  }\n\n  if (endpointUrl && endpoint) {\n    throw new Error('endpoint and endpointUrl cannot both be defined at once');\n  }\n\n  let path;\n  let url;\n\n  if (endpointUrl) {\n    url = endpointUrl;\n  } else if (endpoint) {\n    path = endpoint;\n    if (!path.startsWith('/')) {\n      path = `/${path}`;\n    }\n    if (!path.endsWith('/')) {\n      path = `${path}/`;\n    }\n\n    // Add the lang parameter to the query string.\n    const queryWithLang: Record<string, string> = lang\n      ? { ...query, lang }\n      : query;\n\n    path = `${path}${_makeQueryString(queryWithLang)}`;\n  } else {\n    throw new Error('Either endpoint or endpointUrl must be defined');\n  }\n\n  try {\n    const response = await fetch(makeApiURL({ path, url, version }), {\n      body,\n      credentials: includeCredentials ? 'include' : undefined,\n      headers,\n      method,\n    });\n\n    if (!response.ok) {\n      throw new Error(\n        `Unexpected status for ${method} ${path}: ${response.status}`,\n      );\n    }\n\n    const contentType = (\n      response.headers.get('content-type') || ''\n    ).toLowerCase();\n\n    return await (contentType.startsWith('application/json')\n      ? response.json()\n      : // The API might return a text response, like 204s.\n        response.text());\n  } catch (error) {\n    log.debug('Error caught in callApi():', error);\n\n    return { error };\n  }\n}"},description:"",name:"_callApi",required:!1,type:{name:'(<T extends { requestData: Record<string, unknown>; successfulResponse: unknown; }>({ _makeQueryString, apiState, bodyData, endpoint, endpointUrl, includeCredentials, lang, method, query, version, }: CallApiParams<T["requestData"]>) => Promise<CallApiResponse<T["successfulResponse"]>>)'}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},apiState:{defaultValue:null,description:"",name:"apiState",required:!0,type:{name:"ApiState"}},cannedResponseId:{defaultValue:null,description:"",name:"cannedResponseId",required:!1,type:{name:"number"}},comment:{defaultValue:null,description:"",name:"comment",required:!1,type:{name:"string"}},commentId:{defaultValue:null,description:"",name:"commentId",required:!0,type:{name:"number | undefined"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | null"}},line:{defaultValue:null,description:"",name:"line",required:!0,type:{name:"number | null"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#createOrUpdateComment"]={docgenInfo:createOrUpdateComment.__docgenInfo,name:"createOrUpdateComment",path:"src/api/index.tsx#createOrUpdateComment"})}catch(__react_docgen_typescript_loader_error){}try{getComments.displayName="getComments",getComments.__docgenInfo={description:"",displayName:"getComments",props:{_callApi:{defaultValue:{value:"async <\n  T extends {\n    requestData: undefined | Record<string, unknown>;\n    successfulResponse: unknown;\n  },\n>({\n  _makeQueryString = makeQueryString,\n  apiState,\n  bodyData,\n  endpoint,\n  endpointUrl,\n  includeCredentials = false,\n  lang = process.env.REACT_APP_DEFAULT_API_LANG,\n  method = HttpMethod.GET,\n  query = {},\n  version = process.env.REACT_APP_DEFAULT_API_VERSION,\n}: CallApiParams<T['requestData']>): Promise<\n  CallApiResponse<T['successfulResponse']>\n> => {\n  const headers: Headers = {};\n  if (apiState.userAuthSessionId) {\n    headers.Authorization = `Session ${apiState.userAuthSessionId}`;\n  }\n\n  let body;\n  if (bodyData) {\n    headers['Content-Type'] = 'application/json';\n    body = JSON.stringify(bodyData);\n  }\n\n  if (endpointUrl && endpoint) {\n    throw new Error('endpoint and endpointUrl cannot both be defined at once');\n  }\n\n  let path;\n  let url;\n\n  if (endpointUrl) {\n    url = endpointUrl;\n  } else if (endpoint) {\n    path = endpoint;\n    if (!path.startsWith('/')) {\n      path = `/${path}`;\n    }\n    if (!path.endsWith('/')) {\n      path = `${path}/`;\n    }\n\n    // Add the lang parameter to the query string.\n    const queryWithLang: Record<string, string> = lang\n      ? { ...query, lang }\n      : query;\n\n    path = `${path}${_makeQueryString(queryWithLang)}`;\n  } else {\n    throw new Error('Either endpoint or endpointUrl must be defined');\n  }\n\n  try {\n    const response = await fetch(makeApiURL({ path, url, version }), {\n      body,\n      credentials: includeCredentials ? 'include' : undefined,\n      headers,\n      method,\n    });\n\n    if (!response.ok) {\n      throw new Error(\n        `Unexpected status for ${method} ${path}: ${response.status}`,\n      );\n    }\n\n    const contentType = (\n      response.headers.get('content-type') || ''\n    ).toLowerCase();\n\n    return await (contentType.startsWith('application/json')\n      ? response.json()\n      : // The API might return a text response, like 204s.\n        response.text());\n  } catch (error) {\n    log.debug('Error caught in callApi():', error);\n\n    return { error };\n  }\n}"},description:"",name:"_callApi",required:!1,type:{name:'(<T extends { requestData: Record<string, unknown>; successfulResponse: unknown; }>({ _makeQueryString, apiState, bodyData, endpoint, endpointUrl, includeCredentials, lang, method, query, version, }: CallApiParams<T["requestData"]>) => Promise<CallApiResponse<T["successfulResponse"]>>)'}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},apiState:{defaultValue:null,description:"",name:"apiState",required:!0,type:{name:"ApiState"}},endpointUrl:{defaultValue:null,description:"",name:"endpointUrl",required:!1,type:{name:"string | null"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#getComments"]={docgenInfo:getComments.__docgenInfo,name:"getComments",path:"src/api/index.tsx#getComments"})}catch(__react_docgen_typescript_loader_error){}try{getAllComments.displayName="getAllComments",getAllComments.__docgenInfo={description:"",displayName:"getAllComments",props:{_fetchAllPages:{defaultValue:{value:"async <ResultsType,>(\n  getNextResponse: (\n    nextUrl: PaginatedResponse<ResultsType[]>['next'],\n  ) => Promise<FetchAllPagesReturnType<ResultsType>>,\n  { maxAllowedPages = 100 } = {},\n): Promise<FetchAllPagesReturnType<ResultsType>> => {\n  let results: ResultsType[] = [];\n  let nextUrl = null;\n\n  for (let page = 1; page <= maxAllowedPages; page++) {\n    const response: FetchAllPagesReturnType<ResultsType> =\n      await getNextResponse(nextUrl);\n\n    if (isErrorResponse(response)) {\n      return response;\n    }\n\n    results = results.concat(response.results);\n\n    if (response.next) {\n      nextUrl = response.next;\n    } else {\n      return {\n        count: results.length,\n        next: null,\n        page_count: 1,\n        page_size: results.length,\n        previous: null,\n        results,\n      };\n    }\n  }\n\n  // This probably means there is an infinite loop.\n  // Possibilities:\n  // - The callback isn't advancing pages correctly\n  // - The API is responding with something unexpected.\n  throw new Error(\n    `Fetched too many pages (maxAllowedPages=${maxAllowedPages})`,\n  );\n}"},description:"",name:"_fetchAllPages",required:!1,type:{name:"(<ResultsType>(getNextResponse: (nextUrl: string | null) => Promise<FetchAllPagesReturnType<ResultsType>>, { maxAllowedPages }?: { maxAllowedPages?: number; }) => Promise<...>)"}},_getComments:{defaultValue:{value:"async ({\n  _callApi = callApi,\n  addonId,\n  apiState,\n  endpointUrl,\n  versionId,\n}: GetCommentsParams) => {\n  let endpoint;\n\n  if (!endpointUrl) {\n    endpoint = `reviewers/addon/${addonId}/versions/${versionId}/draft_comments`;\n  }\n\n  return _callApi<ResponseOnly<GetCommentsResponse>>({\n    apiState,\n    endpointUrl: endpointUrl || undefined,\n    endpoint,\n    method: HttpMethod.GET,\n  });\n}"},description:"",name:"_getComments",required:!1,type:{name:"(({ _callApi, addonId, apiState, endpointUrl, versionId, }: GetCommentsParams) => Promise<CallApiResponse<GetCommentsResponse>>)"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},_callApi:{defaultValue:{value:"async <\n  T extends {\n    requestData: undefined | Record<string, unknown>;\n    successfulResponse: unknown;\n  },\n>({\n  _makeQueryString = makeQueryString,\n  apiState,\n  bodyData,\n  endpoint,\n  endpointUrl,\n  includeCredentials = false,\n  lang = process.env.REACT_APP_DEFAULT_API_LANG,\n  method = HttpMethod.GET,\n  query = {},\n  version = process.env.REACT_APP_DEFAULT_API_VERSION,\n}: CallApiParams<T['requestData']>): Promise<\n  CallApiResponse<T['successfulResponse']>\n> => {\n  const headers: Headers = {};\n  if (apiState.userAuthSessionId) {\n    headers.Authorization = `Session ${apiState.userAuthSessionId}`;\n  }\n\n  let body;\n  if (bodyData) {\n    headers['Content-Type'] = 'application/json';\n    body = JSON.stringify(bodyData);\n  }\n\n  if (endpointUrl && endpoint) {\n    throw new Error('endpoint and endpointUrl cannot both be defined at once');\n  }\n\n  let path;\n  let url;\n\n  if (endpointUrl) {\n    url = endpointUrl;\n  } else if (endpoint) {\n    path = endpoint;\n    if (!path.startsWith('/')) {\n      path = `/${path}`;\n    }\n    if (!path.endsWith('/')) {\n      path = `${path}/`;\n    }\n\n    // Add the lang parameter to the query string.\n    const queryWithLang: Record<string, string> = lang\n      ? { ...query, lang }\n      : query;\n\n    path = `${path}${_makeQueryString(queryWithLang)}`;\n  } else {\n    throw new Error('Either endpoint or endpointUrl must be defined');\n  }\n\n  try {\n    const response = await fetch(makeApiURL({ path, url, version }), {\n      body,\n      credentials: includeCredentials ? 'include' : undefined,\n      headers,\n      method,\n    });\n\n    if (!response.ok) {\n      throw new Error(\n        `Unexpected status for ${method} ${path}: ${response.status}`,\n      );\n    }\n\n    const contentType = (\n      response.headers.get('content-type') || ''\n    ).toLowerCase();\n\n    return await (contentType.startsWith('application/json')\n      ? response.json()\n      : // The API might return a text response, like 204s.\n        response.text());\n  } catch (error) {\n    log.debug('Error caught in callApi():', error);\n\n    return { error };\n  }\n}"},description:"",name:"_callApi",required:!1,type:{name:'(<T extends { requestData: Record<string, unknown>; successfulResponse: unknown; }>({ _makeQueryString, apiState, bodyData, endpoint, endpointUrl, includeCredentials, lang, method, query, version, }: CallApiParams<T["requestData"]>) => Promise<CallApiResponse<T["successfulResponse"]>>)'}},apiState:{defaultValue:null,description:"",name:"apiState",required:!0,type:{name:"ApiState"}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#getAllComments"]={docgenInfo:getAllComments.__docgenInfo,name:"getAllComments",path:"src/api/index.tsx#getAllComments"})}catch(__react_docgen_typescript_loader_error){}try{deleteComment.displayName="deleteComment",deleteComment.__docgenInfo={description:"",displayName:"deleteComment",props:{_callApi:{defaultValue:{value:"async <\n  T extends {\n    requestData: undefined | Record<string, unknown>;\n    successfulResponse: unknown;\n  },\n>({\n  _makeQueryString = makeQueryString,\n  apiState,\n  bodyData,\n  endpoint,\n  endpointUrl,\n  includeCredentials = false,\n  lang = process.env.REACT_APP_DEFAULT_API_LANG,\n  method = HttpMethod.GET,\n  query = {},\n  version = process.env.REACT_APP_DEFAULT_API_VERSION,\n}: CallApiParams<T['requestData']>): Promise<\n  CallApiResponse<T['successfulResponse']>\n> => {\n  const headers: Headers = {};\n  if (apiState.userAuthSessionId) {\n    headers.Authorization = `Session ${apiState.userAuthSessionId}`;\n  }\n\n  let body;\n  if (bodyData) {\n    headers['Content-Type'] = 'application/json';\n    body = JSON.stringify(bodyData);\n  }\n\n  if (endpointUrl && endpoint) {\n    throw new Error('endpoint and endpointUrl cannot both be defined at once');\n  }\n\n  let path;\n  let url;\n\n  if (endpointUrl) {\n    url = endpointUrl;\n  } else if (endpoint) {\n    path = endpoint;\n    if (!path.startsWith('/')) {\n      path = `/${path}`;\n    }\n    if (!path.endsWith('/')) {\n      path = `${path}/`;\n    }\n\n    // Add the lang parameter to the query string.\n    const queryWithLang: Record<string, string> = lang\n      ? { ...query, lang }\n      : query;\n\n    path = `${path}${_makeQueryString(queryWithLang)}`;\n  } else {\n    throw new Error('Either endpoint or endpointUrl must be defined');\n  }\n\n  try {\n    const response = await fetch(makeApiURL({ path, url, version }), {\n      body,\n      credentials: includeCredentials ? 'include' : undefined,\n      headers,\n      method,\n    });\n\n    if (!response.ok) {\n      throw new Error(\n        `Unexpected status for ${method} ${path}: ${response.status}`,\n      );\n    }\n\n    const contentType = (\n      response.headers.get('content-type') || ''\n    ).toLowerCase();\n\n    return await (contentType.startsWith('application/json')\n      ? response.json()\n      : // The API might return a text response, like 204s.\n        response.text());\n  } catch (error) {\n    log.debug('Error caught in callApi():', error);\n\n    return { error };\n  }\n}"},description:"",name:"_callApi",required:!1,type:{name:'(<T extends { requestData: Record<string, unknown>; successfulResponse: unknown; }>({ _makeQueryString, apiState, bodyData, endpoint, endpointUrl, includeCredentials, lang, method, query, version, }: CallApiParams<T["requestData"]>) => Promise<CallApiResponse<T["successfulResponse"]>>)'}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},apiState:{defaultValue:null,description:"",name:"apiState",required:!0,type:{name:"ApiState"}},commentId:{defaultValue:null,description:"",name:"commentId",required:!0,type:{name:"number"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#deleteComment"]={docgenInfo:deleteComment.__docgenInfo,name:"deleteComment",path:"src/api/index.tsx#deleteComment"})}catch(__react_docgen_typescript_loader_error){}try{getValidation.displayName="getValidation",getValidation.__docgenInfo={description:"",displayName:"getValidation",props:{addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},apiState:{defaultValue:null,description:"",name:"apiState",required:!0,type:{name:"ApiState"}},fileId:{defaultValue:null,description:"",name:"fileId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/api/index.tsx#getValidation"]={docgenInfo:getValidation.__docgenInfo,name:"getValidation",path:"src/api/index.tsx#getValidation"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/AccordionMenu/AccordionMenu.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LongContent",(function(){return AccordionMenu_stories_LongContent})),__webpack_require__.d(__webpack_exports__,"ShortContent",(function(){return AccordionMenu_stories_ShortContent})),__webpack_require__.d(__webpack_exports__,"ExpandedByDefault",(function(){return AccordionMenu_stories_ExpandedByDefault}));var react=__webpack_require__("./node_modules/react/index.js"),FullscreenGrid=__webpack_require__("./src/components/FullscreenGrid/index.tsx"),ContentShell=__webpack_require__("./src/components/FullscreenGrid/ContentShell.tsx"),storybook_utils=__webpack_require__("./src/storybook-utils.tsx"),defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),classCallCheck=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),inherits=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),Button=__webpack_require__("./src/components/Button/index.tsx"),accordionMenu=__webpack_require__("./src/reducers/accordionMenu.tsx"),styles_module=__webpack_require__("./src/components/AccordionMenu/styles.module.scss"),styles_module_default=__webpack_require__.n(styles_module),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),makeItemContentId=function makeItemContentId(title){var id=title.replace(/[^A-Za-z0-9]+/g,"");if(!id)throw new Error('An ID could not be generated from this title: "'.concat(title,'"'));return"accordionContent".concat(id)},AccordionMenu_AccordionItemBase=function(_React$Component){Object(inherits.a)(AccordionItemBase,_React$Component);var _super=Object(createSuper.a)(AccordionItemBase);function AccordionItemBase(){var _this;Object(classCallCheck.a)(this,AccordionItemBase);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).onItemClick=function(){var _this$props=_this.props,alwaysExpanded=_this$props.alwaysExpanded,dispatch=_this$props.dispatch,title=_this$props.title;alwaysExpanded||dispatch(accordionMenu.a.toggleItem({itemId:title}))},_this}return Object(createClass.a)(AccordionItemBase,[{key:"componentDidMount",value:function componentDidMount(){var _this$props2=this.props,dispatch=_this$props2.dispatch,expandedByDefault=_this$props2.expandedByDefault,expanded=_this$props2.expanded,title=_this$props2.title;expandedByDefault&&!expanded&&dispatch(accordionMenu.a.toggleItem({itemId:title}))}},{key:"render",value:function render(){var _this$props3=this.props,alwaysExpanded=_this$props3.alwaysExpanded,children=_this$props3.children,expanded=_this$props3.expanded,title=_this$props3.title,contentId=makeItemContentId(title),expandPanel=expanded||alwaysExpanded;return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Button.a,{ariaControls:contentId,onClick:this.onItemClick,className:classnames_default()(styles_module_default.a.item,styles_module_default.a.itemButton),children:title}),Object(jsx_runtime.jsx)("div",{"aria-expanded":expandPanel?"true":"false",className:classnames_default()(styles_module_default.a.item,styles_module_default.a.itemContent,Object(defineProperty.a)({},styles_module_default.a.itemExpanded,expandPanel)),id:contentId,children:children})]})}}]),AccordionItemBase}(react.Component);AccordionMenu_AccordionItemBase.defaultProps={alwaysExpanded:!1,expandedByDefault:!1};var AccordionItem=Object(es.connect)((function mapStateToProps(state,ownProps){return{expanded:Object(accordionMenu.c)(state.accordionMenu,ownProps.title)}}))(AccordionMenu_AccordionItemBase),AccordionMenu_AccordionMenu=function AccordionMenu(_ref){var children=_ref.children;return Object(jsx_runtime.jsx)("div",{className:styles_module_default.a.menu,children:children})},components_AccordionMenu=AccordionMenu_AccordionMenu;try{makeItemContentId.displayName="makeItemContentId",makeItemContentId.__docgenInfo={description:"",displayName:"makeItemContentId",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AccordionMenu/index.tsx#makeItemContentId"]={docgenInfo:makeItemContentId.__docgenInfo,name:"makeItemContentId",path:"src/components/AccordionMenu/index.tsx#makeItemContentId"})}catch(__react_docgen_typescript_loader_error){}try{AccordionMenu_AccordionItemBase.displayName="AccordionItemBase",AccordionMenu_AccordionItemBase.__docgenInfo={description:"",displayName:"AccordionItemBase",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},alwaysExpanded:{defaultValue:{value:"false"},description:"",name:"alwaysExpanded",required:!1,type:{name:"boolean"}},expandedByDefault:{defaultValue:{value:"false"},description:"",name:"expandedByDefault",required:!1,type:{name:"boolean"}},expanded:{defaultValue:null,description:"",name:"expanded",required:!0,type:{name:"boolean"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"ThunkDispatch<AnyAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AccordionMenu/index.tsx#AccordionItemBase"]={docgenInfo:AccordionMenu_AccordionItemBase.__docgenInfo,name:"AccordionItemBase",path:"src/components/AccordionMenu/index.tsx#AccordionItemBase"})}catch(__react_docgen_typescript_loader_error){}try{AccordionItem.displayName="AccordionItem",AccordionItem.__docgenInfo={description:"",displayName:"AccordionItem",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},alwaysExpanded:{defaultValue:null,description:"",name:"alwaysExpanded",required:!1,type:{name:"boolean"}},expandedByDefault:{defaultValue:null,description:"",name:"expandedByDefault",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AccordionMenu/index.tsx#AccordionItem"]={docgenInfo:AccordionItem.__docgenInfo,name:"AccordionItem",path:"src/components/AccordionMenu/index.tsx#AccordionItem"})}catch(__react_docgen_typescript_loader_error){}try{AccordionMenu_AccordionMenu.displayName="AccordionMenu",AccordionMenu_AccordionMenu.__docgenInfo={description:"",displayName:"AccordionMenu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AccordionMenu/index.tsx#AccordionMenu"]={docgenInfo:AccordionMenu_AccordionMenu.__docgenInfo,name:"AccordionMenu",path:"src/components/AccordionMenu/index.tsx#AccordionMenu"})}catch(__react_docgen_typescript_loader_error){}var loremIpsumWords=storybook_utils.d.split(" "),AccordionMenu_stories_makeText=function makeText(){var text=loremIpsumWords.map((function(){return loremIpsumWords[Math.floor(Math.random()*(loremIpsumWords.length-1))]}));return Object(storybook_utils.c)(10,{text:text.join(" ")})},AccordionMenu_stories_render=function render(children){return Object(storybook_utils.f)(Object(jsx_runtime.jsxs)(FullscreenGrid.b,{children:[Object(jsx_runtime.jsx)(FullscreenGrid.a,{}),Object(jsx_runtime.jsx)(ContentShell.a,{mainSidePanel:children,className:"AccordionMenuStory-ContentShell",mainSidePanelIsBorderless:!0,children:"This page was intentionally left blank"})]}))},AccordionMenu_stories_LongContent=(__webpack_exports__.default={title:"Components/AccordionMenu",component:components_AccordionMenu},function LongContent(){return AccordionMenu_stories_render(Object(jsx_runtime.jsxs)(components_AccordionMenu,{children:[Object(jsx_runtime.jsx)(AccordionItem,{title:"Files",children:AccordionMenu_stories_makeText()}),Object(jsx_runtime.jsx)(AccordionItem,{alwaysExpanded:!0,title:"Current File Information",children:AccordionMenu_stories_makeText()}),Object(jsx_runtime.jsx)(AccordionItem,{title:"Keyboard Shortcuts",children:AccordionMenu_stories_makeText()}),Object(jsx_runtime.jsx)(AccordionItem,{title:"Help",children:AccordionMenu_stories_makeText()}),Object(jsx_runtime.jsx)(AccordionItem,{title:"About",children:AccordionMenu_stories_makeText()})]}))}),AccordionMenu_stories_ShortContent=function ShortContent(){return AccordionMenu_stories_render(Object(jsx_runtime.jsxs)(components_AccordionMenu,{children:[Object(jsx_runtime.jsx)(AccordionItem,{title:"Files",children:"Example of short content"}),Object(jsx_runtime.jsx)(AccordionItem,{alwaysExpanded:!0,title:"Current File Information",children:"Another example of short content"}),Object(jsx_runtime.jsx)(AccordionItem,{title:"Keyboard Shortcuts",children:"A different example of short content"}),Object(jsx_runtime.jsx)(AccordionItem,{title:"Help",children:"Yet another example of short content"}),Object(jsx_runtime.jsx)(AccordionItem,{title:"About",children:"Short content is short"})]}))},AccordionMenu_stories_ExpandedByDefault=function ExpandedByDefault(){return AccordionMenu_stories_render(Object(jsx_runtime.jsxs)(components_AccordionMenu,{children:[Object(jsx_runtime.jsx)(AccordionItem,{expandedByDefault:!0,title:"Files",children:AccordionMenu_stories_makeText()}),Object(jsx_runtime.jsx)(AccordionItem,{alwaysExpanded:!0,title:"Current File Information",children:AccordionMenu_stories_makeText()}),Object(jsx_runtime.jsx)(AccordionItem,{title:"Keyboard Shortcuts",children:AccordionMenu_stories_makeText()}),Object(jsx_runtime.jsx)(AccordionItem,{title:"Help",children:AccordionMenu_stories_makeText()}),Object(jsx_runtime.jsx)(AccordionItem,{title:"About",children:AccordionMenu_stories_makeText()})]}))}},"./src/components/AccordionMenu/styles.module.scss":function(module,exports,__webpack_require__){module.exports={menu:"styles_menu__1Ww1K",item:"styles_item__35MJI",itemButton:"styles_itemButton__2v8tg",itemContent:"styles_itemContent__l9Rm-",itemExpanded:"styles_itemExpanded__XLAXo"}},"./src/components/Button/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-bootstrap/esm/Button.js"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Button/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_3__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Button=function Button(_ref){var className=_ref.className,children=_ref.children,onClick=_ref.onClick,title=_ref.title,ariaControls=_ref.ariaControls;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default.a.button,className),onClick:onClick,title:title,"aria-controls":ariaControls,children:children})};__webpack_exports__.a=Button;try{Button.displayName="Button",Button.__docgenInfo={description:"",displayName:"Button",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},ariaControls:{defaultValue:null,description:"",name:"ariaControls",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Button/index.tsx#Button"]={docgenInfo:Button.__docgenInfo,name:"Button",path:"src/components/Button/index.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Button/styles.module.scss":function(module,exports,__webpack_require__){module.exports={button:"styles_button__12U2K"}},"./src/components/CodeLineShapes/CodeLineShapes.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SingleLineOfCode",(function(){return SingleLineOfCode})),__webpack_require__.d(__webpack_exports__,"FortyCharacterWindow",(function(){return FortyCharacterWindow})),__webpack_require__.d(__webpack_exports__,"TwentyCharacterWindow",(function(){return TwentyCharacterWindow}));__webpack_require__("./node_modules/react/index.js");var _utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/CodeLineShapes/utils.tsx"),___WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/CodeLineShapes/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),exampleCode="browser.runtime.onMessage.addListener(\n  (message, sender, sendResponse) => {\n    console.log(\n      'Background: got message:',\n      message,\n      'from:',\n      sender,\n    );\n  }\n);\n".trim(),buildAndRender=function buildAndRender(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$code=_ref.code,code=void 0===_ref$code?exampleCode:_ref$code,_ref$maxLineLength=_ref.maxLineLength,maxLineLength=void 0===_ref$maxLineLength?40:_ref$maxLineLength,fileLines=code.split("\n"),allLineShapes=Object(_utils__WEBPACK_IMPORTED_MODULE_1__.b)(fileLines,{maxLineLength:maxLineLength}),codeParts=[],shapeParts=[];fileLines.forEach((function(line,lineIndex){codeParts.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"CodeLineShapesStory-actualCode",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("pre",{children:line.replace("\n","")})},line)),shapeParts.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"CodeLineShapesStory-lineShape",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(___WEBPACK_IMPORTED_MODULE_2__.a,{lineShapes:allLineShapes[lineIndex]})},line))}));var style={width:"".concat(10*maxLineLength,"px")};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"CodeLineShapesStory",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"CodeLineShapesStory-panel",style:style,children:codeParts}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"CodeLineShapesStory-panel",style:style,children:shapeParts})]})};__webpack_exports__.default={title:"Components/CodeLineShapes",component:___WEBPACK_IMPORTED_MODULE_2__.a};var SingleLineOfCode=function SingleLineOfCode(){return buildAndRender({code:'"use strict;"',maxLineLength:30})},FortyCharacterWindow=function FortyCharacterWindow(){return buildAndRender({maxLineLength:40})},TwentyCharacterWindow=function TwentyCharacterWindow(){return buildAndRender({maxLineLength:20})}},"./src/components/CodeLineShapes/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var _utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/CodeLineShapes/utils.tsx"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/CodeLineShapes/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),CodeLineShapes=function CodeLineShapes(_ref){var isChange=_ref.isChange,lineShapes=_ref.lineShapes;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:lineShapes.tokens.map((function(shape,shapeIndex){var className;return className=shape.token===_utils__WEBPACK_IMPORTED_MODULE_1__.a.whitespace?_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.whitespace:isChange?_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.change:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.code,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:className,style:{width:"".concat(shape.percentOfWidth,"%")}},[String(lineShapes.line),String(shapeIndex),String(shape.percentOfWidth),className].join(":"))}))})};__webpack_exports__.a=CodeLineShapes;try{CodeLineShapes.displayName="CodeLineShapes",CodeLineShapes.__docgenInfo={description:"",displayName:"CodeLineShapes",props:{isChange:{defaultValue:null,description:"",name:"isChange",required:!1,type:{name:"boolean"}},lineShapes:{defaultValue:null,description:"",name:"lineShapes",required:!0,type:{name:"LineShapes"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CodeLineShapes/index.tsx#CodeLineShapes"]={docgenInfo:CodeLineShapes.__docgenInfo,name:"CodeLineShapes",path:"src/components/CodeLineShapes/index.tsx#CodeLineShapes"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/CodeLineShapes/styles.module.scss":function(module,exports,__webpack_require__){module.exports={whitespace:"styles_whitespace__1ADIm",code:"styles_code__1ScL_",change:"styles_change__3sZ--"}},"./src/components/CodeLineShapes/utils.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Token})),__webpack_require__.d(__webpack_exports__,"b",(function(){return generateLineShapes}));var Token;!function(Token){Token.code="code",Token.whitespace="whitespace"}(Token||(Token={}));var generateLineShapes=function generateLineShapes(fileLines){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$maxLineLength=_ref.maxLineLength,maxLineLength=void 0===_ref$maxLineLength?40:_ref$maxLineLength,allLineShapes=[];return fileLines.forEach((function(code,lineIndex){for(var line=lineIndex+1,characters=code.replace("\t"," ".repeat(2)).split(""),lineShapes={line:line,tokens:[]},getLastShape=function getLastShape(){return lineShapes.tokens[lineShapes.tokens.length-1]},getLastToken=function getLastToken(){var lastShape=getLastShape();return lastShape?lastShape.token:null},i=0;i<maxLineLength;i++){var token=" "===(characters[i]||" ")?Token.whitespace:Token.code;getLastToken()!==token&&lineShapes.tokens.push({token:token,count:0,percentOfWidth:0}),getLastShape().count+=1}lineShapes.tokens.forEach((function(shape){shape.percentOfWidth=shape.count/maxLineLength*100})),allLineShapes.push(lineShapes)})),allLineShapes}},"./src/components/CodeOverview/CodeOverview.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ShortFile",(function(){return CodeOverview_stories_ShortFile})),__webpack_require__.d(__webpack_exports__,"LongFile",(function(){return CodeOverview_stories_LongFile})),__webpack_require__.d(__webpack_exports__,"LongFileWithMessages",(function(){return CodeOverview_stories_LongFileWithMessages}));var defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),linter=__webpack_require__("./src/reducers/linter.tsx"),long_file_sample="import type {BrowserTab} from './tab';\n\nexport type TabListMessage = {|\n  action: 'tabListChanged',\n  data: {tabs: Array<BrowserTab>},\n|};\n\nclass Background {\n  tabList: Array<BrowserTab>;\n  visitedTabs: Array<BrowserTab>;\n  popupIsOpen: boolean;\n\n  constructor() {\n    this.visitedTabs = [];\n    this.tabList = [];\n    this.popupIsOpen = false;\n\n    chrome.tabs.onActivated.addListener(this.onActivated);\n    chrome.tabs.onUpdated.addListener(this.onTabsUpdated);\n    chrome.tabs.onRemoved.addListener(this.onTabRemoved);\n\n    chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n      if (!message.background) {\n        return;\n      }\n      console.log('Background: got message:', message);\n\n      let readMessage;\n      switch (message.action) {\n        case 'getTabs':\n          readMessage = this.getTabsForPopup();\n          break;\n        case 'openPopup':\n          readMessage = this.onPopupOpen();\n          break;\n        case 'closePopup':\n          readMessage = this.onPopupClose();\n          break;\n        default:\n          throw new Error(\n            `Background got an unexpected action`);\n      }\n\n      readMessage.then(reply => sendResponse(reply))\n        .catch(error => {\n          console.error('Background: error reading message', error);\n        });\n\n      return true;\n    });\n  }\n\n  onPopupOpen() {\n    this.popupIsOpen = true;\n    return Promise.resolve();\n  }\n\n  onPopupClose() {\n    this.popupIsOpen = false;\n    return Promise.resolve();\n  }\n\n  sendToPopup(message) {\n    return new Promise((resolve, reject) => {\n      const id = undefined;\n      const options = undefined;\n      chrome.runtime.sendMessage(\n        id,\n        {\n          popup: true,\n          ...message,\n        },\n        options,\n        (result) => {\n          if (chrome.runtime.lastError) {\n            console.log(\n              'background: got error:', chrome.runtime.lastError);\n            reject(chrome.runtime.lastError);\n          } else {\n            resolve(result);\n          }\n        }\n      );\n    });\n  }\n\n  onTabsUpdated = (tabId, changeInfo, tab) => {\n    console.log(`background: Tab was updated`, changeInfo);\n    this.visitedTabs = this.visitedTabs.map(\n      oldTab => oldTab.id === tab.id ? tab : oldTab);\n    this.tabList = this.tabList.map(\n      oldTab => oldTab.id === tab.id ? tab : oldTab);\n\n    if (this.popupIsOpen) {\n      const message: TabListMessage = {\n        action: 'tabListChanged',\n        data: {tabs: this.tabList},\n      };\n      this.sendToPopup(message);\n    }\n  }\n\n  onTabRemoved = (tabId) => {\n    console.log(`background: Tab was removed`);\n    this.visitedTabs = this.visitedTabs.filter(tab => tab.id !== tabId);\n    this.tabList = this.tabList.filter(tab => tab.id !== tabId);\n\n    if (this.popupIsOpen) {\n      this.sendToPopup({\n        action: 'tabListChanged',\n        data: {tabs: this.tabList},\n      });\n    }\n  }\n\n  onActivated = (activeInfo) => {\n    const {tabId} = activeInfo\n    this.getTab(tabId).then(tab => {\n      this.visitedTabs.unshift(tab);\n      if (this.visitedTabs.length > 2) {\n        this.visitedTabs.pop();\n      }\n      console.log(`background: Active tab changed`);\n    });\n  }\n\n  getTab(tabId) {\n    return new Promise((resolve, reject) => {\n      chrome.tabs.get(tabId, tab => {\n        if (chrome.runtime.lastError) {\n          return reject(chrome.runtime.lastError);\n        }\n        resolve(tab);\n      });\n    });\n  }\n\n  queryTabs(query) {\n    return new Promise((resolve, reject) => {\n      chrome.tabs.query(query, tabs => {\n        if (chrome.runtime.lastError) {\n          return reject(chrome.runtime.lastError);\n        }\n        resolve(tabs);\n      });\n    });\n  }\n\n  getTabsForPopup = () => {\n    return this.queryTabs({audible: true})\n      .then((audibleTabs) => {\n        const newTabList = [];\n        if (this.visitedTabs[1]) {\n          // Put the last viewed site at the top of the list so you\n          // can easily jump between what you're working on and what\n          // you're listening to.\n          newTabList.push(this.visitedTabs[1]);\n        }\n\n        function addUniqueTabs(tabList) {\n          const existingIds = new Set(newTabList.map(tab => tab.id));\n          tabList.forEach(tab => {\n            if (!existingIds.has(tab.id)) {\n              newTabList.push(tab);\n            }\n          });\n        }\n\n        addUniqueTabs(audibleTabs);\n        // Keep inaudible tabs around since the music may have just been paused\n        addUniqueTabs(this.tabList);\n\n        while (newTabList.length > 10) {\n          newTabList.pop();\n        }\n\n        this.tabList = newTabList;\n        return this.tabList;\n      })\n      .catch((error) => {\n        console.log('background: getTabsForPopup: error:', error);\n      });\n  }\n\n  listen() {\n    console.log('background: listening for info about audible websites');\n  }\n}\n\nconst background = new Background();\nbackground.listen();\n",FullscreenGrid=__webpack_require__("./src/components/FullscreenGrid/index.tsx"),ContentShell=__webpack_require__("./src/components/FullscreenGrid/ContentShell.tsx"),CodeView=__webpack_require__("./src/components/CodeView/index.tsx"),configureStore=__webpack_require__("./src/configureStore.tsx"),versions=__webpack_require__("./src/reducers/versions.tsx"),js_sample=__webpack_require__("./src/stories/fixtures/js-sample.tsx"),test_helpers=__webpack_require__("./src/test-helpers.tsx"),storybook_utils=__webpack_require__("./src/storybook-utils.tsx"),createForOfIteratorHelper=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),classCallCheck=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),inherits=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),loglevel=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel_default=__webpack_require__.n(loglevel),Link=__webpack_require__("./node_modules/react-router-dom/es/Link.js"),withRouter=__webpack_require__("./node_modules/react-router-dom/es/withRouter.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),lodash_chunk=__webpack_require__("./node_modules/lodash.chunk/index.js"),lodash_chunk_default=__webpack_require__.n(lodash_chunk),lodash_debounce=__webpack_require__("./node_modules/lodash.debounce/index.js"),lodash_debounce_default=__webpack_require__.n(lodash_debounce),utils=__webpack_require__("./src/components/CodeView/utils.tsx"),styles_module=__webpack_require__("./src/components/CodeOverview/styles.module.scss"),styles_module_default=__webpack_require__.n(styles_module),src_utils=__webpack_require__("./src/utils.tsx"),LinterProvider=__webpack_require__("./src/components/LinterProvider/index.tsx"),CodeLineShapes=__webpack_require__("./src/components/CodeLineShapes/index.tsx"),CodeLineShapes_utils=__webpack_require__("./src/components/CodeLineShapes/utils.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),CodeOverview_CodeOverviewBase=function(_React$Component){Object(inherits.a)(CodeOverviewBase,_React$Component);var _super=Object(createSuper.a)(CodeOverviewBase);function CodeOverviewBase(props){var _this;return Object(classCallCheck.a)(this,CodeOverviewBase),(_this=_super.call(this,props)).overviewRef=void 0,_this.resetOverviewHeight=function(){_this.setState({overviewHeight:null})},_this.setOverviewHeight=function(){var overviewHeight=_this.state.overviewHeight,ref=_this.overviewRef;if(ref&&ref.current){var refHeight=ref.current.clientHeight;overviewHeight!==refHeight&&_this.setState({overviewHeight:refHeight})}},_this.waitAndSetNewOverviewHeight=_this.props._debounce((function(){return _this.setOverviewHeight()}),200),_this.renderWithLinterInfo=function(_ref){var selectedMessageMap=_ref.selectedMessageMap;return Object(jsx_runtime.jsx)("div",{ref:_this.overviewRef,className:styles_module_default.a.CodeOverview,style:{padding:"".concat(_this.props.overviewPadding,"px")},children:_this.renderOverview(selectedMessageMap)})},_this.state={overviewHeight:null},_this.overviewRef=_this.props.createOverviewRef(),_this}return Object(createClass.a)(CodeOverviewBase,[{key:"componentDidMount",value:function componentDidMount(){var _window=this.props._window;this.setOverviewHeight(),_window.addEventListener("resize",this.resetOverviewHeight),_window.addEventListener("resize",this.waitAndSetNewOverviewHeight)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.setOverviewHeight()}},{key:"componentWillUnmount",value:function componentWillUnmount(){var _window=this.props._window;_window.removeEventListener("resize",this.resetOverviewHeight),_window.removeEventListener("resize",this.waitAndSetNewOverviewHeight)}},{key:"fitLineShapesIntoOverview",value:function fitLineShapesIntoOverview(allLineShapes){var _this$props=this.props,overviewPadding=_this$props.overviewPadding,rowHeight=_this$props.rowHeight,rowTopPadding=_this$props.rowTopPadding,overviewHeight=this.state.overviewHeight;if(!overviewHeight)throw new Error("overviewHeight must be set when calling fitLineShapesIntoOverview()");var availableHeight=overviewHeight-2*overviewPadding-rowTopPadding,numberOfRows=Math.floor(availableHeight/rowHeight),chunkSize=1;return allLineShapes.length>numberOfRows&&(chunkSize=Math.ceil(allLineShapes.length/numberOfRows)),{numberOfRows:numberOfRows,chunkedLineShapes:lodash_chunk_default()(allLineShapes,chunkSize)}}},{key:"renderRow",value:function renderRow(selectedMessageMap,rowIndex,shapeIndex,groupOflineShapes,insertedLines){if(!groupOflineShapes)return null;if(insertedLines.length){var _step,_iterator=Object(createForOfIteratorHelper.a)(groupOflineShapes);try{for(_iterator.s();!(_step=_iterator.n()).done;){var shape=_step.value;if(insertedLines.includes(shape.line))return Object(jsx_runtime.jsx)(CodeLineShapes.a,{isChange:!0,lineShapes:shape})}}catch(err){_iterator.e(err)}finally{_iterator.f()}}var messages=selectedMessageMap?groupOflineShapes.reduce((function(matches,shape){var allMatches=matches;return 1===shape.line&&selectedMessageMap.global.length&&(allMatches=allMatches.concat(selectedMessageMap.global)),selectedMessageMap.byLine[shape.line]&&(allMatches=allMatches.concat(selectedMessageMap.byLine[shape.line])),allMatches}),[]):[];if(messages.length){var _makeClassName,type=Object(linter.e)(messages);return Object(jsx_runtime.jsx)("div",{className:classnames_default()(styles_module_default.a.linterMessage,(_makeClassName={},Object(defineProperty.a)(_makeClassName,styles_module_default.a.linterError,"error"===type),Object(defineProperty.a)(_makeClassName,styles_module_default.a.linterWarning,"warning"===type),Object(defineProperty.a)(_makeClassName,styles_module_default.a.linterNotice,"notice"===type),_makeClassName))},messages.map((function(m){return m.uid})).join(":"))}var lineShapes=groupOflineShapes[shapeIndex];return Object(jsx_runtime.jsx)(CodeLineShapes.a,{lineShapes:lineShapes})}},{key:"renderOverview",value:function renderOverview(selectedMessageMap){var _this2=this,_this$props2=this.props,_document=_this$props2._document,content=_this$props2.content,getCodeLineAnchor=_this$props2.getCodeLineAnchor,insertedLines=_this$props2.insertedLines,location=_this$props2.location,rowHeight=_this$props2.rowHeight,rowTopPadding=_this$props2.rowTopPadding;if(!this.state.overviewHeight)return null;for(var allLineShapes=Object(CodeLineShapes_utils.b)(Object(utils.d)(content)),_this$fitLineShapesIn=this.fitLineShapesIntoOverview(allLineShapes),numberOfRows=_this$fitLineShapesIn.numberOfRows,chunkedLineShapes=_this$fitLineShapesIn.chunkedLineShapes,overview=[],_loop=function _loop(rowIndex){var shapes=chunkedLineShapes[rowIndex],line=shapes&&shapes.length?shapes[0].line:void 0,linkableLine=line;if(line&&insertedLines.length){var firstChange=shapes.filter((function(s){return insertedLines.includes(s.line)}))[0];firstChange&&(linkableLine=firstChange.line)}else if(line&&1===line&&selectedMessageMap&&selectedMessageMap.global.length)linkableLine=utils.a;else if(line&&selectedMessageMap){var firstMsg=shapes.filter((function(s){return selectedMessageMap.byLine[s.line]}))[0];firstMsg&&(linkableLine=firstMsg.line)}var codeLineAnchor=void 0!==linkableLine?getCodeLineAnchor(linkableLine):null;overview.push(Object(jsx_runtime.jsx)(Link.a,{className:styles_module_default.a.line,to:Object(objectSpread2.a)(Object(objectSpread2.a)({},location),{},{hash:codeLineAnchor||"#"}),onClick:function scrollToLine(event){if(codeLineAnchor){var domLine=_document.querySelector(codeLineAnchor);domLine?domLine.scrollIntoView():loglevel_default.a.error('Anchor "'.concat(codeLineAnchor,'" unexpectedly does not exist on the page'))}else event.preventDefault()},style:{height:"".concat(rowHeight,"px"),paddingTop:rowIndex>0?"".concat(rowTopPadding,"px"):void 0},title:line?Object(src_utils.m)("Jump to line ".concat(line)):"",children:_this2.renderRow(selectedMessageMap,rowIndex,0,shapes,insertedLines)},rowIndex))},rowIndex=0;rowIndex<numberOfRows;rowIndex++)_loop(rowIndex);return overview}},{key:"render",value:function render(){var _this3=this,overviewHeight=this.state.overviewHeight,version=this.props.version;return Object(jsx_runtime.jsx)(LinterProvider.a,{version:version,selectedPath:version.selectedPath,children:function children(info){return _this3.renderWithLinterInfo(info)}},overviewHeight?String(overviewHeight):"")}}]),CodeOverviewBase}(react.Component);CodeOverview_CodeOverviewBase.defaultProps={_debounce:lodash_debounce_default.a,_document:document,_window:window,createOverviewRef:function createOverviewRef(){return react.createRef()},getCodeLineAnchor:utils.b,insertedLines:[],overviewPadding:10,rowTopPadding:2,rowHeight:10};var CodeOverview=Object(withRouter.a)(CodeOverview_CodeOverviewBase);try{CodeOverview_CodeOverviewBase.displayName="CodeOverviewBase",CodeOverview_CodeOverviewBase.__docgenInfo={description:"",displayName:"CodeOverviewBase",props:{content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"Version"}},_debounce:{defaultValue:null,description:"",name:"_debounce",required:!0,type:{name:"<T extends (...args: any) => any>(func: T, wait?: number | undefined, options?: DebounceSettings | undefined) => DebouncedFunc<T>"}},_document:{defaultValue:null,description:"",name:"_document",required:!0,type:{name:"Document"}},_window:{defaultValue:null,description:"",name:"_window",required:!0,type:{name:"{ addEventListener: { <K extends keyof WindowEventMap>(type: K, listener: (this: Window, ev: WindowEventMap[K]) => any, options?: boolean | AddEventListenerOptions | undefined): void; (type: string, listener: EventListenerOrEventListenerObject, options?: boolean | ... 1 more ... | undefined): void; } & { ...; }; rem..."}},createOverviewRef:{defaultValue:{value:"() => React.createRef<HTMLDivElement>()"},description:"",name:"createOverviewRef",required:!1,type:{name:"() => RefObject<HTMLDivElement> | null"}},getCodeLineAnchor:{defaultValue:{value:"(line: number) => {\n  return `#${getCodeLineAnchorID(line)}`;\n}"},description:"",name:"getCodeLineAnchor",required:!1,type:{name:"(line: number) => string"}},insertedLines:{defaultValue:{value:"[]"},description:"",name:"insertedLines",required:!1,type:{name:"number[]"}},overviewPadding:{defaultValue:{value:"10"},description:"",name:"overviewPadding",required:!1,type:{name:"number"}},rowTopPadding:{defaultValue:{value:"2"},description:"",name:"rowTopPadding",required:!1,type:{name:"number"}},rowHeight:{defaultValue:{value:"10"},description:"",name:"rowHeight",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CodeOverview/index.tsx#CodeOverviewBase"]={docgenInfo:CodeOverview_CodeOverviewBase.__docgenInfo,name:"CodeOverviewBase",path:"src/components/CodeOverview/index.tsx#CodeOverviewBase"})}catch(__react_docgen_typescript_loader_error){}var CodeOverview_stories_render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$content=_ref.content,content=void 0===_ref$content?js_sample.a:_ref$content,_ref$messages=_ref.messages,messages=void 0===_ref$messages?[]:_ref$messages,_ref$store=_ref.store,store=void 0===_ref$store?Object(configureStore.a)():_ref$store,path="background.js",version=Object(versions.e)(Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.m),{},{file:Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.l),{},{selected_file:path}),file_entries:Object(defineProperty.a)({},path,Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.k),{},{path:path}))}));if(messages.length){var result=Object(test_helpers.b)({messages:messages.map((function(msg){return Object(objectSpread2.a)(Object(objectSpread2.a)({uid:Object(storybook_utils.e)()},msg),{},{file:path})}))});store.dispatch(linter.a.loadLinterResult({versionId:version.id,result:result}))}return Object(storybook_utils.f)(Object(jsx_runtime.jsxs)(FullscreenGrid.b,{children:[Object(jsx_runtime.jsx)(FullscreenGrid.a,{}),Object(jsx_runtime.jsx)(ContentShell.a,{altSidePanel:Object(jsx_runtime.jsx)(CodeOverview,{content:content,version:version}),children:Object(jsx_runtime.jsx)(CodeView.a,{content:content,isMinified:!1,mimeType:"application/javascript",version:version})})]}),{store:store})},CodeOverview_stories_ShortFile=(__webpack_exports__.default={title:"Components/CodeOverview",component:CodeOverview},function ShortFile(){return CodeOverview_stories_render({content:js_sample.a})}),CodeOverview_stories_LongFile=function LongFile(){return CodeOverview_stories_render({content:long_file_sample})},CodeOverview_stories_LongFileWithMessages=function LongFileWithMessages(){return CodeOverview_stories_render({content:long_file_sample,messages:[{line:27,type:"warning",message:"Use of console.log() detected",description:["This call to console.log() is pretty much Okay."]},{line:66,type:"notice",message:"Bizarre use of undefined",description:["...but I guess it's fine"]},{line:151,type:"error",message:"Use of queryTabs() is not permitted",description:["Calls to queryTabs() will not work in a future version"]}]})}},"./src/components/CodeOverview/styles.module.scss":function(module,exports,__webpack_require__){module.exports={CodeOverview:"styles_CodeOverview__2oN8U",line:"styles_line__262YR",linterMessage:"styles_linterMessage__3k7fe",linterError:"styles_linterError__4ysjJ",linterNotice:"styles_linterNotice__1pruk",linterWarning:"styles_linterWarning__1GnVO"}},"./src/components/CodeView/CodeView.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MimeTypeUnsupported",(function(){return MimeTypeUnsupported})),__webpack_require__.d(__webpack_exports__,"MimeTypeJavascript",(function(){return MimeTypeJavascript})),__webpack_require__.d(__webpack_exports__,"MimeTypeCss",(function(){return MimeTypeCss})),__webpack_require__.d(__webpack_exports__,"OneGlobalLinterMessage",(function(){return OneGlobalLinterMessage})),__webpack_require__.d(__webpack_exports__,"MultipleGlobalLinterMessages",(function(){return MultipleGlobalLinterMessages})),__webpack_require__.d(__webpack_exports__,"OneLinterMessageOnOneLine",(function(){return OneLinterMessageOnOneLine})),__webpack_require__.d(__webpack_exports__,"MultipleLinterMessagesOnOneLine",(function(){return MultipleLinterMessagesOnOneLine})),__webpack_require__.d(__webpack_exports__,"MultipleLinterMessagesOnMultipleLines",(function(){return MultipleLinterMessagesOnMultipleLines})),__webpack_require__.d(__webpack_exports__,"LongLineWithALinterMessage",(function(){return LongLineWithALinterMessage})),__webpack_require__.d(__webpack_exports__,"CodeWithTabCharacters",(function(){return CodeWithTabCharacters})),__webpack_require__.d(__webpack_exports__,"LongLineWithoutAnyLineBreaksAndALinterMessage",(function(){return LongLineWithoutAnyLineBreaksAndALinterMessage}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_configureStore__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/configureStore.tsx")),_FullscreenGrid__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/FullscreenGrid/index.tsx"),_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/FullscreenGrid/ContentShell.tsx"),_reducers_linter__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/reducers/linter.tsx"),_reducers_versions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/reducers/versions.tsx"),_stories_fixtures_js_sample__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/stories/fixtures/js-sample.tsx"),_stories_fixtures_long_unbroken_minified_diff__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/stories/fixtures/long-unbroken-minified-diff.tsx"),_storybook_utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/storybook-utils.tsx"),_test_helpers__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/test-helpers.tsx"),___WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/components/CodeView/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["content","store"],_excluded2=["content","store"],render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$content=_ref.content,content=void 0===_ref$content?_stories_fixtures_js_sample__WEBPACK_IMPORTED_MODULE_9__.a:_ref$content,_ref$store=_ref.store,store=void 0===_ref$store?Object(_configureStore__WEBPACK_IMPORTED_MODULE_4__.a)():_ref$store,moreProps=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_ref,_excluded),props=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({content:content,isMinified:!1,mimeType:"application/javascript",version:Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_8__.e)(_test_helpers__WEBPACK_IMPORTED_MODULE_12__.m)},moreProps);return Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_11__.f)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(_FullscreenGrid__WEBPACK_IMPORTED_MODULE_5__.b,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_FullscreenGrid__WEBPACK_IMPORTED_MODULE_5__.a,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_6__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(___WEBPACK_IMPORTED_MODULE_13__.a,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},props))})]}),{store:store})},renderJSWithMessages=function renderJSWithMessages(messages){var _ref2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref2$content=_ref2.content,content=void 0===_ref2$content?_stories_fixtures_js_sample__WEBPACK_IMPORTED_MODULE_9__.a:_ref2$content,_ref2$store=_ref2.store,store=void 0===_ref2$store?Object(_configureStore__WEBPACK_IMPORTED_MODULE_4__.a)():_ref2$store,moreProps=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_ref2,_excluded2),path="lib/some-file.js",version=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_8__.e)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_test_helpers__WEBPACK_IMPORTED_MODULE_12__.m),{},{file:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_test_helpers__WEBPACK_IMPORTED_MODULE_12__.l),{},{selected_file:path}),file_entries:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},path,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_test_helpers__WEBPACK_IMPORTED_MODULE_12__.k),{},{path:path}))})),result=Object(_test_helpers__WEBPACK_IMPORTED_MODULE_12__.b)({messages:messages.map((function(msg){return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({uid:Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_11__.e)()},msg),{},{file:path})}))});return store.dispatch(_reducers_linter__WEBPACK_IMPORTED_MODULE_7__.a.loadLinterResult({versionId:version.id,result:result})),render(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({store:store,content:content,mimeType:"application/javascript",version:version},moreProps))};__webpack_exports__.default={title:"Components/CodeView",component:___WEBPACK_IMPORTED_MODULE_13__.a};var MimeTypeUnsupported=function MimeTypeUnsupported(){return render({mimeType:"",content:_stories_fixtures_js_sample__WEBPACK_IMPORTED_MODULE_9__.a})},MimeTypeJavascript=function MimeTypeJavascript(){return render({mimeType:"application/javascript",content:_stories_fixtures_js_sample__WEBPACK_IMPORTED_MODULE_9__.a})},MimeTypeCss=function MimeTypeCss(){return render({mimeType:"text/css",content:"html, body {\n  width: 100px;\n}\n\n.hidden {\n  display: none;\n}"})},OneGlobalLinterMessage=function OneGlobalLinterMessage(){return renderJSWithMessages([{line:null,message:"The &#34;update_url&#34; property is not used by Firefox.",description:["The &#34;update_url&#34; is not used by Firefox in the root of a manifest; your add-on will be updated via the Add-ons site and not your &#34;update_url&#34;."],type:"warning"}])},MultipleGlobalLinterMessages=function MultipleGlobalLinterMessages(){return renderJSWithMessages([{line:null,message:"The &#34;update_url&#34; property is not used by Firefox.",description:["The &#34;update_url&#34; is not used by Firefox in the root of a manifest; your add-on will be updated via the Add-ons site and not your &#34;update_url&#34;."],type:"warning"},{line:null,message:"/permissions: Unknown permissions &#34;unlimitedStorage&#34; at 8.",description:["See ... for more information."],type:"notice"}])},OneLinterMessageOnOneLine=function OneLinterMessageOnOneLine(){return renderJSWithMessages([{line:7,message:"document.querySelector() detected",description:["Pretty sweet call to document.querySelector(). Nice."],type:"notice"}])},MultipleLinterMessagesOnOneLine=function MultipleLinterMessagesOnOneLine(){return renderJSWithMessages([{line:7,message:"document.querySelector() detected",description:["Pretty sweet call to document.querySelector(). Nice."],type:"notice"},{line:7,message:"classList.remove() considered harmful",description:["Calling element.classList.remove() is harmful but not really."],type:"error"}])},MultipleLinterMessagesOnMultipleLines=function MultipleLinterMessagesOnMultipleLines(){return renderJSWithMessages([{line:7,message:"document.querySelector() detected",description:["Pretty sweet call to document.querySelector(). Nice."],type:"notice"},{line:18,message:"browser.tabs.executeScript() is deprecated",description:["browser.tabs.executeScript() will not be supported in the near future. Just kidding."],type:"warning"}])},LongLineWithALinterMessage=function LongLineWithALinterMessage(){return renderJSWithMessages([{line:1,message:"Long line detected",description:["This is a long line of code."],type:"notice"}],{content:'const message = "'.concat(_storybook_utils__WEBPACK_IMPORTED_MODULE_11__.d.trim().replace(/\n/g," "),'";')})},CodeWithTabCharacters=function CodeWithTabCharacters(){return render({mimeType:"application/javascript",content:"\n          \t// This should be indented for each code level.\n          \tfunction log(msg, debug = false) {\n          \t\tif (debug) {\n          \t\t\tconsole.log(msg);\n          \t\t}\n          \t}"})},LongLineWithoutAnyLineBreaksAndALinterMessage=function LongLineWithoutAnyLineBreaksAndALinterMessage(){return renderJSWithMessages([{line:1,message:"Minified code detected",description:["You do not need to minify add-on code."],type:"notice"}],{content:_stories_fixtures_long_unbroken_minified_diff__WEBPACK_IMPORTED_MODULE_10__.a})}},"./src/components/CodeView/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-router-dom/es/Link.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-router-dom/es/withRouter.js"),classnames__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__),_styles_module_scss__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/CodeView/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_9__),_Commentable__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/Commentable/index.tsx"),_CommentList__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/CommentList/index.tsx"),_FadableContent__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/components/FadableContent/index.tsx"),_LinterMessage__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/components/LinterMessage/index.tsx"),_utils__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/components/CodeView/utils.tsx"),_refractor__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/refractor/index.tsx"),_utils__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/utils.tsx"),_LinterProvider__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/components/LinterProvider/index.tsx"),_GlobalLinterMessages__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/components/GlobalLinterMessages/index.tsx"),_SlowPageAlert__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/components/SlowPageAlert/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/react/jsx-runtime.js"),renderCode=function renderCode(_ref){var code=_ref.code,language=_ref.language,ast=_refractor__WEBPACK_IMPORTED_MODULE_15__.a.highlight(code,language),value=0===ast.length?code:ast.map(Object(_utils__WEBPACK_IMPORTED_MODULE_14__.e)(0));return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("pre",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.highlightedCode,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("code",{className:classnames__WEBPACK_IMPORTED_MODULE_8___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.innerHighlightedCode,"language-".concat(language)),children:value})})},isLineSelected=function isLineSelected(id,location){return"#".concat(id)===location.hash},scrollToSelectedLine=function scrollToSelectedLine(element){element&&element.scrollIntoView()},trimCode=function trimCode(content){return"".concat(content.substring(0,_utils__WEBPACK_IMPORTED_MODULE_16__.b)," ").concat(_utils__WEBPACK_IMPORTED_MODULE_16__.f)},CodeViewBase=function(_React$Component){Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__.a)(CodeViewBase,_React$Component);var _super=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__.a)(CodeViewBase);function CodeViewBase(){var _this;Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,CodeViewBase);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).onRenderProfiler=function(id,phase,actualDuration){_this.props._sendPerfTiming({actualDuration:actualDuration,id:id})},_this.renderWithLinterInfo=function(_ref2){var slowAlert,selectedMessageMap=_ref2.selectedMessageMap,_this$props=_this.props,_codeShouldBeTrimmed=_this$props._codeShouldBeTrimmed,_trimCode=_this$props._trimCode,_trimmedCharCount=_this$props._trimmedCharCount,_scrollToSelectedLine=_this$props._scrollToSelectedLine,_slowLoadingLineCount=_this$props._slowLoadingLineCount,content=_this$props.content,enableCommenting=_this$props.enableCommenting,isMinified=_this$props.isMinified,location=_this$props.location,mimeType=_this$props.mimeType,version=_this$props.version,language=Object(_utils__WEBPACK_IMPORTED_MODULE_16__.k)(mimeType),codeLines=Object(_utils__WEBPACK_IMPORTED_MODULE_14__.d)(content),codeWasTrimmed=!1;return _codeShouldBeTrimmed({codeCharLength:content.length,codeLineLength:codeLines.length,isMinified:isMinified,trimmedCharCount:_trimmedCharCount,slowLoadingLineCount:_slowLoadingLineCount})&&(Object(_utils__WEBPACK_IMPORTED_MODULE_16__.s)({location:location})||(codeLines=Object(_utils__WEBPACK_IMPORTED_MODULE_14__.d)(_trimCode(content)),codeWasTrimmed=!0),slowAlert=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_SlowPageAlert__WEBPACK_IMPORTED_MODULE_19__.a,{getMessage:function getMessage(allowSlowPages){return allowSlowPages?Object(_utils__WEBPACK_IMPORTED_MODULE_16__.m)("This file may be loading slowly."):Object(_utils__WEBPACK_IMPORTED_MODULE_16__.m)("This file has been shortened to load faster.")},getLinkText:function getLinkText(allowSlowPages){return allowSlowPages?Object(_utils__WEBPACK_IMPORTED_MODULE_16__.m)("View a shortened file."):Object(_utils__WEBPACK_IMPORTED_MODULE_16__.m)("View the original file.")}})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_GlobalLinterMessages__WEBPACK_IMPORTED_MODULE_18__.a,{containerRef:isLineSelected(Object(_utils__WEBPACK_IMPORTED_MODULE_14__.c)(_utils__WEBPACK_IMPORTED_MODULE_14__.a),location)?_scrollToSelectedLine:void 0,messages:selectedMessageMap&&selectedMessageMap.global},location.key),slowAlert,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_FadableContent__WEBPACK_IMPORTED_MODULE_12__.a,{fade:codeWasTrimmed,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.CodeView,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("table",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.table,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("colgroup",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("col",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.lineNumberCol}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("col",{})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("tbody",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.tableBody,children:codeLines.map((function(code,i){var shellRef,line=i+1,id=Object(_utils__WEBPACK_IMPORTED_MODULE_14__.c)(line),className=_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.line;return isLineSelected(id,location)&&(className=classnames__WEBPACK_IMPORTED_MODULE_8___default()(className,_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.selectedLine),shellRef=_scrollToSelectedLine),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(react__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_Commentable__WEBPACK_IMPORTED_MODULE_10__.b,{as:"tr",id:id,className:className,line:line,fileName:version.selectedPath,shellRef:shellRef,versionId:version.id,children:function children(addCommentButton){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("td",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.lineNumber,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.lineNumberLink,to:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},location),{},{hash:Object(_utils__WEBPACK_IMPORTED_MODULE_14__.b)(line)}),children:"".concat(line)}),enableCommenting&&addCommentButton]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("td",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.code,children:renderCode({code:code,language:language})})]})}}),selectedMessageMap&&selectedMessageMap.byLine[line]&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("tr",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("td",{id:"line-".concat(line,"-messages"),className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.linterMessages,colSpan:2,children:selectedMessageMap.byLine[line].map((function(msg){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_LinterMessage__WEBPACK_IMPORTED_MODULE_13__.b,{inline:!0,message:msg},msg.uid)}))})}),enableCommenting&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_CommentList__WEBPACK_IMPORTED_MODULE_11__.a,{addonId:version.addon.id,fileName:version.selectedPath,line:line,versionId:version.id,children:function children(commentList){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("tr",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("td",{colSpan:2,children:commentList})})}})]},"fragment-".concat(line))}))})]})})}),codeWasTrimmed&&slowAlert]})},_this}return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(CodeViewBase,[{key:"render",value:function render(){var _this2=this,version=this.props.version;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(react__WEBPACK_IMPORTED_MODULE_5__.Profiler,{id:"CodeView-Render",onRender:this.onRenderProfiler,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_LinterProvider__WEBPACK_IMPORTED_MODULE_17__.a,{version:version,selectedPath:version.selectedPath,children:function children(info){return _this2.renderWithLinterInfo(info)}})})}}]),CodeViewBase}(react__WEBPACK_IMPORTED_MODULE_5__.Component);CodeViewBase.defaultProps={_codeShouldBeTrimmed:_utils__WEBPACK_IMPORTED_MODULE_16__.e,_trimCode:trimCode,_trimmedCharCount:_utils__WEBPACK_IMPORTED_MODULE_16__.b,_scrollToSelectedLine:scrollToSelectedLine,_sendPerfTiming:_utils__WEBPACK_IMPORTED_MODULE_16__.r,_slowLoadingLineCount:_utils__WEBPACK_IMPORTED_MODULE_16__.a,enableCommenting:!0},__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_7__.a)(CodeViewBase);try{scrollToSelectedLine.displayName="scrollToSelectedLine",scrollToSelectedLine.__docgenInfo={description:"",displayName:"scrollToSelectedLine",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CodeView/index.tsx#scrollToSelectedLine"]={docgenInfo:scrollToSelectedLine.__docgenInfo,name:"scrollToSelectedLine",path:"src/components/CodeView/index.tsx#scrollToSelectedLine"})}catch(__react_docgen_typescript_loader_error){}try{trimCode.displayName="trimCode",trimCode.__docgenInfo={description:"",displayName:"trimCode",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CodeView/index.tsx#trimCode"]={docgenInfo:trimCode.__docgenInfo,name:"trimCode",path:"src/components/CodeView/index.tsx#trimCode"})}catch(__react_docgen_typescript_loader_error){}try{CodeViewBase.displayName="CodeViewBase",CodeViewBase.__docgenInfo={description:"",displayName:"CodeViewBase",props:{content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}},isMinified:{defaultValue:null,description:"",name:"isMinified",required:!0,type:{name:"boolean"}},mimeType:{defaultValue:null,description:"",name:"mimeType",required:!0,type:{name:"string"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"Version"}},_codeShouldBeTrimmed:{defaultValue:{value:"({\n  codeCharLength,\n  codeLineLength,\n  isMinified,\n  trimmedCharCount,\n  slowLoadingLineCount,\n}: {\n  codeCharLength: number;\n  codeLineLength: number;\n  isMinified: boolean;\n  trimmedCharCount: number;\n  slowLoadingLineCount: number;\n}) => {\n  return (\n    codeLineLength >= slowLoadingLineCount ||\n    (isMinified && codeCharLength > trimmedCharCount)\n  );\n}"},description:"",name:"_codeShouldBeTrimmed",required:!1,type:{name:"({ codeCharLength, codeLineLength, isMinified, trimmedCharCount, slowLoadingLineCount, }: { codeCharLength: number; codeLineLength: number; isMinified: boolean; trimmedCharCount: number; slowLoadingLineCount: number; }) => boolean"}},_trimCode:{defaultValue:{value:"(content: string) => {\n  return `${content.substring(0, TRIMMED_CHAR_COUNT)} ${contentAddedByTrimmer}`;\n}"},description:"",name:"_trimCode",required:!1,type:{name:"(content: string) => string"}},_trimmedCharCount:{defaultValue:{value:"300"},description:"",name:"_trimmedCharCount",required:!1,type:{name:"number"}},_scrollToSelectedLine:{defaultValue:{value:"(element: HTMLElement | null) => {\n  if (element) {\n    element.scrollIntoView();\n  }\n}"},description:"",name:"_scrollToSelectedLine",required:!1,type:{name:"(element: HTMLElement | null) => void"}},_sendPerfTiming:{defaultValue:{value:"({\n  _tracking = tracking,\n  _window = window,\n  actualDuration,\n  id,\n}: {\n  _tracking?: typeof tracking;\n  _window?: typeof window;\n  actualDuration: number;\n  id: string;\n}) => {\n  _tracking.timing({\n    category: 'renderPerf',\n    label: _window.location.href,\n    value: actualDuration,\n    variable: id,\n  });\n}"},description:"",name:"_sendPerfTiming",required:!1,type:{name:"({ _tracking, _window, actualDuration, id, }: { _tracking?: Tracking; _window?: (Window & typeof globalThis); actualDuration: number; id: string; }) => void"}},_slowLoadingLineCount:{defaultValue:{value:"5000"},description:"",name:"_slowLoadingLineCount",required:!1,type:{name:"number"}},enableCommenting:{defaultValue:{value:"process.env.REACT_APP_ENABLE_COMMENTING === 'true'"},description:"",name:"enableCommenting",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CodeView/index.tsx#CodeViewBase"]={docgenInfo:CodeViewBase.__docgenInfo,name:"CodeViewBase",path:"src/components/CodeView/index.tsx#CodeViewBase"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/CodeView/styles.module.scss":function(module,exports,__webpack_require__){module.exports={table:"styles_table__1-mH5",tableBody:"styles_tableBody__PTWx6",selectedLine:"styles_selectedLine__18JBH",lineNumber:"styles_lineNumber__3BgY8",lineNumberLink:"styles_lineNumberLink__1enZq",code:"styles_code__TPrX0",lineNumberCol:"styles_lineNumberCol__3Kxgw",highlightedCode:"styles_highlightedCode__j1rI_",innerHighlightedCode:"styles_innerHighlightedCode__1cXbq",linterMessages:"styles_linterMessages__1kpKr"}},"./src/components/CodeView/utils.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return mapWithDepth})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getLines})),__webpack_require__.d(__webpack_exports__,"a",(function(){return GLOBAL_LINTER_ANCHOR_ID})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getCodeLineAnchorID})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getCodeLineAnchor}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),mapChild=function mapChild(child,i,depth){if(child.tagName){var className=classnames__WEBPACK_IMPORTED_MODULE_2___default()(child.properties&&child.properties.className);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(child.tagName,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({key:"code-child-".concat(depth,"-").concat(i)},child.properties),{},{className:className}),child.children&&child.children.map(mapWithDepth(depth+1)))}return child.value},mapWithDepth=function mapWithDepth(depth){var _mapChild=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mapChild;return function(child,i){return _mapChild(child,i,depth)}},getLines=function getLines(content){return content?content.replace("\r\n","\n").split("\n"):[]},GLOBAL_LINTER_ANCHOR_ID=0,getCodeLineAnchorID=function getCodeLineAnchorID(line){return"I".concat(line)},getCodeLineAnchor=function getCodeLineAnchor(line){return"#".concat(getCodeLineAnchorID(line))};try{getLines.displayName="getLines",getLines.__docgenInfo={description:"",displayName:"getLines",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CodeView/utils.tsx#getLines"]={docgenInfo:getLines.__docgenInfo,name:"getLines",path:"src/components/CodeView/utils.tsx#getLines"})}catch(__react_docgen_typescript_loader_error){}try{getCodeLineAnchorID.displayName="getCodeLineAnchorID",getCodeLineAnchorID.__docgenInfo={description:"",displayName:"getCodeLineAnchorID",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CodeView/utils.tsx#getCodeLineAnchorID"]={docgenInfo:getCodeLineAnchorID.__docgenInfo,name:"getCodeLineAnchorID",path:"src/components/CodeView/utils.tsx#getCodeLineAnchorID"})}catch(__react_docgen_typescript_loader_error){}try{getCodeLineAnchor.displayName="getCodeLineAnchor",getCodeLineAnchor.__docgenInfo={description:"",displayName:"getCodeLineAnchor",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CodeView/utils.tsx#getCodeLineAnchor"]={docgenInfo:getCodeLineAnchor.__docgenInfo,name:"getCodeLineAnchor",path:"src/components/CodeView/utils.tsx#getCodeLineAnchor"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Comment/Comment.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AddingANewComment",(function(){return AddingANewComment})),__webpack_require__.d(__webpack_exports__,"EditingAComment",(function(){return EditingAComment})),__webpack_require__.d(__webpack_exports__,"SavingAComment",(function(){return SavingAComment})),__webpack_require__.d(__webpack_exports__,"ConsiderDiscardingAComment",(function(){return ConsiderDiscardingAComment})),__webpack_require__.d(__webpack_exports__,"ViewingAnExistingComment",(function(){return ViewingAnExistingComment})),__webpack_require__.d(__webpack_exports__,"ViewingAMultiLineComment",(function(){return ViewingAMultiLineComment})),__webpack_require__.d(__webpack_exports__,"ViewingAVeryLongComment",(function(){return ViewingAVeryLongComment})),__webpack_require__.d(__webpack_exports__,"ConsiderDeletingAComment",(function(){return ConsiderDeletingAComment})),__webpack_require__.d(__webpack_exports__,"DeletingAComment",(function(){return DeletingAComment}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_configureStore__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/configureStore.tsx")),_reducers_comments__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/reducers/comments.tsx"),_test_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/test-helpers.tsx"),_storybook_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/storybook-utils.tsx"),___WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Comment/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["considerDelete","deleting","fileName","initialComment","line","beginComment","store","versionId"],fakeComment=Object(_test_helpers__WEBPACK_IMPORTED_MODULE_5__.a)({comment:["The use of `eval()` is dangerous. ","It looks like you don't even need it here.","\n","Maybe you could remove it?"].join("")}),render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$considerDelete=_ref.considerDelete,considerDelete=void 0!==_ref$considerDelete&&_ref$considerDelete,_ref$deleting=_ref.deleting,deleting=void 0!==_ref$deleting&&_ref$deleting,_ref$fileName=_ref.fileName,fileName=void 0===_ref$fileName?null:_ref$fileName,initialComment=_ref.initialComment,_ref$line=_ref.line,line=void 0===_ref$line?null:_ref$line,_ref$beginComment=_ref.beginComment,beginComment=void 0!==_ref$beginComment&&_ref$beginComment,_ref$store=_ref.store,store=void 0===_ref$store?Object(_configureStore__WEBPACK_IMPORTED_MODULE_3__.a)():_ref$store,_ref$versionId=_ref.versionId,versionId=void 0===_ref$versionId?2:_ref$versionId,moreProps=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,_excluded),key={fileName:fileName,line:line,versionId:versionId},commentId=null;initialComment&&(store.dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_4__.a.setComments(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},key),{},{comments:[initialComment]}))),commentId=initialComment.id,considerDelete&&store.dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_4__.a.considerDeleteComment({commentId:commentId})),deleting&&store.dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_4__.a.beginDeleteComment({commentId:commentId}))),beginComment&&store.dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_4__.a.beginComment({commentId:commentId||void 0,fileName:fileName,line:line,versionId:versionId}));var props=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({addonId:1,commentId:commentId},key),moreProps);return Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_6__.f)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(___WEBPACK_IMPORTED_MODULE_7__.b,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},props)),{store:store})};__webpack_exports__.default={title:"Components/Comment",component:___WEBPACK_IMPORTED_MODULE_7__.a};var AddingANewComment=function AddingANewComment(){return render({beginComment:!0})},EditingAComment=function EditingAComment(){return render({initialComment:fakeComment,beginComment:!0})},SavingAComment=function SavingAComment(){var keyParams={commentId:void 0,fileName:null,line:null,versionId:1},store=Object(_configureStore__WEBPACK_IMPORTED_MODULE_3__.a)();return store.dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_4__.a.beginComment(keyParams)),store.dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_4__.a.beginSaveComment(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},keyParams),{},{pendingCommentText:"This call to browser.getFuzzTabs() has been deprecated."}))),render(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},keyParams),{},{store:store}))},ConsiderDiscardingAComment=function ConsiderDiscardingAComment(){var keyParams={commentId:void 0,fileName:null,line:null,versionId:1},store=Object(_configureStore__WEBPACK_IMPORTED_MODULE_3__.a)();return store.dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_4__.a.beginComment(keyParams)),store.dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_4__.a.considerDiscardComment(keyParams)),render(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},keyParams),{},{initialComment:fakeComment,store:store}))},ViewingAnExistingComment=function ViewingAnExistingComment(){return render({initialComment:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},fakeComment),{},{comment:"This is not allowed."})})},ViewingAMultiLineComment=function ViewingAMultiLineComment(){return render({initialComment:fakeComment})},ViewingAVeryLongComment=function ViewingAVeryLongComment(){return render({initialComment:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},fakeComment),{},{comment:_storybook_utils__WEBPACK_IMPORTED_MODULE_6__.d.replace(/[\n\s]+/g,"")})})},ConsiderDeletingAComment=function ConsiderDeletingAComment(){return render({considerDelete:!0,initialComment:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},fakeComment),{},{id:321,comment:"This function call is dangerous."})})},DeletingAComment=function DeletingAComment(){return render({deleting:!0,initialComment:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},fakeComment),{},{id:321,comment:"This function call is dangerous."})})}},"./src/components/Comment/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CommentBase}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__),react_redux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_textarea_autosize__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-textarea-autosize/dist/react-textarea-autosize.esm.browser.js"),react_bootstrap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-bootstrap/esm/Button.js"),react_bootstrap__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-bootstrap/esm/Form.js"),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),_reducers_comments__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/reducers/comments.tsx"),_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/utils.tsx"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/components/Comment/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_13__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react/jsx-runtime.js"),CommentBase=function(_React$Component){Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(CommentBase,_React$Component);var _super=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(CommentBase);function CommentBase(props){var _this;Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,CommentBase),(_this=_super.call(this,props)).textareaRef=_this.props.createTextareaRef?_this.props.createTextareaRef():react__WEBPACK_IMPORTED_MODULE_4__.createRef(),_this.keydownListener=function(event){event.stopPropagation()},_this.onCommentChange=function(event){event.preventDefault(),_this.setState({commentText:event.target.value})},_this.onAbortDelete=function(){var dispatch=_this.props.dispatch,initialComment=_this.getInitialCommentOrThrow();dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_11__.a.abortDeleteComment({commentId:initialComment.id}))},_this.onConsiderDelete=function(){var dispatch=_this.props.dispatch,initialComment=_this.getInitialCommentOrThrow();dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_11__.a.considerDeleteComment({commentId:initialComment.id}))},_this.onDelete=function(){var _this$props=_this.props,_deleteComment=_this$props._deleteComment,addonId=_this$props.addonId,dispatch=_this$props.dispatch,versionId=_this$props.versionId;dispatch(_deleteComment({addonId:addonId,commentId:_this.getInitialCommentOrThrow().id,versionId:versionId}))},_this.onSubmit=function(event){var _this$props2=_this.props,_manageComment=_this$props2._manageComment,addonId=_this$props2.addonId,dispatch=_this$props2.dispatch,fileName=_this$props2.fileName,initialComment=_this$props2.initialComment,line=_this$props2.line,versionId=_this$props2.versionId;event.preventDefault(),dispatch(_manageComment({addonId:addonId,cannedResponseId:void 0,comment:_this.state.commentText||"",commentId:initialComment?initialComment.id:void 0,fileName:fileName,line:line,versionId:versionId}))},_this.onEdit=function(){var _this$props3=_this.props,dispatch=_this$props3.dispatch,fileName=_this$props3.fileName,line=_this$props3.line,versionId=_this$props3.versionId,initialComment=_this.getInitialCommentOrThrow();dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_11__.a.beginComment({commentId:initialComment.id,fileName:fileName,line:line,versionId:versionId}))},_this.onConsiderDiscard=function(){var _this$props4=_this.props,commentId=_this$props4.commentId,dispatch=_this$props4.dispatch,fileName=_this$props4.fileName,line=_this$props4.line,versionId=_this$props4.versionId;dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_11__.a.considerDiscardComment({commentId:commentId||void 0,fileName:fileName,line:line,versionId:versionId}))},_this.onAbortDiscard=function(){var _this$props5=_this.props,commentId=_this$props5.commentId,dispatch=_this$props5.dispatch,fileName=_this$props5.fileName,line=_this$props5.line,versionId=_this$props5.versionId;dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_11__.a.abortDiscardComment({commentId:commentId||void 0,fileName:fileName,line:line,versionId:versionId}))},_this.onDiscard=function(){var _this$props6=_this.props,commentId=_this$props6.commentId,dispatch=_this$props6.dispatch,fileName=_this$props6.fileName,line=_this$props6.line,versionId=_this$props6.versionId;dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_11__.a.finishComment({commentId:commentId||void 0,fileName:fileName,line:line,versionId:versionId}))};var _initialComment=props.initialComment,initialCommentText=props.initialCommentText,commentText=_initialComment?_initialComment.content:void 0;return commentText||(commentText=initialCommentText||void 0),_this.state={commentText:commentText},_this}return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(CommentBase,[{key:"setupTextarea",value:function setupTextarea(){this.textareaRef&&this.textareaRef.current&&(this.textareaRef.current.focus(),this.textareaRef.current.removeEventListener("keydown",this.keydownListener),this.textareaRef.current.addEventListener("keydown",this.keydownListener))}},{key:"componentDidMount",value:function componentDidMount(){this.setupTextarea()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.setupTextarea()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.textareaRef&&this.textareaRef.current&&this.textareaRef.current.removeEventListener("keydown",this.keydownListener)}},{key:"getInitialCommentOrThrow",value:function getInitialCommentOrThrow(){var initialComment=this.props.initialComment;if(!initialComment)throw new Error("Cannot get initialComment because it is empty");return initialComment}},{key:"renderComment",value:function renderComment(){var initialComment=this.getInitialCommentOrThrow(),showCancel=!1,deleteIsDisabled=!1,deletePrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("Delete"),onDeleteClick=this.onConsiderDelete;return initialComment.considerDelete?(deletePrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("Confirm delete"),onDeleteClick=this.onDelete,showCancel=!0):initialComment.beginDelete&&(deletePrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("Deleting"),deleteIsDisabled=!0),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.comment,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.commentBody,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__.a,{flip:"horizontal",icon:["far","comment-alt"],pull:"left",size:"2x"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{dangerouslySetInnerHTML:Object(_utils__WEBPACK_IMPORTED_MODULE_12__.q)(Object(_utils__WEBPACK_IMPORTED_MODULE_12__.o)(initialComment.content),["br"])})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.commentControls,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.editButton),disabled:showCancel,onClick:this.onEdit,size:"sm",type:"button",children:Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("Edit")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.deleteButton),disabled:deleteIsDisabled,onClick:onDeleteClick,size:"sm",type:"button",variant:"danger",children:deletePrompt}),showCancel&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.cancelButton),onClick:this.onAbortDelete,size:"sm",type:"button",variant:"light",children:Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("Cancel")})]})]})}},{key:"renderForm",value:function renderForm(){var _this$props7=this.props,considerDiscard=_this$props7.considerDiscard,savingComment=_this$props7.savingComment,commentText=this.state.commentText,onDiscard=this.onConsiderDiscard,showAbortDiscard=!1,discardPrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("Discard");return considerDiscard&&(showAbortDiscard=!0,onDiscard=this.onDiscard,discardPrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("Confirm discard")),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.form,onSubmit:this.onSubmit,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_textarea_autosize__WEBPACK_IMPORTED_MODULE_7__.a,{disabled:savingComment||considerDiscard,onChange:this.onCommentChange,inputRef:this.textareaRef,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.textarea,minRows:3,value:commentText}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.saveButton),disabled:savingComment||considerDiscard,type:"submit",children:savingComment?Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("Saving"):Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("Save")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.discardButton),disabled:savingComment,onClick:onDiscard,type:"button",variant:"danger",children:discardPrompt}),showAbortDiscard&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.abortDiscardButton),onClick:this.onAbortDiscard,type:"button",variant:"light",children:Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("Cancel")})]})}},{key:"render",value:function render(){var _this$props8=this.props,className=_this$props8.className,showForm=_this$props8.showForm;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_5___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.container,className),children:showForm?this.renderForm():this.renderComment()})}}]),CommentBase}(react__WEBPACK_IMPORTED_MODULE_4__.Component);CommentBase.defaultProps={_deleteComment:_reducers_comments__WEBPACK_IMPORTED_MODULE_11__.e,_manageComment:_reducers_comments__WEBPACK_IMPORTED_MODULE_11__.g};__webpack_exports__.b=Object(react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)((function mapStateToProps(state,_ref){var initialComment,commentId=_ref.commentId,fileName=_ref.fileName,line=_ref.line,versionId=_ref.versionId;if(commentId&&!(initialComment=Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_11__.h)({comments:state.comments,id:commentId})))throw new Error("No comment was mapped for commentId=".concat(commentId));var info=Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_11__.i)({commentId:commentId||void 0,comments:state.comments,fileName:fileName,line:line,versionId:versionId});return{showForm:!!info&&info.beginNewComment,considerDiscard:!!info&&info.considerDiscard,initialComment:initialComment||null,initialCommentText:info?info.pendingCommentText:null,savingComment:!!info&&info.savingComment}}))(CommentBase);try{CommentBase.displayName="CommentBase",CommentBase.__docgenInfo={description:"",displayName:"CommentBase",props:{addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},commentId:{defaultValue:null,description:"",name:"commentId",required:!0,type:{name:"number | null"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | null"}},line:{defaultValue:null,description:"",name:"line",required:!0,type:{name:"number | null"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},_deleteComment:{defaultValue:{value:"({\n  _apiDeleteComment = apiDeleteComment,\n  addonId,\n  commentId,\n  versionId,\n}: {\n  _apiDeleteComment?: typeof apiDeleteComment;\n  addonId: number;\n  commentId: number;\n  versionId: number;\n}): ThunkActionCreator => {\n  return async (dispatch, getState) => {\n    const { api: apiState } = getState();\n\n    dispatch(actions.beginDeleteComment({ commentId }));\n\n    const response = await _apiDeleteComment({\n      addonId,\n      apiState,\n      commentId,\n      versionId,\n    });\n\n    if (isErrorResponse(response)) {\n      dispatch(actions.abortDeleteComment({ commentId }));\n      dispatch(errorsActions.addError({ error: response.error }));\n    } else {\n      dispatch(actions.unsetComment({ commentId }));\n    }\n  };\n}"},description:"",name:"_deleteComment",required:!1,type:{name:"({ _apiDeleteComment, addonId, commentId, versionId, }: { _apiDeleteComment?: (({ _callApi, addonId, commentId, apiState, versionId, }: { _callApi?: (<T extends { requestData: Record<string, unknown>; successfulResponse: unknown; }>({ _makeQueryString, apiState, bodyData, endpoint, endpointUrl, includeCr..."}},_manageComment:{defaultValue:{value:"({\n  /* istanbul ignore next */\n  _createOrUpdateComment = createOrUpdateComment,\n  addonId,\n  cannedResponseId,\n  comment,\n  commentId,\n  fileName,\n  line,\n  versionId,\n}: {\n  _createOrUpdateComment?: typeof createOrUpdateComment;\n  addonId: number;\n  cannedResponseId?: number;\n  comment?: string;\n  commentId: number | undefined;\n  fileName: string | null;\n  line: number | null;\n  versionId: number;\n}): ThunkActionCreator => {\n  return async (dispatch, getState) => {\n    const { api: apiState } = getState();\n\n    dispatch(\n      actions.beginSaveComment({\n        commentId,\n        versionId,\n        fileName,\n        line,\n        pendingCommentText: comment || null,\n      }),\n    );\n\n    const response = await _createOrUpdateComment({\n      addonId,\n      apiState,\n      cannedResponseId,\n      comment,\n      commentId,\n      fileName,\n      line,\n      versionId,\n    });\n\n    if (isErrorResponse(response)) {\n      dispatch(\n        actions.abortSaveComment({\n          versionId,\n          commentId,\n          fileName,\n          line,\n        }),\n      );\n      dispatch(errorsActions.addError({ error: response.error }));\n    } else {\n      dispatch(\n        actions.finishComment({\n          versionId,\n          commentId,\n          fileName,\n          line,\n        }),\n      );\n      dispatch(actions.setComments({ versionId, comments: [response] }));\n    }\n  };\n}"},description:"",name:"_manageComment",required:!1,type:{name:"({ _createOrUpdateComment, addonId, cannedResponseId, comment, commentId, fileName, line, versionId, }: { _createOrUpdateComment?: (({ _callApi, addonId, apiState, cannedResponseId, comment, commentId, fileName, line, versionId, }: { _callApi?: (<T extends { requestData: Record<string, unknown>; successf..."}},createTextareaRef:{defaultValue:null,description:"",name:"createTextareaRef",required:!1,type:{name:"(() => TextareaRef)"}},showForm:{defaultValue:null,description:"",name:"showForm",required:!0,type:{name:"boolean"}},considerDiscard:{defaultValue:null,description:"",name:"considerDiscard",required:!0,type:{name:"boolean"}},initialComment:{defaultValue:null,description:"",name:"initialComment",required:!0,type:{name:"Comment | null"}},initialCommentText:{defaultValue:null,description:"",name:"initialCommentText",required:!0,type:{name:"string | null"}},savingComment:{defaultValue:null,description:"",name:"savingComment",required:!0,type:{name:"boolean"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"ThunkDispatch<AnyAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Comment/index.tsx#CommentBase"]={docgenInfo:CommentBase.__docgenInfo,name:"CommentBase",path:"src/components/Comment/index.tsx#CommentBase"})}catch(__react_docgen_typescript_loader_error){}try{Comment.displayName="Comment",Comment.__docgenInfo={description:"",displayName:"Comment",props:{versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | null"}},line:{defaultValue:null,description:"",name:"line",required:!0,type:{name:"number | null"}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},commentId:{defaultValue:null,description:"",name:"commentId",required:!0,type:{name:"number | null"}},createTextareaRef:{defaultValue:null,description:"",name:"createTextareaRef",required:!1,type:{name:"(() => TextareaRef)"}},_deleteComment:{defaultValue:null,description:"",name:"_deleteComment",required:!1,type:{name:"(({ _apiDeleteComment, addonId, commentId, versionId, }: { _apiDeleteComment?: (({ _callApi, addonId, commentId, apiState, versionId, }: { _callApi?: (<T extends { requestData: Record<string, unknown>; successfulResponse: unknown; }>({ _makeQueryString, apiState, bodyData, endpoint, endpointUrl, includeC..."}},_manageComment:{defaultValue:null,description:"",name:"_manageComment",required:!1,type:{name:"(({ _createOrUpdateComment, addonId, cannedResponseId, comment, commentId, fileName, line, versionId, }: { _createOrUpdateComment?: (({ _callApi, addonId, apiState, cannedResponseId, comment, commentId, fileName, line, versionId, }: { _callApi?: (<T extends { requestData: Record<string, unknown>; success..."}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Comment/index.tsx#Comment"]={docgenInfo:Comment.__docgenInfo,name:"Comment",path:"src/components/Comment/index.tsx#Comment"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Comment/styles.module.scss":function(module,exports,__webpack_require__){module.exports={container:"styles_container__2aIkL",comment:"styles_comment__2i_P_",form:"styles_form__3MTgr",textarea:"styles_textarea__1quGx",commentBody:"styles_commentBody__1HUpS",commentControls:"styles_commentControls__1QDzl",controlButton:"styles_controlButton__3LExb"}},"./src/components/CommentList/CommentList.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"OneComment",(function(){return OneComment})),__webpack_require__.d(__webpack_exports__,"MultipleComments",(function(){return MultipleComments})),__webpack_require__.d(__webpack_exports__,"CommentEntryForm",(function(){return CommentEntryForm})),__webpack_require__.d(__webpack_exports__,"CommentEntryFormWithSavedComments",(function(){return CommentEntryFormWithSavedComments}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_configureStore__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/configureStore.tsx")),_reducers_comments__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/reducers/comments.tsx"),_storybook_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/storybook-utils.tsx"),_test_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/test-helpers.tsx"),___WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/CommentList/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["addonId","beginComment","comments","fileName","line","store","versionId"],render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$addonId=_ref.addonId,addonId=void 0===_ref$addonId?1:_ref$addonId,_ref$beginComment=_ref.beginComment,beginComment=void 0!==_ref$beginComment&&_ref$beginComment,_ref$comments=_ref.comments,comments=void 0===_ref$comments?[]:_ref$comments,_ref$fileName=_ref.fileName,fileName=void 0===_ref$fileName?null:_ref$fileName,_ref$line=_ref.line,line=void 0===_ref$line?null:_ref$line,_ref$store=_ref.store,store=void 0===_ref$store?Object(_configureStore__WEBPACK_IMPORTED_MODULE_4__.a)():_ref$store,_ref$versionId=_ref.versionId,versionId=void 0===_ref$versionId?2:_ref$versionId,moreProps=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_ref,_excluded);beginComment&&store.dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_5__.a.beginComment({commentId:void 0,fileName:fileName,line:line,versionId:versionId}));var _step,_iterator=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(comments);try{for(_iterator.s();!(_step=_iterator.n()).done;){var comment=_step.value;store.dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_5__.a.setComments({versionId:versionId,comments:[comment]}))}}catch(err){_iterator.e(err)}finally{_iterator.f()}var indent=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment,{children:""}),codeLine=function codeLine(){for(var _len=arguments.length,content=new Array(_len),_key=0;_key<_len;_key++)content[_key]=arguments[_key];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("p",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("code",{children:content})})},props=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({addonId:addonId,fileName:fileName,line:line,versionId:versionId},moreProps);return Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_6__.f)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"CommentListStory",children:[codeLine("body {"),codeLine(indent,"margin: 0;"),codeLine(indent,"padding: 0;"),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(___WEBPACK_IMPORTED_MODULE_8__.a,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},props),{},{children:function children(content){return content}})),codeLine(indent,'background-color: "fuschia";'),codeLine(indent,"box-sizing: border-box;"),codeLine("}"),codeLine(indent),codeLine("button {"),codeLine(indent,'color: "blue";'),codeLine("}")]}),{store:store})};__webpack_exports__.default={title:"Components/CommentList",component:___WEBPACK_IMPORTED_MODULE_8__.a};var OneComment=function OneComment(){return render({comments:[Object(_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({id:1,comment:"This is unnecessary due to the reset library up above"})]})},MultipleComments=function MultipleComments(){return render({comments:[Object(_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({id:1,comment:"This is unnecessary due to the reset library up above"}),Object(_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({id:2,comment:"Thanks for promptly addressing our other change requests"})]})},CommentEntryForm=function CommentEntryForm(){return render({beginComment:!0})},CommentEntryFormWithSavedComments=function CommentEntryFormWithSavedComments(){return render({beginComment:!0,comments:[Object(_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({id:1,comment:"This is unnecessary due to the reset library up above"}),Object(_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({id:2,comment:"Thanks for promptly addressing our other change requests"})]})}},"./src/components/CommentList/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-redux/es/index.js"),_reducers_comments__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/reducers/comments.tsx"),_Comment__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/Comment/index.tsx"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/CommentList/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react/jsx-runtime.js"),CommentListBase=function(_React$Component){Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(CommentListBase,_React$Component);var _super=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__.a)(CommentListBase);function CommentListBase(){return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,CommentListBase),_super.apply(this,arguments)}return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(CommentListBase,[{key:"componentDidMount",value:function componentDidMount(){this.loadData()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.loadData()}},{key:"loadData",value:function loadData(){var _this$props=this.props,_fetchAndLoadComments=_this$props._fetchAndLoadComments,addonId=_this$props.addonId,dispatch=_this$props.dispatch,versionHasComments=_this$props.versionHasComments,versionId=_this$props.versionId;void 0===versionHasComments&&dispatch(_fetchAndLoadComments({addonId:addonId,versionId:versionId}))}},{key:"render",value:function render(){var _this$props2=this.props,addonId=_this$props2.addonId,children=_this$props2.children,className=_this$props2.className,commentInfo=_this$props2.commentInfo,fileName=_this$props2.fileName,line=_this$props2.line,versionId=_this$props2.versionId,comments=[];if(commentInfo){var base={addonId:addonId,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.comment,fileName:fileName,line:line,versionId:versionId};commentInfo.beginNewComment&&comments.push(Object(react__WEBPACK_IMPORTED_MODULE_6__.createElement)(_Comment__WEBPACK_IMPORTED_MODULE_9__.b,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},base),{},{commentId:null,key:"comment-entry-form"})));var _step,_iterator=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(commentInfo.commentIds);try{for(_iterator.s();!(_step=_iterator.n()).done;){var id=_step.value;comments.push(Object(react__WEBPACK_IMPORTED_MODULE_6__.createElement)(_Comment__WEBPACK_IMPORTED_MODULE_9__.b,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},base),{},{commentId:id,key:id})))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return 0===comments.length?null:children(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("div",{className:className,children:comments}))}}]),CommentListBase}(react__WEBPACK_IMPORTED_MODULE_6__.Component);CommentListBase.defaultProps={_fetchAndLoadComments:_reducers_comments__WEBPACK_IMPORTED_MODULE_8__.f};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_7__.connect)((function mapStateToProps(state,_ref){var versionId=_ref.versionId,fileName=_ref.fileName,line=_ref.line;return{commentInfo:Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_8__.i)({comments:state.comments,versionId:versionId,commentId:void 0,fileName:fileName,line:line}),versionHasComments:Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_8__.l)({comments:state.comments,versionId:versionId})}}))(CommentListBase);try{CommentListBase.displayName="CommentListBase",CommentListBase.__docgenInfo={description:"",displayName:"CommentListBase",props:{addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | null"}},line:{defaultValue:null,description:"",name:"line",required:!0,type:{name:"number | null"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},_fetchAndLoadComments:{defaultValue:{value:"({\n  _getAllComments = getAllComments,\n  addonId,\n  versionId,\n}: {\n  _getAllComments?: typeof getAllComments;\n  addonId: number;\n  versionId: number;\n}): ThunkActionCreator => {\n  return async (dispatch, getState) => {\n    const { api: apiState, comments: commentsState } = getState();\n\n    if (commentsState.isLoading) {\n      return;\n    }\n\n    dispatch(actions.beginFetchVersionComments({ versionId }));\n\n    // TODO: fetch all pages to get all comments.\n    // https://github.com/mozilla/addons-code-manager/issues/1093\n    const response = await _getAllComments({ addonId, apiState, versionId });\n\n    if (isErrorResponse(response)) {\n      dispatch(actions.abortFetchVersionComments({ versionId }));\n      dispatch(errorsActions.addError({ error: response.error }));\n    } else {\n      dispatch(\n        actions.setComments({\n          versionId,\n          comments: response.results,\n        }),\n      );\n    }\n  };\n}"},description:"",name:"_fetchAndLoadComments",required:!1,type:{name:"({ _getAllComments, addonId, versionId, }: { _getAllComments?: (({ _fetchAllPages, _getComments, ...params }: { _fetchAllPages?: (<ResultsType>(getNextResponse: (nextUrl: string | null) => Promise<FetchAllPagesReturnType<ResultsType>>, { maxAllowedPages }?: { ...; }) => Promise<...>); _getComments?: (({ ..."}},commentInfo:{defaultValue:null,description:"",name:"commentInfo",required:!0,type:{name:"CommentInfo | undefined"}},versionHasComments:{defaultValue:null,description:"",name:"versionHasComments",required:!0,type:{name:"boolean | undefined"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"ThunkDispatch<AnyAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CommentList/index.tsx#CommentListBase"]={docgenInfo:CommentListBase.__docgenInfo,name:"CommentListBase",path:"src/components/CommentList/index.tsx#CommentListBase"})}catch(__react_docgen_typescript_loader_error){}try{CommentList.displayName="CommentList",CommentList.__docgenInfo={description:"",displayName:"CommentList",props:{versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | null"}},line:{defaultValue:null,description:"",name:"line",required:!0,type:{name:"number | null"}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},_fetchAndLoadComments:{defaultValue:null,description:"",name:"_fetchAndLoadComments",required:!1,type:{name:"(({ _getAllComments, addonId, versionId, }: { _getAllComments?: (({ _fetchAllPages, _getComments, ...params }: { _fetchAllPages?: (<ResultsType>(getNextResponse: (nextUrl: string | null) => Promise<FetchAllPagesReturnType<ResultsType>>, { maxAllowedPages }?: { ...; }) => Promise<...>); _getComments?: (({..."}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CommentList/index.tsx#CommentList"]={docgenInfo:CommentList.__docgenInfo,name:"CommentList",path:"src/components/CommentList/index.tsx#CommentList"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/CommentList/styles.module.scss":function(module,exports,__webpack_require__){module.exports={comment:"styles_comment__1Omk0"}},"./src/components/CommentSummary/CommentSummary.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"OneLineComment",(function(){return OneLineComment})),__webpack_require__.d(__webpack_exports__,"MultipleLineComments",(function(){return MultipleLineComments})),__webpack_require__.d(__webpack_exports__,"OneFileComment",(function(){return OneFileComment})),__webpack_require__.d(__webpack_exports__,"OneVersionComment",(function(){return OneVersionComment})),__webpack_require__.d(__webpack_exports__,"MixedVersionAndFileComments",(function(){return MixedVersionAndFileComments})),__webpack_require__.d(__webpack_exports__,"VeryLongComments",(function(){return VeryLongComments})),__webpack_require__.d(__webpack_exports__,"MultipleCommentsOnTheSameLine",(function(){return MultipleCommentsOnTheSameLine}));__webpack_require__("./node_modules/react/index.js");var _reducers_comments__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/reducers/comments.tsx"),_storybook_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/storybook-utils.tsx"),_test_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/test-helpers.tsx"),___WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/CommentSummary/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$comments=_ref.comments,comments=void 0===_ref$comments?[Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.a)()]:_ref$comments;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(___WEBPACK_IMPORTED_MODULE_4__.a,{comments:comments.map((function(c){return Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_1__.c)(c)}))})};__webpack_exports__.default={title:"Components/CommentSummary",component:___WEBPACK_IMPORTED_MODULE_4__.a};var OneLineComment=function OneLineComment(){return render({comments:Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_2__.a)()})},MultipleLineComments=function MultipleLineComments(){return render({comments:[Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.a)({filename:"manifest.json",lineno:23,comment:"This is a deprecated permission"}),Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.a)({filename:"scripts/background.js",lineno:432,comment:"This function call is not allowed"}),Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.a)({filename:"scripts/content-script.js",lineno:432,comment:"Calling eval is definitely not allowed."}),Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.a)({filename:"lib/react.js",lineno:432,comment:"When attaching a ref to a DOM component like <div />, you get the DOM node back; when attaching a ref to a composite component like <TextInput />, you'll get the React class instance. In the latter case, you can call methods on that component if any are exposed in its class definition.\n                \n                Note that when the referenced component is unmounted and whenever the ref changes, the old ref will be called with null as an argument. This prevents memory leaks in the case that the instance is stored, as in the second example. Also note that when writing refs with inline function expressions as in the examples here, React sees a different function object each time so on every update, ref will be called with null immediately before it's called with the component instance."})]})},OneFileComment=function OneFileComment(){return render({comments:[Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.a)({filename:"src/util/systematic-dysfunctioner.js",lineno:null,comment:"This file does not appear to be used anywhere. Is it?"})]})},OneVersionComment=function OneVersionComment(){return render({comments:[Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.a)({filename:null,lineno:null,comment:"Your add-on looks pretty good."})]})},MixedVersionAndFileComments=function MixedVersionAndFileComments(){return render({comments:[Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.a)({filename:"manifest.json",lineno:null,comment:"Nice manifest file"}),Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.a)({filename:"manifest.json",lineno:12,comment:"This permission is not used anywhere. Do you still need it?"}),Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.a)({filename:null,lineno:null,comment:"This is a separate overall comment."}),Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.a)({filename:null,lineno:null,comment:"Really nice add-on"})]})},VeryLongComments=function VeryLongComments(){return render({comments:Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_2__.b)()})},MultipleCommentsOnTheSameLine=function MultipleCommentsOnTheSameLine(){return render({comments:[Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.a)({filename:"manifest.json",lineno:23,comment:"This is the first comment for this file"}),Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.a)({filename:"manifest.json",lineno:23,comment:"This is the second comment for this file"})]})}},"./src/components/CommentSummary/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),_utils__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/utils.tsx")),_reducers_comments__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/reducers/comments.tsx"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/CommentSummary/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_4__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),CommentSummary=function CommentSummary(_ref){var _step,comments=_ref.comments,className=_ref.className,overallComments=[],fileComments=[],_iterator=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(comments);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _comment3=_step.value;_comment3.filename?fileComments.push(_comment3):overallComments.push(_comment3)}}catch(err){_iterator.e(err)}finally{_iterator.f()}var lines=[],addComment=function addComment(comment){lines.push(comment.content||""),lines.push("")};if(overallComments.length){lines.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__.m)("Overall comment(s):")),lines.push("");var _step2,_iterator2=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(overallComments);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){addComment(_step2.value)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}for(var groups={},_i=0,_fileComments=fileComments;_i<_fileComments.length;_i++){var _comment=_fileComments[_i],_key=Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_3__.b)({commentId:void 0,fileName:_comment.filename,line:_comment.lineno});groups[_key]||(groups[_key]=[]),groups[_key].push(_comment)}for(var _i2=0,_Object$keys=Object.keys(groups);_i2<_Object$keys.length;_i2++){var _step3,_key2=_Object$keys[_i2],addedHeader=!1,_iterator3=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(groups[_key2]);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _comment2=_step3.value;addedHeader||(lines.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__.m)("File:")),lines.push("".concat(_comment2.filename).concat(_comment2.lineno?"#L".concat(_comment2.lineno):"")),lines.push(""),addedHeader=!0),addComment(_comment2)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}var id="CommentSummary-textarea";return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:className,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("label",{htmlFor:id,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.label,children:Object(_utils__WEBPACK_IMPORTED_MODULE_2__.m)("Summary of all comments")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("textarea",{autoFocus:!0,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.summary,id:id,readOnly:!0,value:lines.join("\n")})]})};__webpack_exports__.a=CommentSummary;try{CommentSummary.displayName="CommentSummary",CommentSummary.__docgenInfo={description:"",displayName:"CommentSummary",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"Comment[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CommentSummary/index.tsx#CommentSummary"]={docgenInfo:CommentSummary.__docgenInfo,name:"CommentSummary",path:"src/components/CommentSummary/index.tsx#CommentSummary"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/CommentSummary/styles.module.scss":function(module,exports,__webpack_require__){module.exports={label:"styles_label__3bF-p",summary:"styles_summary__1jlCD"}},"./src/components/CommentSummaryButton/CommentSummaryButton.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"OneLineComment",(function(){return OneLineComment})),__webpack_require__.d(__webpack_exports__,"VeryLongComments",(function(){return VeryLongComments}));__webpack_require__("./node_modules/react/index.js");var _reducers_popover__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/reducers/popover.tsx"),_test_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/test-helpers.tsx"),_storybook_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/storybook-utils.tsx"),___WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/CommentSummaryButton/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),setUpStore=function setUpStore(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$comments=_ref.comments,comments=void 0===_ref$comments?[Object(_test_helpers__WEBPACK_IMPORTED_MODULE_2__.a)()]:_ref$comments,store=Object(_test_helpers__WEBPACK_IMPORTED_MODULE_2__.e)({comments:comments});return store.dispatch(_reducers_popover__WEBPACK_IMPORTED_MODULE_1__.a.show("COMMENTS_SUMMARY")),store},render=function render(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref2$store=_ref2.store,store=void 0===_ref2$store?setUpStore():_ref2$store;return Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_3__.f)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(___WEBPACK_IMPORTED_MODULE_4__.a,{})}),{store:store})};__webpack_exports__.default={title:"Components/CommentSummaryButton",component:___WEBPACK_IMPORTED_MODULE_4__.a};var OneLineComment=function OneLineComment(){return render({store:setUpStore({comments:Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_3__.a)()})})},VeryLongComments=function VeryLongComments(){return render({store:setUpStore({comments:Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_3__.b)()})})}},"./src/components/CommentSummaryButton/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-bootstrap/esm/Popover.js"),react_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-bootstrap/esm/Button.js"),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils.tsx"),_reducers_comments__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/reducers/comments.tsx"),_reducers_popover__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/reducers/popover.tsx"),_reducers_versions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/reducers/versions.tsx"),_CommentSummary__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/CommentSummary/index.tsx"),_PopoverButton__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/PopoverButton/index.tsx"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/CommentSummaryButton/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react/jsx-runtime.js"),CommentSummaryButtonBase=function CommentSummaryButtonBase(_ref){var comments=_ref.comments,dispatch=_ref.dispatch,id="COMMENTS_SUMMARY";return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_PopoverButton__WEBPACK_IMPORTED_MODULE_9__.b,{id:id,content:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.a.Title,{as:"h3",children:Object(_utils__WEBPACK_IMPORTED_MODULE_4__.m)("Comments")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.a.Content,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_CommentSummary__WEBPACK_IMPORTED_MODULE_8__.a,{comments:comments||[]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.summaryControls,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a,{onClick:function onClick(){dispatch(_reducers_popover__WEBPACK_IMPORTED_MODULE_6__.a.hide(id))},size:"sm",variant:"primary",children:Object(_utils__WEBPACK_IMPORTED_MODULE_4__.m)("Close")})})]})]}),popoverClassName:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.popover,prompt:Object(_utils__WEBPACK_IMPORTED_MODULE_4__.m)("Comment Summary")})};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_3__.connect)((function mapStateToProps(state){var currentVersion=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_7__.q)(state.versions);return{comments:currentVersion?Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_5__.k)({comments:state.comments,versionId:currentVersion.id}):void 0}}))(CommentSummaryButtonBase);try{CommentSummaryButtonBase.displayName="CommentSummaryButtonBase",CommentSummaryButtonBase.__docgenInfo={description:"",displayName:"CommentSummaryButtonBase",props:{comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"Comment[] | undefined"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"ThunkDispatch<AnyAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CommentSummaryButton/index.tsx#CommentSummaryButtonBase"]={docgenInfo:CommentSummaryButtonBase.__docgenInfo,name:"CommentSummaryButtonBase",path:"src/components/CommentSummaryButton/index.tsx#CommentSummaryButtonBase"})}catch(__react_docgen_typescript_loader_error){}try{CommentSummaryButton.displayName="CommentSummaryButton",CommentSummaryButton.__docgenInfo={description:"",displayName:"CommentSummaryButton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CommentSummaryButton/index.tsx#CommentSummaryButton"]={docgenInfo:CommentSummaryButton.__docgenInfo,name:"CommentSummaryButton",path:"src/components/CommentSummaryButton/index.tsx#CommentSummaryButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/CommentSummaryButton/styles.module.scss":function(module,exports,__webpack_require__){module.exports={popover:"styles_popover__3WiIf",summaryControls:"styles_summaryControls__24Dfi"}},"./src/components/Commentable/Commentable.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("./node_modules/react/index.js");var _storybook_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/storybook-utils.tsx"),___WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Commentable/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),renderRow=function renderRow(_ref){var content=_ref.content,line=_ref.line;return Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_1__.f)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(___WEBPACK_IMPORTED_MODULE_2__.b,{addCommentClassName:"CommentableStory-addComment",as:"div",className:"CommentableStory-row",fileName:"manifest.json",line:line,versionId:1,children:function children(addCommentButton){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[addCommentButton,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"CommentableStory-content",children:content})]})}}))};__webpack_exports__.default={title:"Components/Commentable",component:___WEBPACK_IMPORTED_MODULE_2__.a};var Default=function Default(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[renderRow({line:1,content:"This is line 1"}),renderRow({line:2,content:"This is line 2"}),renderRow({line:3,content:"This is line 3"})]})}},"./src/components/Commentable/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Commentable_CommentableBase}));__webpack_require__("./node_modules/react/index.js");var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),es=__webpack_require__("./node_modules/react-redux/es/index.js"),Button=__webpack_require__("./src/components/Button/index.tsx"),comments=__webpack_require__("./src/reducers/comments.tsx"),utils=__webpack_require__("./src/utils.tsx"),styles_module=__webpack_require__("./src/components/Commentable/styles.module.scss"),styles_module_default=__webpack_require__.n(styles_module),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),AddComment_AddCommentBase=function AddCommentBase(_ref){var className=_ref.className,dispatch=_ref.dispatch,fileName=_ref.fileName,line=_ref.line,versionId=_ref.versionId;return Object(jsx_runtime.jsx)(Button.a,{onClick:function onClick(){dispatch(comments.a.beginComment({versionId:versionId,commentId:void 0,fileName:fileName,line:line}))},className:classnames_default()(styles_module_default.a.button,className),title:Object(utils.m)("Add a comment")})},Commentable_AddComment=Object(es.connect)()(AddComment_AddCommentBase);try{AddComment_AddCommentBase.displayName="AddCommentBase",AddComment_AddCommentBase.__docgenInfo={description:"",displayName:"AddCommentBase",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | null"}},line:{defaultValue:null,description:"",name:"line",required:!0,type:{name:"number | null"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"ThunkDispatch<AnyAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Commentable/AddComment.tsx#AddCommentBase"]={docgenInfo:AddComment_AddCommentBase.__docgenInfo,name:"AddCommentBase",path:"src/components/Commentable/AddComment.tsx#AddCommentBase"})}catch(__react_docgen_typescript_loader_error){}try{AddComment.displayName="AddComment",AddComment.__docgenInfo={description:"",displayName:"AddComment",props:{versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | null"}},line:{defaultValue:null,description:"",name:"line",required:!0,type:{name:"number | null"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Commentable/AddComment.tsx#AddComment"]={docgenInfo:AddComment.__docgenInfo,name:"AddComment",path:"src/components/Commentable/AddComment.tsx#AddComment"})}catch(__react_docgen_typescript_loader_error){}var Commentable_CommentableBase=function CommentableBase(_ref){var addCommentClassName=_ref.addCommentClassName,AsComponent=_ref.as,children=_ref.children,className=_ref.className,fileName=_ref.fileName,id=_ref.id,line=_ref.line,shellRef=_ref.shellRef,versionId=_ref.versionId;return Object(jsx_runtime.jsx)(AsComponent,{className:classnames_default()(styles_module_default.a.commentable,className),id:id,ref:shellRef,children:children(Object(jsx_runtime.jsx)(Commentable_AddComment,{className:addCommentClassName,versionId:versionId,fileName:fileName,line:line}))})};__webpack_exports__.b=Commentable_CommentableBase;try{Commentable_CommentableBase.displayName="CommentableBase",Commentable_CommentableBase.__docgenInfo={description:"",displayName:"CommentableBase",props:{addCommentClassName:{defaultValue:null,description:"",name:"addCommentClassName",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!0,type:{name:"ReactType<any>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},shellRef:{defaultValue:null,description:"",name:"shellRef",required:!1,type:{name:"((element: HTMLElement | null) => void)"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | null"}},line:{defaultValue:null,description:"",name:"line",required:!0,type:{name:"number | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Commentable/index.tsx#CommentableBase"]={docgenInfo:Commentable_CommentableBase.__docgenInfo,name:"CommentableBase",path:"src/components/Commentable/index.tsx#CommentableBase"})}catch(__react_docgen_typescript_loader_error){}try{Commentable.displayName="Commentable",Commentable.__docgenInfo={description:"",displayName:"Commentable",props:{addCommentClassName:{defaultValue:null,description:"",name:"addCommentClassName",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!0,type:{name:"ReactType<any>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},shellRef:{defaultValue:null,description:"",name:"shellRef",required:!1,type:{name:"((element: HTMLElement | null) => void)"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | null"}},line:{defaultValue:null,description:"",name:"line",required:!0,type:{name:"number | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Commentable/index.tsx#Commentable"]={docgenInfo:Commentable.__docgenInfo,name:"Commentable",path:"src/components/Commentable/index.tsx#Commentable"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Commentable/styles.module.scss":function(module,exports,__webpack_require__){module.exports={button:"styles_button__3DCtN",commentable:"styles_commentable__YFHBX"}},"./src/components/DiffView/DiffView.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DiffWithAdditionsAndDeletions",(function(){return DiffView_stories_DiffWithAdditionsAndDeletions})),__webpack_require__.d(__webpack_exports__,"NoDifferences",(function(){return NoDifferences})),__webpack_require__.d(__webpack_exports__,"OneGlobalLinterMessage",(function(){return OneGlobalLinterMessage})),__webpack_require__.d(__webpack_exports__,"MultipleGlobalLinterMessages",(function(){return MultipleGlobalLinterMessages})),__webpack_require__.d(__webpack_exports__,"OneLinterMessageOnOneLine",(function(){return OneLinterMessageOnOneLine})),__webpack_require__.d(__webpack_exports__,"MultipleLinterMessagesOnOneLine",(function(){return MultipleLinterMessagesOnOneLine})),__webpack_require__.d(__webpack_exports__,"MmultipleLinterMessagesOnMultipleLines",(function(){return DiffView_stories_MmultipleLinterMessagesOnMultipleLines})),__webpack_require__.d(__webpack_exports__,"SlowSyntaxHighlightingWarning",(function(){return DiffView_stories_SlowSyntaxHighlightingWarning})),__webpack_require__.d(__webpack_exports__,"SlowSyntaxHighlightingWarningWithLinterMessage",(function(){return DiffView_stories_SlowSyntaxHighlightingWarningWithLinterMessage})),__webpack_require__.d(__webpack_exports__,"SlowDiffWarning",(function(){return DiffView_stories_SlowDiffWarning})),__webpack_require__.d(__webpack_exports__,"SlowDiffWarningOverridden",(function(){return DiffView_stories_SlowDiffWarningOverridden})),__webpack_require__.d(__webpack_exports__,"LongUnbrokenMinifiedDiff",(function(){return DiffView_stories_LongUnbrokenMinifiedDiff}));var defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),query_string=__webpack_require__("./node_modules/query-string/index.js"),query_string_default=__webpack_require__.n(query_string),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-diff-view/es/index.js"),configureStore=__webpack_require__("./src/configureStore.tsx"),FullscreenGrid=__webpack_require__("./src/components/FullscreenGrid/index.tsx"),ContentShell=__webpack_require__("./src/components/FullscreenGrid/ContentShell.tsx"),basicDiff="diff --git a/src/components/DiffView.test.tsx b/src/components/DiffView.test.tsx\nindex 5ca1a30..4e2c90f 100644\n--- a/src/components/DiffView.test.tsx\n+++ b/src/components/DiffView.test.tsx\n@@ -35,6 +35,8 @@ it('defaults the viewType to unified', () => {\n it('renders with a specified viewType', () => {\n   const viewType = 'split';\n   const root = render({ viewType });\n+\n+  expect(root).toHaveProp('viewType', viewType);\n });",minifiedDiff='diff --git a/manifest.bundle.js b/manifest.bundle.js\nindex 5ca1a30..4e2c90f 100644\n--- a/manifest.bundle.js\n+++ b/manifest.bundle.js\n@@ -1 +1 @@\n+(function(a){function b(c){if(d[c])return d[c].exports;var e=d[c]={i:c,l:!1,exports:{}};return a[c].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c=window.webpackJsonp;window.webpackJsonp=function(d,f,g){for(var h,j,k,l=0,i=[];l<d.length;l++)j=d[l],e[j]&&i.push(e[j][0]),e[j]=0;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&(a[h]=f[h]);for(c&&c(d,f,g);i.length;)i.shift()();if(g)for(l=0;l<g.length;l++)k=b(b.s=g[l]);return k};var d={},e={11:0};b.m=a,b.c=d,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b.oe=function(a){throw console.error(a),a}})([]);',diffWithDeletions="diff --git a/src/components/DiffView/index.tsx b/src/components/DiffView/index.tsx\nindex b7ee4f8..08a29b0 100644\n--- a/src/components/DiffView/index.tsx\n+++ b/src/components/DiffView/index.tsx\n@@ -1,3 +1,10 @@\n import * as React from 'react';\n-import { Diff, DiffProps, parseDiff } from 'react-diff-view';\n+import {\n+  Decoration,\n+  Diff,\n+  DiffProps,\n+  Hunk,\n+  HunkInfo,\n+  parseDiff,\n+} from 'react-diff-view';\n\n@@ -16,3 +23,14 @@ class DiffView extends React.Component<Props> {\n\n-  render = () => {\n+  renderHunk(hunk: HunkInfo) {\n+    console.log({ hunk });\n+    return [\n+      <Decoration key={`decoration-${hunk.content}`}>\n+        {hunk.content}\n+      </Decoration>,\n+      // @ts-ignore\n+      <Hunk key={`hunk-${hunk.content}`} hunk={hunk} />,\n+    ];\n+  }\n+\n+  render() {\n     const { diff, viewType } = this.props;\n@@ -29,3 +47,5 @@ class DiffView extends React.Component<Props> {\n             viewType={viewType}\n-          />\n+          >\n+            {(hunks: HunkInfo[]) => hunks.map(this.renderHunk)}\n+          </Diff>\n         ))}\n@@ -33,3 +53,3 @@ class DiffView extends React.Component<Props> {\n     );\n-  };\n+  }\n }",largeDiff="diff --git a/src/reducers/versions.tsx b/src/reducers/versions.tsx\ndeleted file mode 100644\nindex ba61d34..0000000\n--- a/src/reducers/versions.tsx\n+++ /dev/null\n@@ -1,1394 +0,0 @@\n-import { Reducer } from 'redux';\n-import { ActionType, createAction, getType } from 'typesafe-actions';\n-import log from 'loglevel';\n-import {\n-  ChangeInfo,\n-  DiffInfo,\n-  DiffInfoType,\n-  HunkInfo,\n-  getChangeKey,\n-} from 'react-diff-view';\n-import { push } from 'connected-react-router';\n-\n-import { ThunkActionCreator } from '../configureStore';\n-import { getDiff, getVersion, getVersionsList, isErrorResponse } from '../api';\n-import {\n-  LocalizedStringMap,\n-  createAdjustedQueryString,\n-  extractNumber,\n-} from '../utils';\n-import { actions as errorsActions } from './errors';\n-import {\n-  ROOT_PATH,\n-  RelativePathPosition,\n-  findRelativePathWithDiff,\n-} from './fileTree';\n-\n-export enum ScrollTarget {\n-  firstDiff = 'firstDiff',\n-  lastDiff = 'lastDiff',\n-}\n-\n-type VersionCompatibility = {\n-  [appName: string]: {\n-    min: string;\n-    max: string;\n-  };\n-};\n-\n-type VersionLicense = {\n-  id: number;\n-  isCustom: boolean;\n-  name: LocalizedStringMap;\n-  text: LocalizedStringMap;\n-  url: string;\n-};\n-\n-export type VersionEntryStatus = '' | 'M' | 'A' | 'D' | 'R' | 'C';\n-export type VersionEntryType = 'image' | 'directory' | 'text' | 'binary';\n-\n-export type ExternalVersionEntry = {\n-  depth: number;\n-  filename: string;\n-  mime_category: VersionEntryType;\n-  mimetype: string;\n-  modified: string;\n-  path: string;\n-  sha256: string;\n-  size: number | null;\n-  status?: VersionEntryStatus;\n-};\n-\n-type PartialExternalVersionFile = {\n-  created: string;\n-  download_url: string | null;\n-  entries: {\n-    [nodeName: string]: ExternalVersionEntry;\n-  };\n-  hash: string;\n-  id: number;\n-  is_mozilla_signed_extension: boolean;\n-  is_restart_required: boolean;\n-  is_webextension: boolean;\n-  permissions: string[];\n-  platform: string;\n-  selected_file: string;\n-  size: number;\n-  status: string;\n-  url: string;\n-};\n-\n-export type ExternalVersionAddon = {\n-  icon_url: string;\n-  id: number;\n-  name: LocalizedStringMap;\n-  slug: string;\n-};\n-\n-type PartialExternalVersion = {\n-  addon: ExternalVersionAddon;\n-  channel: string;\n-  compatibility: VersionCompatibility;\n-  edit_url: string;\n-  has_been_validated: boolean;\n-  id: number;\n-  is_strict_compatibility_enabled: boolean;\n-  license: VersionLicense;\n-  release_notes: LocalizedStringMap | null;\n-  reviewed: string;\n-  url: string;\n-  validation_url: string;\n-  validation_url_json: string;\n-  version: string;\n-};\n-\n-export type ExternalChange = {\n-  content: string;\n-  new_line_number: number;\n-  old_line_number: number;\n-  type: 'normal' | 'delete' | 'insert';\n-};\n-\n-export type ExternalHunk = {\n-  changes: ExternalChange[];\n-  header: string;\n-  new_lines: number;\n-  new_start: number;\n-  old_lines: number;\n-  old_start: number;\n-};\n-\n-type ExternalDiff = {\n-  hash: string;\n-  hunks: ExternalHunk[];\n-  is_binary: boolean;\n-  lines_added: number;\n-  lines_deleted: number;\n-  mode: string;\n-  new_ending_new_line: boolean;\n-  old_ending_new_line: boolean;\n-  old_path: string;\n-  parent: string;\n-  path: string;\n-  size: number;\n-};\n-\n-export type ExternalVersionFileWithContent = PartialExternalVersionFile & {\n-  content: string;\n-};\n-\n-export type ExternalVersionFileWithDiff = PartialExternalVersionFile & {\n-  diff: ExternalDiff | null;\n-};\n-\n-export type ExternalVersionWithContent = PartialExternalVersion & {\n-  file: ExternalVersionFileWithContent;\n-};\n-\n-export type ExternalVersionWithDiff = PartialExternalVersion & {\n-  file: ExternalVersionFileWithDiff;\n-};\n-\n-// This is how we store file information, but the getVersionFile selector\n-// returns more info, which is defined in VersionFileWithContent, below.\n-type InternalVersionFile = {\n-  content: string;\n-  created: string;\n-  downloadURL: string | null;\n-  id: number;\n-  size: number;\n-};\n-\n-export type VersionFileWithContent = {\n-  content: string;\n-  created: string;\n-  downloadURL: string | null;\n-  // This is the basename of the file.\n-  filename: string;\n-  id: number;\n-  mimeType: string;\n-  // This is the relative path to the file, including directories.\n-  path: string;\n-  sha256: string;\n-  size: number;\n-  type: VersionEntryType;\n-  version: string;\n-};\n-\n-export type VersionEntry = {\n-  depth: number;\n-  filename: string;\n-  mimeType: string;\n-  modified: string;\n-  path: string;\n-  sha256: string;\n-  status?: VersionEntryStatus;\n-  type: VersionEntryType;\n-};\n-\n-type VersionAddon = {\n-  iconUrl: string;\n-  id: number;\n-  name: LocalizedStringMap;\n-  slug: string;\n-};\n-\n-export type Version = {\n-  addon: VersionAddon;\n-  comparedToVersionId: null | number;\n-  entries: VersionEntry[];\n-  expandedPaths: string[];\n-  id: number;\n-  reviewed: string;\n-  selectedPath: string;\n-  validationURL: string;\n-  visibleSelectedPath: string | null;\n-  version: string;\n-};\n-\n-export type VersionsListItem = {\n-  channel: 'unlisted' | 'listed';\n-  id: number;\n-  version: string;\n-};\n-\n-export type ExternalVersionsListItem = VersionsListItem;\n-\n-export type ExternalVersionsList = ExternalVersionsListItem[];\n-\n-export type VersionsList = VersionsListItem[];\n-\n-export type VersionsMap = {\n-  listed: VersionsList;\n-  unlisted: VersionsList;\n-};\n-\n-export type CompareInfo = {\n-  diff: DiffInfo | null;\n-  mimeType: string;\n-};\n-\n-export const actions = {\n-  loadVersionFile: createAction('LOAD_VERSION_FILE', (resolve) => {\n-    return (payload: { path: string; version: ExternalVersionWithContent }) =>\n-      resolve(payload);\n-  }),\n-  loadVersionInfo: createAction('LOAD_VERSION_INFO', (resolve) => {\n-    return (payload: {\n-      version: ExternalVersionWithContent | ExternalVersionWithDiff;\n-      comparedToVersionId?: number;\n-    }) => resolve(payload);\n-  }),\n-  updateSelectedPath: createAction('UPDATE_SELECTED_PATH', (resolve) => {\n-    return (payload: { selectedPath: string; versionId: number }) =>\n-      resolve(payload);\n-  }),\n-  setCurrentVersionId: createAction('SET_CURRENT_VERSION_ID', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-  setVisibleSelectedPath: createAction(\n-    'SET_VISIBLE_SELECTED_PATH',\n-    (resolve) => {\n-      return (payload: { path: string | null; versionId: number }) =>\n-        resolve(payload);\n-    },\n-  ),\n-  toggleExpandedPath: createAction('TOGGLE_EXPANDED_PATH', (resolve) => {\n-    return (payload: { path: string; versionId: number }) => resolve(payload);\n-  }),\n-  expandTree: createAction('EXPAND_TREE', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-  collapseTree: createAction('COLLAPSE_TREE', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-  loadVersionsList: createAction('LOAD_VERSIONS_LIST', (resolve) => {\n-    return (payload: { addonId: number; versions: ExternalVersionsList }) =>\n-      resolve(payload);\n-  }),\n-  beginFetchDiff: createAction('BEGIN_FETCH_DIFF', (resolve) => {\n-    return (payload: {\n-      addonId: number;\n-      baseVersionId: number;\n-      headVersionId: number;\n-      path?: string;\n-    }) => resolve(payload);\n-  }),\n-  beginFetchVersionFile: createAction('BEGIN_FETCH_VERSION_FILE', (resolve) => {\n-    return (payload: { path: string; versionId: number }) => resolve(payload);\n-  }),\n-  abortFetchDiff: createAction('ABORT_FETCH_DIFF', (resolve) => {\n-    return (payload: {\n-      addonId: number;\n-      baseVersionId: number;\n-      headVersionId: number;\n-      path?: string;\n-    }) => resolve(payload);\n-  }),\n-  abortFetchVersionFile: createAction('ABORT_FETCH_VERSION_FILE', (resolve) => {\n-    return (payload: { path: string; versionId: number }) => resolve(payload);\n-  }),\n-  loadDiff: createAction('LOAD_DIFF', (resolve) => {\n-    return (payload: {\n-      addonId: number;\n-      baseVersionId: number;\n-      headVersionId: number;\n-      version: ExternalVersionWithDiff;\n-      path?: string;\n-    }) => resolve(payload);\n-  }),\n-  beginFetchVersion: createAction('BEGIN_FETCH_VERSION', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-  abortFetchVersion: createAction('ABORT_FETCH_VERSION', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-};\n-\n-export type VersionsState = {\n-  byAddonId: {\n-    [addonId: number]: VersionsMap;\n-  };\n-  compareInfo: {\n-    [compareInfoKey: string]:\n-      | CompareInfo // data successfully loaded\n-      | null // an error has occured\n-      | undefined; // data not fetched yet\n-  };\n-  compareInfoIsLoading: {\n-    [compareInfoKey: string]: boolean;\n-  };\n-  currentVersionId: number | undefined;\n-  versionInfo: {\n-    [versionId: number]:\n-      | Version // data successfully loaded\n-      | null // an error has occured\n-      | undefined; // data not fetched yet\n-  };\n-  versionFiles: {\n-    [versionId: number]: {\n-      [path: string]:\n-        | InternalVersionFile // data successfully loaded\n-        | null // an error has occured\n-        | undefined; // data not fetched yet\n-    };\n-  };\n-  versionFilesLoading: {\n-    [versionId: number]: {\n-      [path: string]: boolean;\n-    };\n-  };\n-};\n-\n-export const initialState: VersionsState = {\n-  byAddonId: {},\n-  compareInfo: {},\n-  compareInfoIsLoading: {},\n-  currentVersionId: undefined,\n-  versionFiles: {},\n-  versionFilesLoading: {},\n-  versionInfo: {},\n-};\n-\n-export const getParentFolders = (path: string): string[] => {\n-  const parents = [ROOT_PATH];\n-\n-  const folders = path.split('/');\n-\n-  while (folders.length > 1) {\n-    folders.pop();\n-    parents.push(folders.join('/'));\n-  }\n-\n-  return parents;\n-};\n-\n-export const createInternalVersionFile = (\n-  file: ExternalVersionFileWithContent,\n-): InternalVersionFile => {\n-  return {\n-    content: file.content,\n-    created: file.created,\n-    downloadURL: file.download_url,\n-    id: file.id,\n-    size: file.size,\n-  };\n-};\n-\n-export const createInternalVersionEntry = (\n-  entry: ExternalVersionEntry,\n-): VersionEntry => {\n-  return {\n-    depth: entry.depth,\n-    filename: entry.filename,\n-    mimeType: entry.mimetype,\n-    modified: entry.modified,\n-    path: entry.path,\n-    sha256: entry.sha256,\n-    status: entry.status,\n-    type: entry.mime_category,\n-  };\n-};\n-\n-export const createInternalVersionAddon = (\n-  addon: ExternalVersionAddon,\n-): VersionAddon => {\n-  return {\n-    iconUrl: addon.icon_url,\n-    id: addon.id,\n-    name: addon.name,\n-    slug: addon.slug,\n-  };\n-};\n-\n-export const createInternalVersion = (\n-  version: ExternalVersionWithContent | ExternalVersionWithDiff,\n-  { comparedToVersionId }: { comparedToVersionId?: number } = {},\n-): Version => {\n-  return {\n-    addon: createInternalVersionAddon(version.addon),\n-    comparedToVersionId: comparedToVersionId || null,\n-    entries: Object.keys(version.file.entries).map((nodeName) => {\n-      return createInternalVersionEntry(version.file.entries[nodeName]);\n-    }),\n-    expandedPaths: getParentFolders(version.file.selected_file),\n-    id: version.id,\n-    reviewed: version.reviewed,\n-    selectedPath: version.file.selected_file,\n-    version: version.version,\n-    validationURL: version.validation_url_json,\n-    visibleSelectedPath: null,\n-  };\n-};\n-\n-export const getVersionFiles = (versions: VersionsState, versionId: number) => {\n-  return versions.versionFiles[versionId];\n-};\n-\n-export const getVersionInfo = (\n-  versions: VersionsState,\n-  versionId: number,\n-  { comparedToVersionId }: { comparedToVersionId?: number } = {},\n-) => {\n-  const version = versions.versionInfo[versionId];\n-\n-  if (version === undefined) {\n-    return undefined;\n-  }\n-  if (\n-    version &&\n-    comparedToVersionId !== undefined &&\n-    version.comparedToVersionId !== comparedToVersionId\n-  ) {\n-    return undefined;\n-  }\n-\n-  return version;\n-};\n-\n-export const selectCurrentVersionInfo = (\n-  versions: VersionsState,\n-): Version | null | undefined => {\n-  if (!versions.currentVersionId) {\n-    return undefined;\n-  }\n-  return getVersionInfo(versions, versions.currentVersionId);\n-};\n-\n-export const getMostRelevantEntryStatus = (\n-  version: Version,\n-  path: string,\n-): VersionEntryStatus | void => {\n-  const statuses = version.entries\n-    .filter((e) => e.path.startsWith(path))\n-    .map((e) => e.status);\n-\n-  const priorities: VersionEntryStatus[] = ['A', 'M', 'D'];\n-\n-  for (const p of priorities) {\n-    if (statuses.includes(p)) {\n-      return p;\n-    }\n-  }\n-\n-  return statuses.length ? statuses[0] : undefined;\n-};\n-\n-export const getVersionFile = (\n-  versions: VersionsState,\n-  versionId: number,\n-  path: string,\n-  { _log = log } = {},\n-): VersionFileWithContent | void | null => {\n-  const version = getVersionInfo(versions, versionId);\n-  const filesForVersion = getVersionFiles(versions, versionId);\n-\n-  if (version && filesForVersion) {\n-    const file = filesForVersion[path];\n-\n-    // A file is null when it could not be retrieved from the API because of\n-    // an error.\n-    if (file === null) {\n-      return null;\n-    }\n-\n-    const entry = version.entries.find((e) => e.path === path);\n-\n-    if (!entry) {\n-      _log.debug('Entry missing for path: ${path}, versionId: ${versionId}');\n-      return undefined;\n-    }\n-\n-    if (file) {\n-      return {\n-        ...file,\n-        filename: entry.filename,\n-        mimeType: entry.mimeType,\n-        path,\n-        sha256: entry.sha256,\n-        type: entry.type,\n-        version: version.version,\n-      };\n-    }\n-  }\n-\n-  // The version or file was not found.\n-  return undefined;\n-};\n-\n-export const isFileLoading = (\n-  versions: VersionsState,\n-  versionId: number,\n-  path: string,\n-): boolean => {\n-  if (versions.versionFilesLoading[versionId]) {\n-    return versions.versionFilesLoading[versionId][path] || false;\n-  }\n-\n-  return false;\n-};\n-\n-export const getDiffAnchors = (diff: DiffInfo): string[] => {\n-  const anchors: string[] = [];\n-\n-  for (const hunk of diff.hunks) {\n-    let seekingChange = true;\n-    for (const change of hunk.changes) {\n-      if (change.type === 'normal') {\n-        seekingChange = true;\n-      } else if (seekingChange) {\n-        // This is the first change in a block.\n-        anchors.push(getChangeKey(change));\n-        seekingChange = false;\n-      }\n-    }\n-  }\n-  return anchors;\n-};\n-\n-export type GetRelativeDiffAnchorParams = {\n-  currentAnchor?: string | void;\n-  diff: DiffInfo;\n-  position?: RelativePathPosition;\n-};\n-\n-export const getRelativeDiffAnchor = ({\n-  currentAnchor = '',\n-  diff,\n-  position = RelativePathPosition.next,\n-}: GetRelativeDiffAnchorParams): string | null => {\n-  const anchors = getDiffAnchors(diff);\n-  if (anchors.length) {\n-    if (!currentAnchor) {\n-      // Since we aren't looking for an anchor relative to an existing one,\n-      // just get the first anchor.\n-      return anchors[0];\n-    }\n-\n-    const currentIndex = anchors.indexOf(currentAnchor);\n-\n-    if (currentIndex >= 0) {\n-      const newIndex =\n-        position === RelativePathPosition.previous\n-          ? currentIndex - 1\n-          : currentIndex + 1;\n-\n-      if (newIndex >= 0 && newIndex < anchors.length) {\n-        return anchors[newIndex];\n-      }\n-      // The currentAnchor is the only anchor in the diff.\n-      return null;\n-    }\n-\n-    // We have a currentAnchor, but is doesn't match anything in anchors, so\n-    // we need to try to find the correct anchor closest to the currentAnchor.\n-    const currentAnchorNumber = extractNumber(currentAnchor);\n-    const sortedAnchors: string[] =\n-      position === RelativePathPosition.previous\n-        ? [...anchors].reverse()\n-        : anchors;\n-    if (currentAnchorNumber) {\n-      for (const anchor of sortedAnchors) {\n-        const anchorNumber = extractNumber(anchor);\n-        if (anchorNumber) {\n-          if (\n-            (position === RelativePathPosition.previous &&\n-              anchorNumber <= currentAnchorNumber) ||\n-            (position === RelativePathPosition.next &&\n-              anchorNumber >= currentAnchorNumber)\n-          ) {\n-            return anchor;\n-          }\n-        }\n-      }\n-    }\n-  }\n-\n-  // We never found a valid next/previous anchor in the file, so return null.\n-  return null;\n-};\n-\n-export type GetRelativeDiffParams = {\n-  _findRelativePathWithDiff?: typeof findRelativePathWithDiff;\n-  _getRelativeDiffAnchor?: typeof getRelativeDiffAnchor;\n-  currentAnchor: string | void;\n-  diff: DiffInfo | null;\n-  pathList: string[];\n-  position: RelativePathPosition;\n-  version: Version;\n-};\n-\n-type RelativeDiffResult = {\n-  anchor: string | null;\n-  path: string | null;\n-};\n-\n-export const getRelativeDiff = ({\n-  _findRelativePathWithDiff = findRelativePathWithDiff,\n-  _getRelativeDiffAnchor = getRelativeDiffAnchor,\n-  currentAnchor,\n-  diff,\n-  pathList,\n-  position,\n-  version,\n-}: GetRelativeDiffParams): RelativeDiffResult => {\n-  const result: RelativeDiffResult = {\n-    anchor: diff\n-      ? _getRelativeDiffAnchor({ currentAnchor, diff, position })\n-      : null,\n-    path: null,\n-  };\n-\n-  if (!result.anchor) {\n-    result.path = _findRelativePathWithDiff({\n-      currentPath: version.selectedPath,\n-      pathList,\n-      position,\n-      version,\n-    });\n-  }\n-\n-  return result;\n-};\n-\n-type FetchVersionParams = {\n-  _getVersion?: typeof getVersion;\n-  addonId: number;\n-  versionId: number;\n-  path?: string;\n-};\n-\n-export const fetchVersion = ({\n-  _getVersion = getVersion,\n-  addonId,\n-  versionId,\n-  path,\n-}: FetchVersionParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { api: apiState } = getState();\n-\n-    dispatch(actions.beginFetchVersion({ versionId }));\n-    // Set this as the current version so that components can track its\n-    // loading progress.\n-    dispatch(actions.setCurrentVersionId({ versionId }));\n-\n-    const response = await _getVersion({\n-      addonId,\n-      apiState,\n-      path,\n-      versionId,\n-    });\n-\n-    if (isErrorResponse(response)) {\n-      dispatch(actions.abortFetchVersion({ versionId }));\n-      dispatch(errorsActions.addError({ error: response.error }));\n-    } else {\n-      dispatch(actions.loadVersionInfo({ version: response }));\n-      dispatch(\n-        actions.loadVersionFile({\n-          version: response,\n-          path: response.file.selected_file,\n-        }),\n-      );\n-    }\n-  };\n-};\n-\n-type FetchVersionFileParams = {\n-  _getVersion?: typeof getVersion;\n-  addonId: number;\n-  path: string;\n-  versionId: number;\n-};\n-\n-export const fetchVersionFile = ({\n-  _getVersion = getVersion,\n-  addonId,\n-  path,\n-  versionId,\n-}: FetchVersionFileParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { api: apiState } = getState();\n-\n-    dispatch(actions.beginFetchVersionFile({ path, versionId }));\n-\n-    const response = await _getVersion({\n-      addonId,\n-      apiState,\n-      versionId,\n-      path,\n-    });\n-\n-    if (isErrorResponse(response)) {\n-      dispatch(actions.abortFetchVersionFile({ path, versionId }));\n-      dispatch(errorsActions.addError({ error: response.error }));\n-    } else {\n-      dispatch(actions.loadVersionFile({ path, version: response }));\n-    }\n-  };\n-};\n-\n-export const createVersionsMap = (\n-  versions: ExternalVersionsList,\n-): VersionsMap => {\n-  const listed = versions.filter((version) => version.channel === 'listed');\n-  const unlisted = versions.filter((version) => version.channel === 'unlisted');\n-\n-  return {\n-    listed,\n-    unlisted,\n-  };\n-};\n-\n-type FetchVersionsListParams = {\n-  _getVersionsList?: typeof getVersionsList;\n-  addonId: number;\n-};\n-\n-export const fetchVersionsList = ({\n-  _getVersionsList = getVersionsList,\n-  addonId,\n-}: FetchVersionsListParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { api: apiState } = getState();\n-\n-    const response = await _getVersionsList({ addonId, apiState });\n-\n-    if (isErrorResponse(response)) {\n-      dispatch(errorsActions.addError({ error: response.error }));\n-    } else {\n-      dispatch(actions.loadVersionsList({ addonId, versions: response }));\n-    }\n-  };\n-};\n-\n-type CreateInternalDiffParams = {\n-  version: ExternalVersionWithDiff;\n-  baseVersionId: number;\n-  headVersionId: number;\n-};\n-\n-export const createInternalChangeInfo = (\n-  change: ExternalChange,\n-): ChangeInfo => {\n-  return {\n-    content: change.content,\n-    isDelete: change.type === 'delete',\n-    isInsert: change.type === 'insert',\n-    isNormal: change.type === 'normal',\n-    lineNumber:\n-      change.type === 'insert'\n-        ? change.new_line_number\n-        : change.old_line_number,\n-    newLineNumber: change.new_line_number,\n-    oldLineNumber: change.old_line_number,\n-    type: change.type,\n-  };\n-};\n-\n-export const createInternalHunk = (hunk: ExternalHunk): HunkInfo => {\n-  return {\n-    changes: hunk.changes.map(createInternalChangeInfo),\n-    content: hunk.header,\n-    isPlain: false,\n-    newLines: hunk.new_lines,\n-    newStart: hunk.new_start,\n-    oldLines: hunk.old_lines,\n-    oldStart: hunk.old_start,\n-  };\n-};\n-\n-export const createInternalDiff = ({\n-  baseVersionId,\n-  headVersionId,\n-  version,\n-}: CreateInternalDiffParams): DiffInfo | null => {\n-  const GIT_STATUS_TO_TYPE: { [status: string]: DiffInfoType } = {\n-    A: 'add',\n-    C: 'copy',\n-    D: 'delete',\n-    M: 'modify',\n-    R: 'rename',\n-  };\n-\n-  const { diff } = version.file;\n-  if (diff) {\n-    return {\n-      newRevision: String(headVersionId),\n-      oldRevision: String(baseVersionId),\n-      hunks: diff.hunks.map(createInternalHunk),\n-      type: GIT_STATUS_TO_TYPE[diff.mode] || GIT_STATUS_TO_TYPE.M,\n-      newEndingNewLine: diff.new_ending_new_line,\n-      oldEndingNewLine: diff.old_ending_new_line,\n-      newMode: diff.mode,\n-      oldMode: diff.mode,\n-      newPath: diff.path,\n-      oldPath: diff.old_path,\n-    };\n-  }\n-  return null;\n-};\n-\n-type FetchDiffParams = {\n-  _getDiff?: typeof getDiff;\n-  addonId: number;\n-  baseVersionId: number;\n-  headVersionId: number;\n-  path?: string;\n-};\n-\n-type GetCompareInfoKeyParams = {\n-  addonId: number;\n-  baseVersionId: number;\n-  headVersionId: number;\n-  path?: string;\n-};\n-\n-export const getCompareInfoKey = ({\n-  addonId,\n-  baseVersionId,\n-  headVersionId,\n-  path,\n-}: GetCompareInfoKeyParams) => {\n-  return [addonId, baseVersionId, headVersionId, path].join('/');\n-};\n-\n-export const createInternalCompareInfo = ({\n-  baseVersionId,\n-  headVersionId,\n-  entry,\n-  version,\n-}: {\n-  baseVersionId: number;\n-  headVersionId: number;\n-  entry: VersionEntry;\n-  version: ExternalVersionWithDiff;\n-}): CompareInfo => {\n-  return {\n-    diff: createInternalDiff({\n-      baseVersionId,\n-      headVersionId,\n-      version,\n-    }),\n-    mimeType: entry.mimeType,\n-  };\n-};\n-\n-export const getCompareInfo = (\n-  versions: VersionsState,\n-  addonId: number,\n-  baseVersionId: number,\n-  headVersionId: number,\n-  path?: string,\n-) => {\n-  const compareInfoKey = getCompareInfoKey({\n-    addonId,\n-    baseVersionId,\n-    headVersionId,\n-    path,\n-  });\n-\n-  return versions.compareInfo[compareInfoKey];\n-};\n-\n-export const isCompareInfoLoading = (\n-  versions: VersionsState,\n-  addonId: number,\n-  baseVersionId: number,\n-  headVersionId: number,\n-  path?: string,\n-) => {\n-  const compareInfoKey = getCompareInfoKey({\n-    addonId,\n-    baseVersionId,\n-    headVersionId,\n-    path,\n-  });\n-\n-  return versions.compareInfoIsLoading[compareInfoKey] || false;\n-};\n-\n-export const fetchDiff = ({\n-  _getDiff = getDiff,\n-  addonId,\n-  baseVersionId,\n-  headVersionId,\n-  path,\n-}: FetchDiffParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { api: apiState, versions: versionsState } = getState();\n-    if (\n-      isCompareInfoLoading(\n-        versionsState,\n-        addonId,\n-        baseVersionId,\n-        headVersionId,\n-        path,\n-      )\n-    ) {\n-      log.debug('Aborting because the diff is already being fetched');\n-      return;\n-    }\n-\n-    dispatch(\n-      actions.beginFetchDiff({ addonId, baseVersionId, headVersionId, path }),\n-    );\n-    // Set the current version to the newer one (the head vesion) so that\n-    // components can track its loading progress.\n-    dispatch(actions.setCurrentVersionId({ versionId: headVersionId }));\n-\n-    const response = await _getDiff({\n-      addonId,\n-      apiState,\n-      baseVersionId,\n-      headVersionId,\n-      path,\n-    });\n-\n-    if (isErrorResponse(response)) {\n-      dispatch(\n-        actions.abortFetchDiff({ addonId, baseVersionId, headVersionId, path }),\n-      );\n-      // Since the diff response loads a version, we also need to simulate\n-      // aborting a version fetch.\n-      dispatch(actions.abortFetchVersion({ versionId: headVersionId }));\n-      dispatch(errorsActions.addError({ error: response.error }));\n-    } else {\n-      if (\n-        !getVersionInfo(versionsState, response.id, {\n-          comparedToVersionId: baseVersionId,\n-        })\n-      ) {\n-        dispatch(\n-          actions.loadVersionInfo({\n-            version: response,\n-            comparedToVersionId: baseVersionId,\n-          }),\n-        );\n-      }\n-      dispatch(\n-        actions.loadDiff({\n-          addonId,\n-          baseVersionId,\n-          headVersionId,\n-          path,\n-          version: response,\n-        }),\n-      );\n-    }\n-  };\n-};\n-\n-type ViewVersionFileParams = {\n-  preserveHash?: boolean;\n-  selectedPath: string;\n-  scrollTo?: ScrollTarget;\n-  versionId: number;\n-};\n-\n-export const viewVersionFile = ({\n-  preserveHash = false,\n-  selectedPath,\n-  scrollTo,\n-  versionId,\n-}: ViewVersionFileParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { router } = getState();\n-\n-    const newLocation = {\n-      ...router.location,\n-      search: createAdjustedQueryString(router.location, {\n-        path: selectedPath,\n-        scrollTo,\n-      }),\n-    };\n-\n-    // We do not want to preserve the hash when we select a new file for\n-    // instance, but we want to keep it when we load a file via its path.\n-    if (!preserveHash) {\n-      delete newLocation.hash;\n-    }\n-\n-    dispatch(actions.updateSelectedPath({ versionId, selectedPath }));\n-    dispatch(push(newLocation));\n-  };\n-};\n-\n-type GoToRelativeDiffParams = {\n-  _getRelativeDiff?: typeof getRelativeDiff;\n-  _viewVersionFile?: typeof viewVersionFile;\n-  currentAnchor: string | void;\n-  diff: DiffInfo | null;\n-  pathList: string[];\n-  position: RelativePathPosition;\n-  versionId: number;\n-};\n-\n-export const goToRelativeDiff = ({\n-  /* istanbul ignore next */\n-  _getRelativeDiff = getRelativeDiff,\n-  /* istanbul ignore next */\n-  _viewVersionFile = viewVersionFile,\n-  currentAnchor,\n-  diff,\n-  pathList,\n-  position,\n-  versionId,\n-}: GoToRelativeDiffParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { router, versions: versionsState } = getState();\n-    const version = getVersionInfo(versionsState, versionId);\n-\n-    if (!version) {\n-      throw new Error('Cannot go to relative diff without a version loaded.');\n-    }\n-\n-    const nextDiffInfo = _getRelativeDiff({\n-      currentAnchor,\n-      diff,\n-      pathList,\n-      position,\n-      version,\n-    });\n-\n-    if (nextDiffInfo.anchor) {\n-      const newLocation = {\n-        ...router.location,\n-        hash: '#${nextDiffInfo.anchor}',\n-      };\n-\n-      dispatch(push(newLocation));\n-    } else if (nextDiffInfo.path) {\n-      dispatch(\n-        _viewVersionFile({\n-          preserveHash: false,\n-          selectedPath: nextDiffInfo.path,\n-          scrollTo:\n-            position === RelativePathPosition.next\n-              ? ScrollTarget.firstDiff\n-              : ScrollTarget.lastDiff,\n-          versionId,\n-        }),\n-      );\n-    }\n-  };\n-};\n-\n-const reducer: Reducer<VersionsState, ActionType<typeof actions>> = (\n-  state = initialState,\n-  action,\n-): VersionsState => {\n-  switch (action.type) {\n-    case getType(actions.beginFetchVersion): {\n-      const { versionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: undefined,\n-        },\n-      };\n-    }\n-    case getType(actions.loadVersionInfo): {\n-      const { version, comparedToVersionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [version.id]: createInternalVersion(version, { comparedToVersionId }),\n-        },\n-      };\n-    }\n-    case getType(actions.abortFetchVersion): {\n-      const { versionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: null,\n-        },\n-      };\n-    }\n-    case getType(actions.loadVersionFile): {\n-      const { path, version } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionFiles: {\n-          ...state.versionFiles,\n-          [version.id]: {\n-            ...state.versionFiles[version.id],\n-            [path]: createInternalVersionFile(version.file),\n-          },\n-        },\n-        versionFilesLoading: {\n-          ...state.versionFilesLoading,\n-          [version.id]: {\n-            ...state.versionFilesLoading[version.id],\n-            [path]: false,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.beginFetchVersionFile): {\n-      const { path, versionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionFilesLoading: {\n-          ...state.versionFilesLoading,\n-          [versionId]: {\n-            ...state.versionFilesLoading[versionId],\n-            [path]: true,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.abortFetchVersionFile): {\n-      const { path, versionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionFiles: {\n-          ...state.versionFiles,\n-          [versionId]: {\n-            ...state.versionFiles[versionId],\n-            [path]: null,\n-          },\n-        },\n-        versionFilesLoading: {\n-          ...state.versionFilesLoading,\n-          [versionId]: {\n-            ...state.versionFilesLoading[versionId],\n-            [path]: false,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.updateSelectedPath): {\n-      const { selectedPath, versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      const { expandedPaths } = version;\n-\n-      const parents = getParentFolders(selectedPath);\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            selectedPath,\n-            expandedPaths: [\n-              ...expandedPaths,\n-              ...parents.filter((newPath) => !expandedPaths.includes(newPath)),\n-            ],\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.setVisibleSelectedPath): {\n-      const { path, versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      if (path && !version.entries.find((e) => e.path === path)) {\n-        throw new Error(\n-          'Path \"${path}\" is an unknown path for version ID ${versionId}',\n-        );\n-      }\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            visibleSelectedPath: path,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.toggleExpandedPath): {\n-      const { path, versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      const { expandedPaths } = version;\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            expandedPaths: expandedPaths.includes(path)\n-              ? expandedPaths.filter((storedPath) => path !== storedPath)\n-              : [...expandedPaths, path],\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.expandTree): {\n-      const { versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      const expandedPaths = version.entries\n-        .filter((entry) => entry.type === 'directory')\n-        .map((entry) => entry.path);\n-      expandedPaths.push(ROOT_PATH);\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            expandedPaths,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.collapseTree): {\n-      const { versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            expandedPaths: [ROOT_PATH],\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.loadVersionsList): {\n-      const { addonId, versions } = action.payload;\n-\n-      return {\n-        ...state,\n-        byAddonId: {\n-          ...state.byAddonId,\n-          [addonId]: createVersionsMap(versions),\n-        },\n-      };\n-    }\n-    case getType(actions.beginFetchDiff): {\n-      const key = getCompareInfoKey(action.payload);\n-\n-      return {\n-        ...state,\n-        compareInfo: {\n-          ...state.compareInfo,\n-          [key]: undefined,\n-        },\n-        compareInfoIsLoading: {\n-          ...state.compareInfoIsLoading,\n-          [key]: true,\n-        },\n-      };\n-    }\n-    case getType(actions.abortFetchDiff): {\n-      const key = getCompareInfoKey(action.payload);\n-\n-      return {\n-        ...state,\n-        compareInfo: {\n-          ...state.compareInfo,\n-          [key]: null,\n-        },\n-        compareInfoIsLoading: {\n-          ...state.compareInfoIsLoading,\n-          [key]: false,\n-        },\n-      };\n-    }\n-    case getType(actions.loadDiff): {\n-      const {\n-        addonId,\n-        baseVersionId,\n-        headVersionId,\n-        path,\n-        version,\n-      } = action.payload;\n-\n-      const compareInfoKey = getCompareInfoKey({\n-        addonId,\n-        baseVersionId,\n-        headVersionId,\n-        path,\n-      });\n-\n-      const headVersion = getVersionInfo(state, headVersionId, {\n-        comparedToVersionId: baseVersionId,\n-      });\n-      if (!headVersion) {\n-        throw new Error('Version missing for headVersionId: ${headVersionId}');\n-      }\n-\n-      const { entries, selectedPath } = headVersion;\n-      const entry = entries.find((e) => e.path === selectedPath);\n-\n-      if (!entry) {\n-        throw new Error('Entry missing for headVersionId: ${headVersionId}');\n-      }\n-\n-      return {\n-        ...state,\n-        compareInfo: {\n-          ...state.compareInfo,\n-          [compareInfoKey]: createInternalCompareInfo({\n-            baseVersionId,\n-            headVersionId,\n-            entry,\n-            version,\n-          }),\n-        },\n-        compareInfoIsLoading: {\n-          ...state.compareInfoIsLoading,\n-          [compareInfoKey]: false,\n-        },\n-      };\n-    }\n-    case getType(actions.setCurrentVersionId): {\n-      const { versionId } = action.payload;\n-      return {\n-        ...state,\n-        currentVersionId: versionId,\n-      };\n-    }\n-    default:\n-      return state;\n-  }\n-};\n-\n-export default reducer;",linter=__webpack_require__("./src/reducers/linter.tsx"),versions=__webpack_require__("./src/reducers/versions.tsx"),test_helpers=__webpack_require__("./src/test-helpers.tsx"),utils=__webpack_require__("./src/utils.tsx"),long_unbroken_minified_diff=__webpack_require__("./src/stories/fixtures/long-unbroken-minified-diff.tsx"),storybook_utils=__webpack_require__("./src/storybook-utils.tsx"),classCallCheck=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),inherits=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),createForOfIteratorHelper=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),Alert=__webpack_require__("./node_modules/react-bootstrap/esm/Alert.js"),withRouter=__webpack_require__("./node_modules/react-router-dom/es/withRouter.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),Commentable=__webpack_require__("./src/components/Commentable/index.tsx"),CommentList=__webpack_require__("./src/components/CommentList/index.tsx"),FadableContent=__webpack_require__("./src/components/FadableContent/index.tsx"),LinterProvider=__webpack_require__("./src/components/LinterProvider/index.tsx"),LinterMessage=__webpack_require__("./src/components/LinterMessage/index.tsx"),GlobalLinterMessages=__webpack_require__("./src/components/GlobalLinterMessages/index.tsx"),SlowPageAlert=__webpack_require__("./src/components/SlowPageAlert/index.tsx"),refractor=__webpack_require__("./src/refractor/index.tsx"),styles_module=__webpack_require__("./src/components/DiffView/styles.module.scss"),styles_module_default=__webpack_require__.n(styles_module),jsx_runtime=(__webpack_require__("./node_modules/react-diff-view/style/index.css"),__webpack_require__("./node_modules/react/jsx-runtime.js")),Profiler=react.Profiler,addedChange={content:utils.f,isDelete:!1,isInsert:!1,isNormal:!0,lineNumber:void 0,newLineNumber:void 0,oldLineNumber:void 0,type:"normal"},DiffView_getChangeCharCount=function getChangeCharCount(hunks){return Object(utils.j)(hunks).reduce((function(charCount,change){return charCount+change.content.length}),0)},DiffView_trimHunkChars=function trimHunkChars(_ref){var _step,hunks=_ref.hunks,_ref$_trimmedCharCoun=_ref._trimmedCharCount,_trimmedCharCount=void 0===_ref$_trimmedCharCoun?utils.b:_ref$_trimmedCharCoun,charCount=0,hunkIndex=0,trimmedHunks=[],_iterator=Object(createForOfIteratorHelper.a)(hunks);try{for(_iterator.s();!(_step=_iterator.n()).done;){var hunk=_step.value;trimmedHunks.push(Object(objectSpread2.a)(Object(objectSpread2.a)({},hunk),{},{changes:[]})),hunkIndex=trimmedHunks.length-1;var _step2,_iterator2=Object(createForOfIteratorHelper.a)(hunk.changes);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var change=_step2.value;if(charCount+change.content.length>_trimmedCharCount)return _trimmedCharCount-charCount&&trimmedHunks[hunkIndex].changes.push(Object(objectSpread2.a)(Object(objectSpread2.a)({},change),{},{content:change.content.substring(0,_trimmedCharCount-charCount)})),trimmedHunks[hunkIndex].changes.push(addedChange),trimmedHunks;trimmedHunks[hunkIndex].changes.push(change),charCount+=change.content.length}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return trimmedHunks},DiffView_changeCanBeCommentedUpon=function changeCanBeCommentedUpon(change){return[versions.c.insert,versions.c.normal].includes(change.type)},DiffView_DiffViewBase=function(_React$Component){Object(inherits.a)(DiffViewBase,_React$Component);var _super=Object(createSuper.a)(DiffViewBase);function DiffViewBase(){var _this;Object(classCallCheck.a)(this,DiffViewBase);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).onRenderProfiler=function(id,phase,actualDuration){_this.props._sendPerfTiming({actualDuration:actualDuration,id:id})},_this.getWidgets=function(hunks,selectedMessageMap){var _step3,_this$props=_this.props,_changeCanBeCommentedUpon=_this$props._changeCanBeCommentedUpon,enableCommenting=_this$props.enableCommenting,version=_this$props.version,allWidgets={},changesAllowingWidgets=Object(utils.j)(hunks).filter((function(change){return change.isDelete||change.isInsert||change.isNormal})),_iterator3=Object(createForOfIteratorHelper.a)(changesAllowingWidgets);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var change=_step3.value,changeKey=Object(es.d)(change),line=change.lineNumber,messages=void 0;line&&selectedMessageMap&&(messages=selectedMessageMap.byLine[line]);var widget=enableCommenting&&line&&_changeCanBeCommentedUpon(change)?Object(jsx_runtime.jsx)(CommentList.a,{addonId:version.addon.id,fileName:version.selectedPath,line:line,versionId:version.id,children:function children(allComments){return allComments}}):null;messages&&messages.length&&!change.isDelete&&(widget=Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[widget,Object(jsx_runtime.jsx)("div",{className:styles_module_default.a.inlineLinterMessages,children:messages.map((function(msg){return Object(jsx_runtime.jsx)(LinterMessage.b,{message:msg,inline:!0},msg.uid)}))})]})),allWidgets[changeKey]=widget}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return allWidgets},_this.renderHunk=function(hunk,index){var components=[Object(jsx_runtime.jsx)(es.c,{hunk:hunk,className:styles_module_default.a.hunk},"hunk-".concat(hunk.content))];return index>0&&components.unshift(Object(jsx_runtime.jsx)(es.a,{children:Object(jsx_runtime.jsx)("div",{className:styles_module_default.a.hunkSeparator,children:"..."})},"decoration-".concat(hunk.content))),components},_this.renderHunks=function(hunks){return hunks.map(_this.renderHunk)},_this.renderExtraMessages=function(messages){return Object(jsx_runtime.jsx)("div",{className:styles_module_default.a.extraMessages,children:messages})},_this.renderGutter=function(_ref2){var change=_ref2.change,renderDefault=_ref2.renderDefault,side=_ref2.side,wrapInAnchor=_ref2.wrapInAnchor,_this$props2=_this.props,_changeCanBeCommentedUpon=_this$props2._changeCanBeCommentedUpon,enableCommenting=_this$props2.enableCommenting,version=_this$props2.version,lineNumber=change.lineNumber,defaultGutter=wrapInAnchor(renderDefault()),gutter=defaultGutter;return enableCommenting&&_changeCanBeCommentedUpon(change)&&lineNumber&&"new"===side&&(gutter=Object(jsx_runtime.jsx)(Commentable.b,{as:"div",className:styles_module_default.a.gutter,line:lineNumber,fileName:version.selectedPath,versionId:version.id,children:function children(addCommentButton){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[defaultGutter,Object(jsx_runtime.jsx)("span",{className:styles_module_default.a.commentButton,children:addCommentButton})]})}})),gutter},_this.renderWithMessages=function(_ref3){var hunks,diffIsSlowAlert,tokens,selectedMessageMap=_ref3.selectedMessageMap,_this$props3=_this.props,_codeCanBeHighlighted=_this$props3._codeCanBeHighlighted,_codeShouldBeTrimmed=_this$props3._codeShouldBeTrimmed,_trimmedCharCount=_this$props3._trimmedCharCount,_slowLoadingLineCount=_this$props3._slowLoadingLineCount,_tokenize=_this$props3._tokenize,_trimHunkChars=_this$props3._trimHunkChars,diff=_this$props3.diff,isMinified=_this$props3.isMinified,location=_this$props3.location,mimeType=_this$props3.mimeType,version=_this$props3.version,viewType=_this$props3.viewType,options={highlight:!0,language:Object(utils.k)(mimeType),refractor:refractor.a},selectedChanges=location.hash.length>2?[location.hash.substring(1)]:[],extraMessages=[],diffWasTrimmed=!1;if(diff){var _step4,changeCount=0,_iterator4=Object(createForOfIteratorHelper.a)(diff.hunks);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){changeCount+=_step4.value.changes.length}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}hunks=diff.hunks,_codeShouldBeTrimmed({codeCharLength:DiffView_getChangeCharCount(hunks),codeLineLength:changeCount,isMinified:isMinified,trimmedCharCount:_trimmedCharCount,slowLoadingLineCount:_slowLoadingLineCount})&&(Object(utils.s)({allowByDefault:!isMinified,location:location})||(hunks=_trimHunkChars({hunks:hunks}),diffWasTrimmed=!0),diffIsSlowAlert=Object(jsx_runtime.jsx)(SlowPageAlert.a,{allowSlowPagesByDefault:!isMinified,getMessage:function getMessage(allowSlowPages){return allowSlowPages?Object(utils.m)("This diff may load slowly."):Object(utils.m)("This diff was shortened to load faster.")},getLinkText:function getLinkText(allowSlowPages){return allowSlowPages?Object(utils.m)("Shorten the diff."):Object(utils.m)("Show the original diff.")}},"slowPageAlert"),extraMessages.push(diffIsSlowAlert))}return hunks&&_codeCanBeHighlighted({code:Object(utils.j)(hunks)})&&!diffWasTrimmed&&(tokens=_tokenize(hunks,options)),tokens&&1===tokens.old.length&&Array.isArray(tokens.old[0])&&0===tokens.old[0].length&&1===tokens.new.length&&Array.isArray(tokens.new[0])&&0===tokens.new[0].length&&(tokens=void 0),diff&&!tokens&&extraMessages.push(Object(jsx_runtime.jsx)(Alert.a,{variant:"warning",children:Object(utils.m)("Syntax highlighting was disabled for performance")},"syntaxHighlightingAlert")),Object(jsx_runtime.jsxs)("div",{className:styles_module_default.a.DiffView,children:[!diff&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{className:styles_module_default.a.header}),Object(jsx_runtime.jsx)("div",{className:classnames_default()(styles_module_default.a.diff,styles_module_default.a.noDiffs),children:Object(utils.m)("No differences")})]}),Object(jsx_runtime.jsx)(GlobalLinterMessages.a,{className:styles_module_default.a.globalLinterMessages,messages:selectedMessageMap&&selectedMessageMap.global}),extraMessages.length?_this.renderExtraMessages(extraMessages):null,diff&&hunks&&Object(jsx_runtime.jsxs)(react.Fragment,{children:[_this.renderHeader(diff),Object(jsx_runtime.jsx)(FadableContent.a,{fade:diffWasTrimmed,children:Object(jsx_runtime.jsx)(es.b,{className:styles_module_default.a.diff,diffType:diff.type,hunks:hunks,tokens:tokens,viewType:viewType,gutterType:"anchor",generateAnchorID:es.d,selectedChanges:selectedChanges,widgets:_this.getWidgets(hunks,selectedMessageMap),renderGutter:_this.renderGutter,children:_this.renderHunks})})]},version.id),diffWasTrimmed&&diffIsSlowAlert&&_this.renderExtraMessages(diffIsSlowAlert)]})},_this}return Object(createClass.a)(DiffViewBase,[{key:"componentDidMount",value:function componentDidMount(){this.loadData()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.loadData()}},{key:"loadData",value:function loadData(){var _this$props4=this.props,_document=_this$props4._document,_getDiffAnchors=_this$props4._getDiffAnchors,_getRelativeDiffAnchor=_this$props4._getRelativeDiffAnchor,diff=_this$props4.diff,history=_this$props4.history,location=_this$props4.location;if(diff){var anchor,queryParams=query_string_default.a.parse(location.search),scrollTo=queryParams.scrollTo;if(scrollTo){if(scrollTo===versions.a.firstDiff)anchor=_getRelativeDiffAnchor({diff:diff});else{var anchors=_getDiffAnchors(diff);anchors.length&&(anchor=anchors[anchors.length-1])}if(anchor){var newParams=Object(objectSpread2.a)({},queryParams);delete newParams.scrollTo;var newLocation=Object(objectSpread2.a)(Object(objectSpread2.a)({},location),{},{hash:"#".concat(anchor),search:query_string_default.a.stringify(newParams)});history.push(newLocation)}}}if(location.hash.length){var element=_document.querySelector(location.hash);element&&element.scrollIntoView()}}},{key:"renderHeader",value:function renderHeader(_ref4){var _hunks$reduce=_ref4.hunks.reduce((function(acc,hunk){return{additions:acc.additions+hunk.changes.filter((function(change){return change.isInsert})).length,deletions:acc.deletions+hunk.changes.filter((function(change){return change.isDelete})).length}}),{additions:0,deletions:0}),additions=_hunks$reduce.additions,deletions=_hunks$reduce.deletions;return Object(jsx_runtime.jsx)("div",{className:styles_module_default.a.header,children:Object(jsx_runtime.jsxs)("div",{className:styles_module_default.a.stats,children:[Object(jsx_runtime.jsx)("span",{className:styles_module_default.a.statsAdditions,children:"+++ ".concat(additions)}),Object(jsx_runtime.jsx)("span",{className:styles_module_default.a.statsDeletions,children:"--- ".concat(deletions)})]})})}},{key:"render",value:function render(){var version=this.props.version;return Object(jsx_runtime.jsx)(Profiler,{id:"DiffView-Render",onRender:this.onRenderProfiler,children:Object(jsx_runtime.jsx)(LinterProvider.a,{version:version,selectedPath:version.selectedPath,children:this.renderWithMessages})})}}]),DiffViewBase}(react.Component);DiffView_DiffViewBase.defaultProps={_changeCanBeCommentedUpon:DiffView_changeCanBeCommentedUpon,_codeCanBeHighlighted:utils.d,_codeShouldBeTrimmed:utils.e,_document:document,_getDiffAnchors:versions.j,_getRelativeDiffAnchor:versions.m,_trimmedCharCount:utils.b,_sendPerfTiming:utils.r,_slowLoadingLineCount:utils.a,_tokenize:es.f,_trimHunkChars:DiffView_trimHunkChars,enableCommenting:!0,viewType:"unified"};var DiffView=Object(withRouter.a)(DiffView_DiffViewBase);try{DiffView_getChangeCharCount.displayName="getChangeCharCount",DiffView_getChangeCharCount.__docgenInfo={description:"",displayName:"getChangeCharCount",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DiffView/index.tsx#getChangeCharCount"]={docgenInfo:DiffView_getChangeCharCount.__docgenInfo,name:"getChangeCharCount",path:"src/components/DiffView/index.tsx#getChangeCharCount"})}catch(__react_docgen_typescript_loader_error){}try{DiffView_trimHunkChars.displayName="trimHunkChars",DiffView_trimHunkChars.__docgenInfo={description:"",displayName:"trimHunkChars",props:{hunks:{defaultValue:null,description:"",name:"hunks",required:!0,type:{name:"any"}},_trimmedCharCount:{defaultValue:{value:"300"},description:"",name:"_trimmedCharCount",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DiffView/index.tsx#trimHunkChars"]={docgenInfo:DiffView_trimHunkChars.__docgenInfo,name:"trimHunkChars",path:"src/components/DiffView/index.tsx#trimHunkChars"})}catch(__react_docgen_typescript_loader_error){}try{DiffView_changeCanBeCommentedUpon.displayName="changeCanBeCommentedUpon",DiffView_changeCanBeCommentedUpon.__docgenInfo={description:"",displayName:"changeCanBeCommentedUpon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DiffView/index.tsx#changeCanBeCommentedUpon"]={docgenInfo:DiffView_changeCanBeCommentedUpon.__docgenInfo,name:"changeCanBeCommentedUpon",path:"src/components/DiffView/index.tsx#changeCanBeCommentedUpon"})}catch(__react_docgen_typescript_loader_error){}try{DiffView_DiffViewBase.displayName="DiffViewBase",DiffView_DiffViewBase.__docgenInfo={description:"",displayName:"DiffViewBase",props:{diff:{defaultValue:null,description:"",name:"diff",required:!0,type:{name:"any"}},isMinified:{defaultValue:null,description:"",name:"isMinified",required:!0,type:{name:"boolean"}},mimeType:{defaultValue:null,description:"",name:"mimeType",required:!0,type:{name:"string"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"Version"}},_changeCanBeCommentedUpon:{defaultValue:{value:"(change: ChangeInfo) => {\n  return [changeTypes.insert, changeTypes.normal].includes(change.type);\n}"},description:"",name:"_changeCanBeCommentedUpon",required:!1,type:{name:"(change: any) => boolean"}},_codeCanBeHighlighted:{defaultValue:{value:"({\n  code,\n  // This is a single line width that would make code too wide.\n  wideLineLength = 500,\n  // This is the total line count that we consider too long.\n  highLineCount = 3000,\n}: {\n  code: string[] | ChangeInfo[];\n  wideLineLength?: number;\n  highLineCount?: number;\n}) => {\n  for (let index = 0; index < code.length; index++) {\n    const codeLineOrChange = code[index];\n    const line =\n      typeof codeLineOrChange === 'string'\n        ? codeLineOrChange\n        : codeLineOrChange.content;\n\n    if (line.length > wideLineLength) {\n      return false;\n    }\n    if (index >= highLineCount) {\n      return false;\n    }\n  }\n\n  return true;\n}"},description:"",name:"_codeCanBeHighlighted",required:!1,type:{name:"({ code, wideLineLength, highLineCount, }: { code: string[] | any[]; wideLineLength?: number; highLineCount?: number; }) => boolean"}},_codeShouldBeTrimmed:{defaultValue:{value:"({\n  codeCharLength,\n  codeLineLength,\n  isMinified,\n  trimmedCharCount,\n  slowLoadingLineCount,\n}: {\n  codeCharLength: number;\n  codeLineLength: number;\n  isMinified: boolean;\n  trimmedCharCount: number;\n  slowLoadingLineCount: number;\n}) => {\n  return (\n    codeLineLength >= slowLoadingLineCount ||\n    (isMinified && codeCharLength > trimmedCharCount)\n  );\n}"},description:"",name:"_codeShouldBeTrimmed",required:!1,type:{name:"({ codeCharLength, codeLineLength, isMinified, trimmedCharCount, slowLoadingLineCount, }: { codeCharLength: number; codeLineLength: number; isMinified: boolean; trimmedCharCount: number; slowLoadingLineCount: number; }) => boolean"}},_document:{defaultValue:null,description:"",name:"_document",required:!0,type:{name:"Document"}},_getDiffAnchors:{defaultValue:{value:"(diff: DiffInfo): string[] => {\n  const anchors: string[] = [];\n\n  for (const hunk of diff.hunks) {\n    let seekingChange = true;\n    for (const change of hunk.changes) {\n      if (change.type === 'normal') {\n        seekingChange = true;\n      } else if (seekingChange) {\n        // This is the first change in a block.\n        anchors.push(getChangeKey(change));\n        seekingChange = false;\n      }\n    }\n  }\n  return anchors;\n}"},description:"",name:"_getDiffAnchors",required:!1,type:{name:"(diff: any) => string[]"}},_getRelativeDiffAnchor:{defaultValue:{value:"({\n  currentAnchor = '',\n  diff,\n  position = RelativePathPosition.next,\n}: GetRelativeDiffAnchorParams): string | null => {\n  const anchors = getDiffAnchors(diff);\n  if (anchors.length) {\n    if (!currentAnchor) {\n      // Since we aren't looking for an anchor relative to an existing one,\n      // just get the first anchor.\n      return anchors[0];\n    }\n\n    const currentIndex = anchors.indexOf(currentAnchor);\n\n    if (currentIndex >= 0) {\n      const newIndex =\n        position === RelativePathPosition.previous\n          ? currentIndex - 1\n          : currentIndex + 1;\n\n      if (newIndex >= 0 && newIndex < anchors.length) {\n        return anchors[newIndex];\n      }\n      // The currentAnchor is the only anchor in the diff.\n      return null;\n    }\n\n    // We have a currentAnchor, but is doesn't match anything in anchors, so\n    // we need to try to find the correct anchor closest to the currentAnchor.\n    const currentAnchorNumber = extractNumber(currentAnchor);\n    const sortedAnchors: string[] =\n      position === RelativePathPosition.previous\n        ? [...anchors].reverse()\n        : anchors;\n    if (currentAnchorNumber) {\n      for (const anchor of sortedAnchors) {\n        const anchorNumber = extractNumber(anchor);\n        if (anchorNumber) {\n          if (\n            (position === RelativePathPosition.previous &&\n              anchorNumber <= currentAnchorNumber) ||\n            (position === RelativePathPosition.next &&\n              anchorNumber >= currentAnchorNumber)\n          ) {\n            return anchor;\n          }\n        }\n      }\n    }\n  }\n\n  // We never found a valid next/previous anchor in the file, so return null.\n  return null;\n}"},description:"",name:"_getRelativeDiffAnchor",required:!1,type:{name:"({ currentAnchor, diff, position, }: GetRelativeDiffAnchorParams) => string | null"}},_trimmedCharCount:{defaultValue:{value:"300"},description:"",name:"_trimmedCharCount",required:!1,type:{name:"number"}},_sendPerfTiming:{defaultValue:{value:"({\n  _tracking = tracking,\n  _window = window,\n  actualDuration,\n  id,\n}: {\n  _tracking?: typeof tracking;\n  _window?: typeof window;\n  actualDuration: number;\n  id: string;\n}) => {\n  _tracking.timing({\n    category: 'renderPerf',\n    label: _window.location.href,\n    value: actualDuration,\n    variable: id,\n  });\n}"},description:"",name:"_sendPerfTiming",required:!1,type:{name:"({ _tracking, _window, actualDuration, id, }: { _tracking?: Tracking; _window?: (Window & typeof globalThis); actualDuration: number; id: string; }) => void"}},_slowLoadingLineCount:{defaultValue:{value:"5000"},description:"",name:"_slowLoadingLineCount",required:!1,type:{name:"number"}},_tokenize:{defaultValue:null,description:"",name:"_tokenize",required:!1,type:{name:"any"}},_trimHunkChars:{defaultValue:{value:"({\n  hunks,\n  _trimmedCharCount = TRIMMED_CHAR_COUNT,\n}: {\n  hunks: Hunks;\n  _trimmedCharCount?: number;\n}): Hunks => {\n  let charCount = 0;\n  let hunkIndex = 0;\n  const trimmedHunks: Hunks = [];\n  for (const hunk of hunks) {\n    trimmedHunks.push({ ...hunk, changes: [] });\n    hunkIndex = trimmedHunks.length - 1;\n    for (const change of hunk.changes) {\n      if (charCount + change.content.length > _trimmedCharCount) {\n        if (_trimmedCharCount - charCount) {\n          // Push a trimmed version of this change, if there's any room left.\n          trimmedHunks[hunkIndex].changes.push({\n            ...change,\n            content: change.content.substring(0, _trimmedCharCount - charCount),\n          });\n        }\n        // Push an additional change with a comment that says the content has\n        // been trimmed.\n        trimmedHunks[hunkIndex].changes.push(addedChange);\n        return trimmedHunks;\n      }\n      trimmedHunks[hunkIndex].changes.push(change);\n      charCount += change.content.length;\n    }\n  }\n  return trimmedHunks;\n}"},description:"",name:"_trimHunkChars",required:!1,type:{name:"({ hunks, _trimmedCharCount, }: { hunks: any; _trimmedCharCount?: number; }) => any"}},enableCommenting:{defaultValue:{value:"process.env.REACT_APP_ENABLE_COMMENTING === 'true'"},description:"",name:"enableCommenting",required:!1,type:{name:"boolean"}},viewType:{defaultValue:{value:"unified"},description:"",name:"viewType",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DiffView/index.tsx#DiffViewBase"]={docgenInfo:DiffView_DiffViewBase.__docgenInfo,name:"DiffViewBase",path:"src/components/DiffView/index.tsx#DiffViewBase"})}catch(__react_docgen_typescript_loader_error){}var _excluded=["location"],_excluded2=["diff"],DiffView_stories_render=function render(){var moreProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},store=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(configureStore.a)(),location=moreProps.location,remainingProps=Object(objectWithoutProperties.a)(moreProps,_excluded),props=Object(objectSpread2.a)({diff:Object(es.e)(basicDiff)[0],isMinified:!1,mimeType:"application/javascript",version:Object(versions.e)(test_helpers.m)},remainingProps);return Object(storybook_utils.f)(Object(jsx_runtime.jsxs)(FullscreenGrid.b,{children:[Object(jsx_runtime.jsx)(FullscreenGrid.a,{}),Object(jsx_runtime.jsx)(ContentShell.a,{children:Object(jsx_runtime.jsx)(DiffView,Object(objectSpread2.a)({},props))})]}),{store:store,location:location})},DiffView_stories_renderWithMessages=function renderWithMessages(messages){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$diff=_ref.diff,diff=void 0===_ref$diff?Object(es.e)(basicDiff)[0]:_ref$diff,moreProps=Object(objectWithoutProperties.a)(_ref,_excluded2),path="lib/some-file.js",result=Object(test_helpers.b)({messages:messages.map((function(msg){return Object(objectSpread2.a)(Object(objectSpread2.a)({uid:Object(storybook_utils.e)()},msg),{},{file:path})}))}),store=Object(configureStore.a)(),version=Object(versions.e)(Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.m),{},{file:Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.l),{},{selected_file:path}),file_entries:Object(defineProperty.a)({},path,Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.k),{},{path:path}))}));store.dispatch(linter.a.loadLinterResult({versionId:version.id,result:result}));var props=Object(objectSpread2.a)({diff:diff,isMinified:!1,mimeType:"application/javascript",version:version},moreProps);return DiffView_stories_render(props,store)},DiffView_stories_DiffWithAdditionsAndDeletions=(__webpack_exports__.default={title:"Components/DiffView",component:DiffView_DiffViewBase},function DiffWithAdditionsAndDeletions(){return DiffView_stories_render({diff:Object(es.e)(diffWithDeletions)[0]})}),NoDifferences=function NoDifferences(){return DiffView_stories_render({diff:null})},OneGlobalLinterMessage=function OneGlobalLinterMessage(){return DiffView_stories_renderWithMessages([{line:null,message:"The &#34;update_url&#34; property is not used by Firefox.",description:["The &#34;update_url&#34; is not used by Firefox in the root of a manifest; your add-on will be updated via the Add-ons site and not your &#34;update_url&#34;."],type:"warning"}])},MultipleGlobalLinterMessages=function MultipleGlobalLinterMessages(){return DiffView_stories_renderWithMessages([{line:null,message:"The &#34;update_url&#34; property is not used by Firefox.",description:["The &#34;update_url&#34; is not used by Firefox in the root of a manifest; your add-on will be updated via the Add-ons site and not your &#34;update_url&#34;."],type:"warning"},{line:null,message:"/permissions: Unknown permissions &#34;unlimitedStorage&#34; at 8.",description:["See ... for more information."],type:"notice"}])},OneLinterMessageOnOneLine=function OneLinterMessageOnOneLine(){return DiffView_stories_renderWithMessages([{line:39,message:"expect().toHaveProp() detected",description:["Calls to expect().toHaveProp() might lead to your add-on getting approved."],type:"warning"}])},MultipleLinterMessagesOnOneLine=function MultipleLinterMessagesOnOneLine(){return DiffView_stories_renderWithMessages([{line:39,message:"expect().toHaveProp() detected",description:["Calls to expect().toHaveProp() might lead to your add-on getting approved."],type:"warning"},{line:39,message:"Unsafe call to expect()",description:["Calling expect() like this is unsafe but not really."],type:"error"}])},DiffView_stories_MmultipleLinterMessagesOnMultipleLines=function MmultipleLinterMessagesOnMultipleLines(){return DiffView_stories_renderWithMessages([{line:9,message:"Third party library detected",description:["This add-on may require additional review."],type:"warning"},{line:24,message:"Unsafe call to console.log()",description:["Calling console.log() like this is unsafe but not really."],type:"error"}],{diff:Object(es.e)(diffWithDeletions)[0]})},DiffView_stories_SlowSyntaxHighlightingWarning=function SlowSyntaxHighlightingWarning(){return DiffView_stories_render({diff:Object(es.e)(minifiedDiff)[0]})},DiffView_stories_SlowSyntaxHighlightingWarningWithLinterMessage=function SlowSyntaxHighlightingWarningWithLinterMessage(){return DiffView_stories_renderWithMessages([{line:null,message:"There is a problem with this file.",description:["This file has a problem"],type:"warning"}],{diff:Object(es.e)(minifiedDiff)[0]})},DiffView_stories_SlowDiffWarning=function SlowDiffWarning(){return DiffView_stories_render({diff:Object(es.e)(largeDiff)[0],location:Object(test_helpers.c)({search:query_string_default.a.stringify(Object(defineProperty.a)({},utils.c,!1))})})},DiffView_stories_SlowDiffWarningOverridden=function SlowDiffWarningOverridden(){return DiffView_stories_render({diff:Object(es.e)(largeDiff)[0],location:Object(test_helpers.c)({search:query_string_default.a.stringify(Object(defineProperty.a)({},utils.c,!0))})})},DiffView_stories_LongUnbrokenMinifiedDiff=function LongUnbrokenMinifiedDiff(){return DiffView_stories_renderWithMessages([{line:1,message:"Minified diff detected",description:["You do not need to minify add-on code."],type:"warning"}],{diff:Object(es.e)("diff --git a/src/components/DiffView.test.tsx b/src/components/DiffView.test.tsx\nindex 5ca1a30..4e2c90f 100644\n--- a/src/components/DiffView.test.tsx\n+++ b/src/components/DiffView.test.tsx\n@@ -1,1 +1,1 @@\n-\n+".concat(long_unbroken_minified_diff.a))[0]})}},"./src/components/DiffView/styles.module.scss":function(module,exports,__webpack_require__){module.exports={header:"styles_header__1acyS",stats:"styles_stats__1CsWq",statsAdditions:"styles_statsAdditions__2ZiNx",statsDeletions:"styles_statsDeletions__daLk3",hunkSeparator:"styles_hunkSeparator__2tvIM",noDiffs:"styles_noDiffs__Fdm4C",extraMessages:"styles_extraMessages__3OiYS",globalLinterMessages:"styles_globalLinterMessages__176tt",inlineLinterMessages:"styles_inlineLinterMessages__133tm",gutter:"styles_gutter__3I9pd",commentButton:"styles_commentButton__tO7N7"}},"./src/components/ErrorBoundary/ErrorBoundary.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"WithError",(function(){return ErrorBoundary_stories_WithError})),__webpack_require__.d(__webpack_exports__,"WithoutError",(function(){return ErrorBoundary_stories_WithoutError}));var react=__webpack_require__("./node_modules/react/index.js"),classCallCheck=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),inherits=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),loglevel=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel_default=__webpack_require__.n(loglevel),styles_module=__webpack_require__("./src/components/ErrorBoundary/styles.module.scss"),styles_module_default=__webpack_require__.n(styles_module),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ErrorBoundary_ErrorBoundaryBase=function(_React$Component){Object(inherits.a)(ErrorBoundaryBase,_React$Component);var _super=Object(createSuper.a)(ErrorBoundaryBase);function ErrorBoundaryBase(props){var _this;return Object(classCallCheck.a)(this,ErrorBoundaryBase),(_this=_super.call(this,props)).state={error:null,errorInfo:null},_this}return Object(createClass.a)(ErrorBoundaryBase,[{key:"componentDidCatch",value:function componentDidCatch(error,errorInfo){var _log=this.props._log;this.setState({error:error,errorInfo:errorInfo}),_log.error("Caught application error:",error,errorInfo)}},{key:"render",value:function render(){var _this$state=this.state,error=_this$state.error,errorInfo=_this$state.errorInfo;return errorInfo?Object(jsx_runtime.jsxs)("div",{className:styles_module_default.a.container,children:[Object(jsx_runtime.jsx)("h2",{children:"Oops, something went wrong."}),Object(jsx_runtime.jsxs)("p",{children:["Please let us know what you were trying to do when this error occured by"," ",Object(jsx_runtime.jsx)("a",{href:"https://github.com/mozilla/addons-code-manager/issues/new/",rel:"noopener noreferrer",target:"_blank",children:"filing an issue"}),"."]}),Object(jsx_runtime.jsxs)("details",{className:styles_module_default.a.errorDetails,children:[Object(jsx_runtime.jsx)("div",{className:styles_module_default.a.errorText,children:error&&error.toString()}),Object(jsx_runtime.jsx)("div",{className:styles_module_default.a.componentStack,children:errorInfo&&errorInfo.componentStack})]})]}):this.props.children}}]),ErrorBoundaryBase}(react.Component);ErrorBoundary_ErrorBoundaryBase.defaultProps={_log:loglevel_default.a};var ErrorBoundary=ErrorBoundary_ErrorBoundaryBase;try{ErrorBoundary_ErrorBoundaryBase.displayName="ErrorBoundaryBase",ErrorBoundary_ErrorBoundaryBase.__docgenInfo={description:"",displayName:"ErrorBoundaryBase",props:{_log:{defaultValue:null,description:"",name:"_log",required:!0,type:{name:"RootLogger"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ErrorBoundary/index.tsx#ErrorBoundaryBase"]={docgenInfo:ErrorBoundary_ErrorBoundaryBase.__docgenInfo,name:"ErrorBoundaryBase",path:"src/components/ErrorBoundary/index.tsx#ErrorBoundaryBase"})}catch(__react_docgen_typescript_loader_error){}var ErrorBoundary_stories_render=function render(children){return Object(jsx_runtime.jsx)(ErrorBoundary,{children:children})},ErrorBoundary_stories_WithError=(__webpack_exports__.default={title:"Components/ErrorBoundary",component:ErrorBoundary},function WithError(){return ErrorBoundary_stories_render(Object(jsx_runtime.jsx)("div",{children:new Error("Test Error")}))}),ErrorBoundary_stories_WithoutError=function WithoutError(){return ErrorBoundary_stories_render(Object(jsx_runtime.jsx)("div",{children:"This is error-less content"}))}},"./src/components/ErrorBoundary/styles.module.scss":function(module,exports,__webpack_require__){module.exports={container:"styles_container__1YrL2",errorDetails:"styles_errorDetails__pAwbi"}},"./src/components/FadableContent/FadableContent.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FadingOutCode",(function(){return FadingOutCode})),__webpack_require__.d(__webpack_exports__,"FadingOutText",(function(){return FadingOutText}));__webpack_require__("./node_modules/react/index.js");var _configureStore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/configureStore.tsx"),_CodeView__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/CodeView/index.tsx"),_reducers_versions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/reducers/versions.tsx"),_stories_fixtures_js_sample__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/stories/fixtures/js-sample.tsx"),_test_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/test-helpers.tsx"),_storybook_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/storybook-utils.tsx"),___WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/FadableContent/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react/jsx-runtime.js"),renderWithContent=function renderWithContent(content){return Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_6__.f)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"FadableContent-shell",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(___WEBPACK_IMPORTED_MODULE_7__.a,{fade:!0,children:content})}),{store:Object(_configureStore__WEBPACK_IMPORTED_MODULE_1__.a)()})};__webpack_exports__.default={title:"Components/FadableContent",component:___WEBPACK_IMPORTED_MODULE_7__.a};var FadingOutCode=function FadingOutCode(){return renderWithContent(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_CodeView__WEBPACK_IMPORTED_MODULE_2__.a,{content:_stories_fixtures_js_sample__WEBPACK_IMPORTED_MODULE_4__.a,isMinified:!1,mimeType:"application/javascript",version:Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_3__.e)(_test_helpers__WEBPACK_IMPORTED_MODULE_5__.m)}))},FadingOutText=function FadingOutText(){return renderWithContent(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment,{children:Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_6__.c)(6)}))}},"./src/components/FadableContent/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var _styles_module_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/FadableContent/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.a=function FadableContentBase(_ref){var children=_ref.children;return _ref.fade?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.shell,children:children}):children};try{FadableContent.displayName="FadableContent",FadableContent.__docgenInfo={description:"",displayName:"FadableContent",props:{fade:{defaultValue:null,description:"",name:"fade",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FadableContent/index.tsx#FadableContent"]={docgenInfo:FadableContent.__docgenInfo,name:"FadableContent",path:"src/components/FadableContent/index.tsx#FadableContent"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/FadableContent/styles.module.scss":function(module,exports,__webpack_require__){module.exports={shell:"styles_shell__3sfvh"}},"./src/components/FileMetadata/FileMetadata.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"WithListsOfVersionsLoaded",(function(){return FileMetadata_stories_WithListsOfVersionsLoaded})),__webpack_require__.d(__webpack_exports__,"WithAConstrainedWidth",(function(){return FileMetadata_stories_WithAConstrainedWidth}));var objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),versions=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/reducers/versions.tsx")),test_helpers=__webpack_require__("./src/test-helpers.tsx"),styles_module=__webpack_require__("./src/components/FileMetadata/styles.module.scss"),styles_module_default=__webpack_require__.n(styles_module),utils=__webpack_require__("./src/utils.tsx"),api=__webpack_require__("./src/api/index.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),components_FileMetadata=function FileMetadataBase(_ref){var file=_ref.file;return Object(jsx_runtime.jsx)("div",{className:styles_module_default.a.FileMetadata,children:Object(jsx_runtime.jsxs)("dl",{children:[Object(jsx_runtime.jsx)("dt",{children:Object(utils.m)("Size")}),Object(jsx_runtime.jsx)("dd",{className:styles_module_default.a.size,children:Object(utils.i)(file.size)}),Object(jsx_runtime.jsx)("dt",{children:Object(utils.m)("SHA256 hash")}),Object(jsx_runtime.jsx)("dd",{className:styles_module_default.a.sha256,children:Object(jsx_runtime.jsx)("code",{children:file.sha256})}),Object(jsx_runtime.jsx)("dt",{children:Object(utils.m)("MIME type")}),Object(jsx_runtime.jsx)("dd",{className:styles_module_default.a.mimeType,children:file.mimeType}),file.downloadURL&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("dt",{children:Object(utils.m)("Download link")}),Object(jsx_runtime.jsx)("dd",{className:styles_module_default.a.downloadURL,children:Object(jsx_runtime.jsx)("a",{href:Object(api.m)({url:file.downloadURL}),children:file.filename})})]})]})})};try{FileMetadata.displayName="FileMetadata",FileMetadata.__docgenInfo={description:"",displayName:"FileMetadata",props:{file:{defaultValue:null,description:"",name:"file",required:!0,type:{name:"VersionFileWithContent | VersionFileWithDiff"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileMetadata/index.tsx#FileMetadata"]={docgenInfo:FileMetadata.__docgenInfo,name:"FileMetadata",path:"src/components/FileMetadata/index.tsx#FileMetadata"})}catch(__react_docgen_typescript_loader_error){}var FileMetadata_stories_loadVersionFile=function loadVersionFile(){var version=arguments.length>0&&void 0!==arguments[0]?arguments[0]:test_helpers.m,store=Object(test_helpers.d)({version:version});store.dispatch(versions.b.loadVersionFile({path:version.file.selected_file,version:version}));var versionFile=Object(versions.n)(store.getState().versions,version.id,version.file.selected_file);return versionFile},FileMetadata_stories_WithListsOfVersionsLoaded=(__webpack_exports__.default={title:"Components/FileMetadata",component:components_FileMetadata},function WithListsOfVersionsLoaded(){var versionFile=FileMetadata_stories_loadVersionFile();return Object(jsx_runtime.jsx)(components_FileMetadata,{file:versionFile})}),FileMetadata_stories_WithAConstrainedWidth=function WithAConstrainedWidth(){var path="very-long-file-name.json",version=Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.m),{},{file:Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.m.file),{},{filename:path,sha256:"521fce5b388cd8f06d7fbf35bf4988b16a3a465fd3f1af92727eeaf5b6ab8ca6",selected_file:path})}),versionFile=FileMetadata_stories_loadVersionFile(version);return Object(jsx_runtime.jsx)("div",{style:{width:"200px"},children:Object(jsx_runtime.jsx)(components_FileMetadata,{file:versionFile})})}},"./src/components/FileMetadata/styles.module.scss":function(module,exports,__webpack_require__){module.exports={FileMetadata:"styles_FileMetadata__2sMi2",sha256:"styles_sha256__1sWO8"}},"./src/components/FileTree/FileTree.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FluidWidth",(function(){return FluidWidth})),__webpack_require__.d(__webpack_exports__,"SmallWidth",(function(){return FileTree_stories_SmallWidth})),__webpack_require__.d(__webpack_exports__,"FilesWithComments",(function(){return FileTree_stories_FilesWithComments}));var objectWithoutProperties=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),versions=__webpack_require__("./src/reducers/versions.tsx"),linter=__webpack_require__("./src/reducers/linter.tsx"),test_helpers=__webpack_require__("./src/test-helpers.tsx"),storybook_utils=__webpack_require__("./src/storybook-utils.tsx"),classCallCheck=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),inherits=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),loglevel=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel_default=__webpack_require__.n(loglevel),Button=__webpack_require__("./node_modules/react-bootstrap/esm/Button.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_treefold_es=__webpack_require__("./node_modules/react-treefold/es/index.js"),styles_module=__webpack_require__("./src/components/FileTree/styles.module.scss"),styles_module_default=__webpack_require__.n(styles_module),FileTreeNode=__webpack_require__("./src/components/FileTreeNode/index.tsx"),Loading=__webpack_require__("./src/components/Loading/index.tsx"),fileTree=__webpack_require__("./src/reducers/fileTree.tsx"),utils=__webpack_require__("./src/utils.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),FileTree_FileTreeBase=function(_React$Component){Object(inherits.a)(FileTreeBase,_React$Component);var _super=Object(createSuper.a)(FileTreeBase);function FileTreeBase(_props){var _this;return Object(classCallCheck.a)(this,FileTreeBase),(_this=_super.call(this,_props)).loadData=void 0,_this._loadData=function(){var _this$props=_this.props,comparedToVersionId=_this$props.comparedToVersionId,dispatch=_this$props.dispatch,tree=_this$props.tree,version=_this$props.version;version&&!tree&&dispatch(fileTree.c.buildTree({comparedToVersionId:comparedToVersionId,version:version}))},_this.renderNode=function(props){var _this$props2=_this.props,comparedToVersionId=_this$props2.comparedToVersionId,onSelect=_this$props2.onSelect,version=_this$props2.version;return version?Object(jsx_runtime.jsx)(FileTreeNode.b,Object(objectSpread2.a)(Object(objectSpread2.a)({},props),{},{comparedToVersionId:comparedToVersionId,onSelect:onSelect,versionId:version.id})):Object(jsx_runtime.jsx)(Loading.a,{message:Object(utils.m)("Loading version...")})},_this.onToggleExpand=function(node){var _this$props3=_this.props,dispatch=_this$props3.dispatch,version=_this$props3.version;if(!version)throw new Error("Cannot toggle expanded path without a version");dispatch(versions.b.toggleExpandedPath({path:node.id,versionId:version.id}))},_this.onExpandTree=function(){var _this$props4=_this.props,dispatch=_this$props4.dispatch,version=_this$props4.version;version&&dispatch(versions.b.expandTree({versionId:version.id}))},_this.onCollapseTree=function(){var _this$props5=_this.props,dispatch=_this$props5.dispatch,version=_this$props5.version;version&&dispatch(versions.b.collapseTree({versionId:version.id}))},_this.isNodeExpanded=function(node){var expandedPaths=_this.props.expandedPaths;if(!expandedPaths)throw new Error("Cannot check if node is expanded without expandedPaths set");return expandedPaths.includes(node.id)},_this.loadData=_props._loadData||_this._loadData,_this}return Object(createClass.a)(FileTreeBase,[{key:"componentDidMount",value:function componentDidMount(){this.loadData()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.loadData()}},{key:"render",value:function render(){var _this$props6=this.props,tree=_this$props6.tree;return _this$props6.version&&tree?Object(jsx_runtime.jsxs)("div",{className:styles_module_default.a.shell,children:[Object(jsx_runtime.jsxs)("div",{className:styles_module_default.a.controlButtons,children:[Object(jsx_runtime.jsx)(Button.a,{className:styles_module_default.a.button,id:"openAll",onClick:this.onExpandTree,size:"sm",type:"button",variant:"light",children:Object(utils.m)("Open all folders")}),Object(jsx_runtime.jsx)(Button.a,{className:styles_module_default.a.button,id:"closeAll",onClick:this.onCollapseTree,size:"sm",type:"button",variant:"light",children:Object(utils.m)("Close all folders")})]}),Object(jsx_runtime.jsx)("div",{className:styles_module_default.a.treeShell,children:Object(jsx_runtime.jsx)(react_treefold_es.a,{nodes:tree.nodes.children,render:this.renderNode,isNodeExpanded:this.isNodeExpanded,onToggleExpand:this.onToggleExpand})})]}):Object(jsx_runtime.jsx)(Loading.a,{message:Object(utils.m)("Loading version...")})}}]),FileTreeBase}(react.Component);FileTree_FileTreeBase.defaultProps={_log:loglevel_default.a};var components_FileTree=Object(es.connect)((function mapStateToProps(state,ownProps){var versionId=ownProps.versionId,version=Object(versions.o)(state.versions,versionId),expandedPaths=state.versions.expandedPaths;return version||loglevel_default.a.warn("No version was loaded for version: ",versionId),{expandedPaths:expandedPaths,tree:version?Object(fileTree.f)(state.fileTree,version.id):void 0,version:version}}))(FileTree_FileTreeBase);try{FileTree_FileTreeBase.displayName="FileTreeBase",FileTree_FileTreeBase.__docgenInfo={description:"",displayName:"FileTreeBase",props:{_loadData:{defaultValue:null,description:"",name:"_loadData",required:!1,type:{name:"LoadData"}},comparedToVersionId:{defaultValue:null,description:"",name:"comparedToVersionId",required:!0,type:{name:"number | null"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"any"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},_log:{defaultValue:null,description:"",name:"_log",required:!0,type:{name:"RootLogger"}},expandedPaths:{defaultValue:null,description:"",name:"expandedPaths",required:!0,type:{name:"string[] | undefined"}},tree:{defaultValue:null,description:"",name:"tree",required:!0,type:{name:"FileTree | undefined"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"Version | null | undefined"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"ThunkDispatch<AnyAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileTree/index.tsx#FileTreeBase"]={docgenInfo:FileTree_FileTreeBase.__docgenInfo,name:"FileTreeBase",path:"src/components/FileTree/index.tsx#FileTreeBase"})}catch(__react_docgen_typescript_loader_error){}try{FileTree.displayName="FileTree",FileTree.__docgenInfo={description:"",displayName:"FileTree",props:{versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},_loadData:{defaultValue:null,description:"",name:"_loadData",required:!1,type:{name:"LoadData"}},comparedToVersionId:{defaultValue:null,description:"",name:"comparedToVersionId",required:!0,type:{name:"number | null"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"any"}},_log:{defaultValue:null,description:"",name:"_log",required:!1,type:{name:"RootLogger"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileTree/index.tsx#FileTree"]={docgenInfo:FileTree.__docgenInfo,name:"FileTree",path:"src/components/FileTree/index.tsx#FileTree"})}catch(__react_docgen_typescript_loader_error){}var _excluded=["version","store"],fakeDirectoryEntry=Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.k),{},{mime_category:"directory"}),defaultVersion=Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.m),{},{id:456,file:Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.m.file),{},{entries:{"manifest.json":Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.k),{},{filename:"manifest.json",path:"manifest.json"}),"background-scripts":Object(objectSpread2.a)(Object(objectSpread2.a)({},fakeDirectoryEntry),{},{filename:"background-scripts",path:"background-scripts"}),"background-scripts/index.js":Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.k),{},{depth:1,filename:"index.js",path:"background-scripts/index.js"}),"background-scripts/libs":Object(objectSpread2.a)(Object(objectSpread2.a)({},fakeDirectoryEntry),{},{depth:1,filename:"libs",path:"background-scripts/libs"}),"background-scripts/libs/jquery.min.js":Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.k),{},{depth:2,filename:"jquery.min.js",path:"background-scripts/libs/jquery.min.js"}),"background-scripts/extra":Object(objectSpread2.a)(Object(objectSpread2.a)({},fakeDirectoryEntry),{},{depth:1,filename:"extra",path:"background-scripts/extra"}),"styles.css":Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.k),{},{filename:"styles.css",path:"styles.css"}),"jquery-ui":Object(objectSpread2.a)(Object(objectSpread2.a)({},fakeDirectoryEntry),{},{depth:0,filename:"jquery-ui",path:"jquery-ui"}),"jquery-ui/css":Object(objectSpread2.a)(Object(objectSpread2.a)({},fakeDirectoryEntry),{},{depth:1,filename:"css",path:"jquery-ui/css"}),"jquery-ui/js":Object(objectSpread2.a)(Object(objectSpread2.a)({},fakeDirectoryEntry),{},{depth:1,filename:"js",path:"jquery-ui/js"}),"jquery-ui/js/jquery-1.7.1.min.js":Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.k),{},{depth:2,filename:"jquery-1.7.1.min.js",path:"jquery-ui/js/jquery-1.7.1.min.js"}),"jquery-ui/js/jquery-ui-1.8.16.custom.min.js":Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.k),{},{depth:2,filename:"jquery-ui-1.8.16.custom.min.js",path:"jquery-ui/js/jquery-ui-1.8.16.custom.min.js"}),lib:Object(objectSpread2.a)(Object(objectSpread2.a)({},fakeDirectoryEntry),{},{depth:0,filename:"lib",path:"lib"}),"lib/adblockplus.js":Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.k),{},{depth:1,filename:"adblockplus.js",path:"lib/adblockplus.js"}),"lib/compat.js":Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.k),{},{depth:1,filename:"compat.js",path:"lib/compat.js"}),"lib/info.js":Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.k),{},{depth:1,filename:"info.js",path:"lib/info.js"}),"lib/publicSuffixList.js":Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.k),{},{depth:1,filename:"publicSuffixList.js",path:"lib/publicSuffixList.js"})}})}),messages=[Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.h),{},{type:"error",file:"jquery-ui/js/jquery-1.7.1.min.js"}),Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.h),{},{type:"warning",file:"lib/compat.js"}),Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.h),{},{type:"notice",file:"lib/info.js"})],onSelectFile=function onSelectFile(path){alert("Selected file: ".concat(path))},FileTree_stories_render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$version=_ref.version,version=void 0===_ref$version?defaultVersion:_ref$version,_ref$store=_ref.store,store=void 0===_ref$store?Object(test_helpers.d)({version:version}):_ref$store,moreProps=Object(objectWithoutProperties.a)(_ref,_excluded);store.dispatch(linter.a.loadLinterResult({versionId:version.id,result:Object(test_helpers.b)({messages:messages})}));var props=Object(objectSpread2.a)({onSelect:onSelectFile,versionId:version.id,comparedToVersionId:null},moreProps);return Object(storybook_utils.f)(Object(jsx_runtime.jsx)(components_FileTree,Object(objectSpread2.a)({},props)),{store:store})},FluidWidth=(__webpack_exports__.default={title:"Components/FileTree",component:components_FileTree},function FluidWidth(){return FileTree_stories_render()}),FileTree_stories_SmallWidth=function SmallWidth(){return Object(jsx_runtime.jsxs)("div",{className:"FileTreeStory-smallWidth",children:[" ",FileTree_stories_render()]})},FileTree_stories_FilesWithComments=function FilesWithComments(){var version=defaultVersion,store=Object(test_helpers.d)({version:version});return store.dispatch(versions.b.expandTree({versionId:version.id})),Object(test_helpers.f)({store:store,versionId:version.id,comments:[Object(test_helpers.a)({filename:version.file.entries["manifest.json"].path}),Object(test_helpers.a)({filename:version.file.entries["jquery-ui/js/jquery-1.7.1.min.js"].path}),Object(test_helpers.a)({filename:version.file.entries["background-scripts/libs/jquery.min.js"].path}),Object(test_helpers.a)({filename:version.file.entries["lib/compat.js"].path})]}),Object(jsx_runtime.jsx)("div",{className:"FileTreeStory-halfWidth",children:FileTree_stories_render({store:store})})}},"./src/components/FileTree/styles.module.scss":function(module,exports,__webpack_require__){module.exports={shell:"styles_shell__1qB8L",treeShell:"styles_treeShell__1jDdP",controlButtons:"styles_controlButtons__37Xip",button:"styles_button__Jy79_"}},"./src/components/FileTreeNode/FileTreeNode.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FileNode",(function(){return FileNode})),__webpack_require__.d(__webpack_exports__,"DirectoryNode",(function(){return DirectoryNode})),__webpack_require__.d(__webpack_exports__,"DirectoryExpandedWithoutChildren",(function(){return DirectoryExpandedWithoutChildren})),__webpack_require__.d(__webpack_exports__,"DirectoryExpandedWithAChild",(function(){return DirectoryExpandedWithAChild})),__webpack_require__.d(__webpack_exports__,"SelectedNode",(function(){return SelectedNode}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_test_helpers__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/test-helpers.tsx")),_storybook_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/storybook-utils.tsx"),___WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/FileTreeNode/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["versionId","store"],getProps=function getProps(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$hasChildNodes=_ref.hasChildNodes,hasChildNodes=void 0!==_ref$hasChildNodes&&_ref$hasChildNodes,_ref$isExpanded=_ref.isExpanded,isExpanded=void 0!==_ref$isExpanded&&_ref$isExpanded,_ref$isFolder=_ref.isFolder,isFolder=void 0!==_ref$isFolder&&_ref$isFolder,_ref$level=_ref.level,level=void 0===_ref$level?0:_ref$level,_ref$nodeName=_ref.nodeName,nodeName=void 0===_ref$nodeName?"node name":_ref$nodeName,_ref$nodeId=_ref.nodeId,nodeId=void 0===_ref$nodeId?"node-id":_ref$nodeId,_ref$renderChildNodes=_ref.renderChildNodes,renderChildNodes=void 0===_ref$renderChildNodes?function(){return{}}:_ref$renderChildNodes,_ref$versionId=_ref.versionId,versionId=void 0===_ref$versionId?_test_helpers__WEBPACK_IMPORTED_MODULE_3__.m.id:_ref$versionId;return{getToggleProps:function getToggleProps(){return{onClick:function onClick(){},onKeyDown:function onKeyDown(){},role:"button",tabIndex:0}},hasChildNodes:hasChildNodes,isExpanded:isExpanded,isFolder:isFolder,level:level,node:{id:nodeId,name:nodeName},renderChildNodes:renderChildNodes,onSelect:function onSelect(){},versionId:versionId,comparedToVersionId:null}},render=function render(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref2$versionId=_ref2.versionId,versionId=void 0===_ref2$versionId?543219:_ref2$versionId,_ref2$store=_ref2.store,store=void 0===_ref2$store?Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.d)({version:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_test_helpers__WEBPACK_IMPORTED_MODULE_3__.m),{},{id:versionId})}):_ref2$store,props=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref2,_excluded);return Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_4__.f)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"FileTreeNodeStory-shell",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(___WEBPACK_IMPORTED_MODULE_5__.b,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},getProps(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({versionId:versionId},props))))}),{store:store})};__webpack_exports__.default={title:"Components/FileTreeNode",component:___WEBPACK_IMPORTED_MODULE_5__.a};var FileNode=function FileNode(){return render({nodeName:"manifest.json"})},DirectoryNode=function DirectoryNode(){return render({isFolder:!0,nodeName:"background-scripts"})},DirectoryExpandedWithoutChildren=function DirectoryExpandedWithoutChildren(){return render({isFolder:!0,isExpanded:!0,nodeName:"background-scripts"})},DirectoryExpandedWithAChild=function DirectoryExpandedWithAChild(){var store=Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.d)({version:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_test_helpers__WEBPACK_IMPORTED_MODULE_3__.m),{},{id:921})});return render({versionId:921,hasChildNodes:!0,isExpanded:!0,isFolder:!0,nodeName:"background-scripts",renderChildNodes:function renderChildNodes(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(___WEBPACK_IMPORTED_MODULE_5__.b,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},getProps({versionId:921,level:1,nodeName:"background.js"})))},store:store})},SelectedNode=function SelectedNode(){var externalVersion=_test_helpers__WEBPACK_IMPORTED_MODULE_3__.m,store=Object(_test_helpers__WEBPACK_IMPORTED_MODULE_3__.d)({version:externalVersion});return render({store:store,versionId:externalVersion.id,nodeId:externalVersion.file.selected_file})}},"./src/components/FileTreeNode/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FileTreeNodeBase}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),loglevel__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_bootstrap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react-bootstrap/esm/ListGroup.js"),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),classnames__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_12__),_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/utils.tsx"),_LinterProvider__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/components/LinterProvider/index.tsx"),_reducers_comments__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/reducers/comments.tsx"),_reducers_versions__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/reducers/versions.tsx"),_reducers_linter__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/reducers/linter.tsx"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/components/FileTreeNode/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_18__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/react/jsx-runtime.js"),getIconForType=function getIconForType(type){switch(type){case"error":return"times-circle";case"warning":return"exclamation-triangle";case"known-library":return"check-circle";default:return"info-circle"}},FileTreeNodeBase=function(_React$Component){Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(FileTreeNodeBase,_React$Component);var _super=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__.a)(FileTreeNodeBase);function FileTreeNodeBase(_props){var _this;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,FileTreeNodeBase),(_this=_super.call(this,_props)).scrollIntoViewIfNeeded=void 0,_this.nodeRef=_this.props.createNodeRef?_this.props.createNodeRef():react__WEBPACK_IMPORTED_MODULE_8__.createRef(),_this._scrollIntoViewIfNeeded=function(){var _this$props=_this.props,dispatch=_this$props.dispatch,node=_this$props.node,version=_this$props.version;_this.isSelected()&&version.visibleSelectedPath!==node.id&&(_this.nodeRef&&_this.nodeRef.current?(_this.nodeRef.current.scrollIntoView({behavior:"smooth",block:"nearest"}),dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_16__.b.setVisibleSelectedPath({path:node.id,versionId:version.id}))):loglevel__WEBPACK_IMPORTED_MODULE_7___default.a.warn("nodeRef.current was unexpectedly empty: ".concat(_this.nodeRef)))},_this.renderWithLinterInfo=function(_ref2){var _makeClassName,_makeClassName2,title,messageMap=_ref2.messageMap,_this$props2=_this.props,hasComments=_this$props2.hasComments,getToggleProps=_this$props2.getToggleProps,hasChildNodes=_this$props2.hasChildNodes,isExpanded=_this$props2.isExpanded,isFolder=_this$props2.isFolder,level=_this$props2.level,node=_this$props2.node,onSelect=_this$props2.onSelect,renderChildNodes=_this$props2.renderChildNodes,version=_this$props2.version,entryStatusMap=_this$props2.entryStatusMap,hasLinterMessages=messageMap&&Object.keys(messageMap.byPath).some((function(path){return path.startsWith(node.id)})),nodeIcons=[],linterType=null;messageMap&&hasLinterMessages&&(!function isKnownLibrary(linterMessageMap,path){var _getMessagesForPath=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_reducers_linter__WEBPACK_IMPORTED_MODULE_17__.g,m=linterMessageMap.byPath[path];if(!m)return!1;var messages=_getMessagesForPath(m);return!(messages.length>1||null!==messages[0].line)&&m.global[0].code.includes("KNOWN_LIBRARY")}(messageMap,node.id)?(linterType=function findMostSevereTypeForPath(linterMessageMap,targetPath){var _ref$_findMostSevereT=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})._findMostSevereType,_findMostSevereType=void 0===_ref$_findMostSevereT?_reducers_linter__WEBPACK_IMPORTED_MODULE_17__.e:_ref$_findMostSevereT,allMessages=Object.keys(linterMessageMap.byPath).reduce((function(messages,path){if(!path.startsWith(targetPath))return messages;var map=linterMessageMap.byPath[path];return messages.push.apply(messages,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__.a)(map.global)),Object.keys(map.byLine).forEach((function(key){messages.push.apply(messages,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__.a)(map.byLine[parseInt(key,10)]))})),messages}),[]);return allMessages.length?_findMostSevereType(allMessages):null}(messageMap,node.id),title=function getTitleForType(type,isFolder){switch(type){case"error":return isFolder?Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("This folder contains files with linter errors"):Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("This file contains linter errors");case"warning":return isFolder?Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("This folder contains files with linter warnings"):Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("This file contains linter warnings");default:return isFolder?Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("This folder contains files with linter notices"):Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("This file contains linter notices")}}(linterType,isFolder)):(linterType="known-library",title=Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("This is a known library")),nodeIcons.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_11__.a,{fixedWidth:!0,icon:getIconForType(linterType),title:title},"linter-icon")));hasComments&&nodeIcons.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_11__.a,{fixedWidth:!0,flip:"horizontal",icon:["fas","comment-alt"],size:"1x",title:isFolder?Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("This directory contains files with comments"):Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("This file has comments")},"comments-icon"));var listGroupItemProps={className:classnames__WEBPACK_IMPORTED_MODULE_12___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.node,(_makeClassName={},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.directoryNode,isFolder),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.selected,_this.isSelected()),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.hasLinterMessages,hasLinterMessages),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.hasLinterErrors,"error"===linterType),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.hasLinterWarnings,"warning"===linterType),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.isKnownLibrary,"known-library"===linterType),_makeClassName)),onClick:function onClick(){return onSelect(node.id)}};isFolder&&(listGroupItemProps=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},listGroupItemProps),getToggleProps()));var adjustedLevel=level+1,entryStatus=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_16__.l)({entryStatusMap:entryStatusMap,version:version,path:node.id}),entryWasDeleted=entryStatus&&"D"===entryStatus,entryWasModified=entryStatus&&"M"===entryStatus,entryWasAdded=entryStatus&&"A"===entryStatus,nodeTitle=Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("View ".concat(node.name));return entryWasDeleted?nodeTitle=Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("".concat(nodeTitle," (deleted)")):entryWasModified?nodeTitle=Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("".concat(nodeTitle," (modified)")):entryWasAdded&&(nodeTitle=Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("".concat(nodeTitle," (added)"))),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a.Item,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({as:function ItemElement(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("div",Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({ref:_this.nodeRef},props))}},listGroupItemProps),{},{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("span",{className:classnames__WEBPACK_IMPORTED_MODULE_12___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.nodeItem,(_makeClassName2={},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName2,_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.wasDeleted,entryWasDeleted),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName2,_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.wasModified,entryWasModified),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(_makeClassName2,_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.wasAdded,entryWasAdded),_makeClassName2)),style:{paddingLeft:"".concat(10*adjustedLevel,"px")},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.folderAndFileIcons,children:isFolder?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_11__.a,{fixedWidth:!0,icon:isExpanded?"folder-open":"folder"}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_11__.a,{fixedWidth:!0,icon:"file"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("span",{title:nodeTitle,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.nodeName,children:node.name}),nodeIcons.length>0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.nodeIcons,children:nodeIcons}):null]})})),isExpanded&&(hasChildNodes?renderChildNodes():Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.a.Item,{className:classnames__WEBPACK_IMPORTED_MODULE_12___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.node,_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.emptyNodeDirectory),style:{paddingLeft:"".concat(20*(adjustedLevel+2),"px")},children:Object(_utils__WEBPACK_IMPORTED_MODULE_13__.m)("This folder is empty")}))]})},_this.scrollIntoViewIfNeeded=_this.props._scrollIntoViewIfNeeded||_this._scrollIntoViewIfNeeded,_this}return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(FileTreeNodeBase,[{key:"componentDidMount",value:function componentDidMount(){this.scrollIntoViewIfNeeded()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.scrollIntoViewIfNeeded()}},{key:"isSelected",value:function isSelected(){var _this$props3=this.props,node=_this$props3.node;return _this$props3.version.selectedPath===node.id}},{key:"render",value:function render(){var _this2=this,version=this.props.version;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_LinterProvider__WEBPACK_IMPORTED_MODULE_14__.a,{version:version,selectedPath:version.selectedPath,children:function children(info){return _this2.renderWithLinterInfo(info)}})}}]),FileTreeNodeBase}(react__WEBPACK_IMPORTED_MODULE_8__.Component);__webpack_exports__.b=Object(react_redux__WEBPACK_IMPORTED_MODULE_9__.connect)((function mapStateToProps(state,ownProps){var node=ownProps.node,versionId=ownProps.versionId,comparedToVersionId=ownProps.comparedToVersionId,versions=state.versions,version=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_16__.o)(versions,versionId),entryStatusMap=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_16__.k)({versions:versions,versionId:versionId,comparedToVersionId:comparedToVersionId})||{};if(!version)throw new Error("No version exists in state for version ID ".concat(versionId));return{entryStatusMap:entryStatusMap,hasComments:Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_15__.j)({comments:state.comments,path:node.id,versionId:versionId}),version:version}}))(FileTreeNodeBase);try{FileTreeNodeBase.displayName="FileTreeNodeBase",FileTreeNodeBase.__docgenInfo={description:"",displayName:"FileTreeNodeBase",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileTreeNode/index.tsx#FileTreeNodeBase"]={docgenInfo:FileTreeNodeBase.__docgenInfo,name:"FileTreeNodeBase",path:"src/components/FileTreeNode/index.tsx#FileTreeNodeBase"})}catch(__react_docgen_typescript_loader_error){}try{FileTreeNode.displayName="FileTreeNode",FileTreeNode.__docgenInfo={description:"",displayName:"FileTreeNode",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileTreeNode/index.tsx#FileTreeNode"]={docgenInfo:FileTreeNode.__docgenInfo,name:"FileTreeNode",path:"src/components/FileTreeNode/index.tsx#FileTreeNode"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/FileTreeNode/styles.module.scss":function(module,exports,__webpack_require__){module.exports={node:"styles_node__3Y35w",nodeItem:"styles_nodeItem__m9f81",nodeName:"styles_nodeName__2lcgh",nodeIcons:"styles_nodeIcons__2_5hE",folderAndFileIcons:"styles_folderAndFileIcons__1_6S4",selected:"styles_selected__2pNWE",hasLinterMessages:"styles_hasLinterMessages__3mfgA",hasLinterErrors:"styles_hasLinterErrors__1FeXO",hasLinterWarnings:"styles_hasLinterWarnings__1RyH8",isKnownLibrary:"styles_isKnownLibrary__3-ibF",wasDeleted:"styles_wasDeleted__2dAAV",wasModified:"styles_wasModified__IIqGM",wasAdded:"styles_wasAdded__3KHyX"}},"./src/components/FullscreenGrid/ContentShell.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),es=__webpack_require__("./node_modules/react-redux/es/index.js"),withRouter=__webpack_require__("./node_modules/react-router-dom/es/withRouter.js"),fullscreenGrid=__webpack_require__("./src/reducers/fullscreenGrid.tsx"),defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),ToggleButton=__webpack_require__("./src/components/ToggleButton/index.tsx"),utils=__webpack_require__("./src/utils.tsx"),styles_module=__webpack_require__("./src/components/SidePanel/styles.module.scss"),styles_module_default=__webpack_require__.n(styles_module),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),SidePanel_SidePanelBase=function SidePanelBase(_ref){var _ref$borderless=_ref.borderless,borderless=void 0!==_ref$borderless&&_ref$borderless,children=_ref.children,className=_ref.className,isExpanded=_ref.isExpanded,onClick=_ref.onClick,toggleLeft=_ref.toggleLeft,collapseText=Object(utils.m)("Collapse this panel");return Object(jsx_runtime.jsxs)("aside",{className:classnames_default()(styles_module_default.a.SidePanel,className,Object(defineProperty.a)({},styles_module_default.a.isCollapsed,!isExpanded)),children:[Object(jsx_runtime.jsx)("div",{className:classnames_default()(styles_module_default.a.content,Object(defineProperty.a)({},styles_module_default.a.borderlessContent,borderless)),children:children}),Object(jsx_runtime.jsx)(ToggleButton.a,{className:styles_module_default.a.ToggleButton,label:isExpanded?collapseText:null,onClick:onClick,title:isExpanded?collapseText:Object(utils.m)("Expand this panel"),toggleLeft:toggleLeft})]})},components_SidePanel=SidePanel_SidePanelBase;try{SidePanel_SidePanelBase.displayName="SidePanelBase",SidePanel_SidePanelBase.__docgenInfo={description:"",displayName:"SidePanelBase",props:{borderless:{defaultValue:{value:"false"},description:"",name:"borderless",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},toggleLeft:{defaultValue:null,description:"",name:"toggleLeft",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SidePanel/index.tsx#SidePanelBase"]={docgenInfo:SidePanel_SidePanelBase.__docgenInfo,name:"SidePanelBase",path:"src/components/SidePanel/index.tsx#SidePanelBase"})}catch(__react_docgen_typescript_loader_error){}try{SidePanel.displayName="SidePanel",SidePanel.__docgenInfo={description:"",displayName:"SidePanel",props:{borderless:{defaultValue:{value:"false"},description:"",name:"borderless",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},toggleLeft:{defaultValue:null,description:"",name:"toggleLeft",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SidePanel/index.tsx#SidePanel"]={docgenInfo:SidePanel.__docgenInfo,name:"SidePanel",path:"src/components/SidePanel/index.tsx#SidePanel"})}catch(__react_docgen_typescript_loader_error){}var PanelAttribs,FullscreenGrid_styles_module=__webpack_require__("./src/components/FullscreenGrid/styles.module.scss"),FullscreenGrid_styles_module_default=__webpack_require__.n(FullscreenGrid_styles_module);!function(PanelAttribs){PanelAttribs.altSidePanel="altSidePanel",PanelAttribs.mainSidePanel="mainSidePanel",PanelAttribs.topContent="topContent"}(PanelAttribs||(PanelAttribs={}));var ContentShell_ContentShellBase=function ContentShellBase(_ref){var altSidePanel=_ref.altSidePanel,altSidePanelClass=_ref.altSidePanelClass,altSidePanelIsExpanded=_ref.altSidePanelIsExpanded,children=_ref.children,className=_ref.className,dispatch=_ref.dispatch,location=_ref.location,mainSidePanel=_ref.mainSidePanel,mainSidePanelClass=_ref.mainSidePanelClass,_ref$mainSidePanelIsB=_ref.mainSidePanelIsBorderless,mainSidePanelIsBorderless=void 0!==_ref$mainSidePanelIsB&&_ref$mainSidePanelIsB,mainSidePanelIsExpanded=_ref.mainSidePanelIsExpanded,topContent=_ref.topContent;return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[topContent?Object(jsx_runtime.jsx)("div",{className:FullscreenGrid_styles_module_default.a.topContent,children:topContent}):null,Object(jsx_runtime.jsx)(components_SidePanel,{borderless:mainSidePanelIsBorderless,className:classnames_default()(FullscreenGrid_styles_module_default.a.mainSidePanel,mainSidePanelClass),isExpanded:mainSidePanelIsExpanded,onClick:function onClick(){return dispatch(fullscreenGrid.a.toggleMainSidePanel())},toggleLeft:mainSidePanelIsExpanded,children:mainSidePanel}),Object(jsx_runtime.jsx)("main",{className:classnames_default()(FullscreenGrid_styles_module_default.a.content,className),children:children},location.key),Object(jsx_runtime.jsx)(components_SidePanel,{className:classnames_default()(FullscreenGrid_styles_module_default.a.altSidePanel,altSidePanelClass),isExpanded:altSidePanelIsExpanded,onClick:function onClick(){return dispatch(fullscreenGrid.a.toggleAltSidePanel())},toggleLeft:!altSidePanelIsExpanded,children:altSidePanel})]})};__webpack_exports__.a=Object(withRouter.a)(Object(es.connect)((function mapStateToProps(state){return{altSidePanelIsExpanded:state.fullscreenGrid.altSidePanelIsExpanded,mainSidePanelIsExpanded:state.fullscreenGrid.mainSidePanelIsExpanded}}))(ContentShell_ContentShellBase));try{ContentShell_ContentShellBase.displayName="ContentShellBase",ContentShell_ContentShellBase.__docgenInfo={description:"",displayName:"ContentShellBase",props:{altSidePanel:{defaultValue:null,description:"",name:"altSidePanel",required:!1,type:{name:"AnyReactNode"}},altSidePanelClass:{defaultValue:null,description:"",name:"altSidePanelClass",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},mainSidePanel:{defaultValue:null,description:"",name:"mainSidePanel",required:!1,type:{name:"AnyReactNode"}},mainSidePanelClass:{defaultValue:null,description:"",name:"mainSidePanelClass",required:!1,type:{name:"string"}},mainSidePanelIsBorderless:{defaultValue:{value:"false"},description:"",name:"mainSidePanelIsBorderless",required:!1,type:{name:"boolean"}},topContent:{defaultValue:null,description:"",name:"topContent",required:!1,type:{name:"AnyReactNode"}},altSidePanelIsExpanded:{defaultValue:null,description:"",name:"altSidePanelIsExpanded",required:!0,type:{name:"boolean"}},mainSidePanelIsExpanded:{defaultValue:null,description:"",name:"mainSidePanelIsExpanded",required:!0,type:{name:"boolean"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"ThunkDispatch<AnyAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FullscreenGrid/ContentShell.tsx#ContentShellBase"]={docgenInfo:ContentShell_ContentShellBase.__docgenInfo,name:"ContentShellBase",path:"src/components/FullscreenGrid/ContentShell.tsx#ContentShellBase"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/FullscreenGrid/FullscreenGrid.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefaultView",(function(){return DefaultView})),__webpack_require__.d(__webpack_exports__,"LongContent",(function(){return LongContent})),__webpack_require__.d(__webpack_exports__,"TopContent",(function(){return TopContent}));var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_ContentShell__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/FullscreenGrid/ContentShell.tsx")),_storybook_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/storybook-utils.tsx"),___WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/FullscreenGrid/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),renderInGrid=function renderInGrid(content){return Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_3__.f)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(___WEBPACK_IMPORTED_MODULE_4__.b,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(___WEBPACK_IMPORTED_MODULE_4__.a,{className:"FullscreenGridStory-Header",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"FullscreenGridStory-placeholder",children:"Header"})}),content]}))};__webpack_exports__.default={title:"Components/FullscreenGrid",component:___WEBPACK_IMPORTED_MODULE_4__.b};var DefaultView=function DefaultView(){return renderInGrid(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ContentShell__WEBPACK_IMPORTED_MODULE_2__.a,{altSidePanel:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"FullscreenGridStory-placeholder",children:"altSidePanel"}),altSidePanelClass:"FullscreenGridStory-altSidePanel",className:"FullscreenGridStory-content",mainSidePanel:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"FullscreenGridStory-placeholder",children:"mainSidePanel"}),mainSidePanelClass:"FullscreenGridStory-mainSidePanel",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"FullscreenGridStory-placeholder",children:"Content"})}))},LongContent=function LongContent(){var someText=Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_3__.c)(10);return renderInGrid(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ContentShell__WEBPACK_IMPORTED_MODULE_2__.a,{altSidePanel:someText,mainSidePanel:someText,children:someText}))},TopContent=function TopContent(){return renderInGrid(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ContentShell__WEBPACK_IMPORTED_MODULE_2__.a,{topContent:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("FullscreenGridStory-placeholder","FullscreenGridStory-topContent"),children:"Example of top content"})}))}},"./src/components/FullscreenGrid/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Header}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/classnames/index.js")),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/FullscreenGrid/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_4__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Header=function Header(_ref){var children=_ref.children,className=_ref.className;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("header",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.Header,className),children:children})},FullscreenGridBase=function FullscreenGridBase(_ref2){var _makeClassName,children=_ref2.children,className=_ref2.className,altSidePanelIsExpanded=_ref2.altSidePanelIsExpanded,mainSidePanelIsExpanded=_ref2.mainSidePanelIsExpanded;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.FullscreenGrid,(_makeClassName={},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.withMainSidePanelCollapsed,!mainSidePanelIsExpanded&&altSidePanelIsExpanded),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.withAltSidePanelCollapsed,mainSidePanelIsExpanded&&!altSidePanelIsExpanded),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(_makeClassName,_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.withBothSidePanelsCollapsed,!mainSidePanelIsExpanded&&!altSidePanelIsExpanded),_makeClassName),className),children:children})};__webpack_exports__.b=Object(react_redux__WEBPACK_IMPORTED_MODULE_3__.connect)((function mapStateToProps(state){return{altSidePanelIsExpanded:state.fullscreenGrid.altSidePanelIsExpanded,mainSidePanelIsExpanded:state.fullscreenGrid.mainSidePanelIsExpanded}}))(FullscreenGridBase);try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FullscreenGrid/index.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"src/components/FullscreenGrid/index.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}try{FullscreenGridBase.displayName="FullscreenGridBase",FullscreenGridBase.__docgenInfo={description:"",displayName:"FullscreenGridBase",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},altSidePanelIsExpanded:{defaultValue:null,description:"",name:"altSidePanelIsExpanded",required:!0,type:{name:"boolean"}},mainSidePanelIsExpanded:{defaultValue:null,description:"",name:"mainSidePanelIsExpanded",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FullscreenGrid/index.tsx#FullscreenGridBase"]={docgenInfo:FullscreenGridBase.__docgenInfo,name:"FullscreenGridBase",path:"src/components/FullscreenGrid/index.tsx#FullscreenGridBase"})}catch(__react_docgen_typescript_loader_error){}try{FullscreenGrid.displayName="FullscreenGrid",FullscreenGrid.__docgenInfo={description:"",displayName:"FullscreenGrid",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FullscreenGrid/index.tsx#FullscreenGrid"]={docgenInfo:FullscreenGrid.__docgenInfo,name:"FullscreenGrid",path:"src/components/FullscreenGrid/index.tsx#FullscreenGrid"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/FullscreenGrid/styles.module.scss":function(module,exports,__webpack_require__){module.exports={FullscreenGrid:"styles_FullscreenGrid__mRxaT",withMainSidePanelCollapsed:"styles_withMainSidePanelCollapsed__3SpKY",withAltSidePanelCollapsed:"styles_withAltSidePanelCollapsed__3i9Jr",withBothSidePanelsCollapsed:"styles_withBothSidePanelsCollapsed__2dNEn",Header:"styles_Header__140hh",topContent:"styles_topContent__2a2wa",content:"styles_content__tbCAP",mainSidePanel:"styles_mainSidePanel__17O2H",altSidePanel:"styles_altSidePanel__2e63i"}},"./src/components/GlobalLinterMessages/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var _LinterMessage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/LinterMessage/index.tsx"),_CodeView_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/CodeView/utils.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),GlobalLinterMessages=function GlobalLinterMessages(_ref){var className=_ref.className,messages=_ref.messages,containerRef=_ref.containerRef;return messages&&messages.length?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:className,id:Object(_CodeView_utils__WEBPACK_IMPORTED_MODULE_2__.c)(0),ref:containerRef,children:messages.map((function(msg){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_LinterMessage__WEBPACK_IMPORTED_MODULE_1__.b,{message:msg},msg.uid)}))}):null};__webpack_exports__.a=GlobalLinterMessages;try{GlobalLinterMessages.displayName="GlobalLinterMessages",GlobalLinterMessages.__docgenInfo={description:"",displayName:"GlobalLinterMessages",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},messages:{defaultValue:null,description:"",name:"messages",required:!0,type:{name:"LinterMessage[] | null | undefined"}},containerRef:{defaultValue:null,description:"",name:"containerRef",required:!1,type:{name:"((element: HTMLDivElement | null) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GlobalLinterMessages/index.tsx#GlobalLinterMessages"]={docgenInfo:GlobalLinterMessages.__docgenInfo,name:"GlobalLinterMessages",path:"src/components/GlobalLinterMessages/index.tsx#GlobalLinterMessages"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/LinterMessage/LinterMessage.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Error",(function(){return Error})),__webpack_require__.d(__webpack_exports__,"ErrorHighlighted",(function(){return ErrorHighlighted})),__webpack_require__.d(__webpack_exports__,"Warning",(function(){return Warning})),__webpack_require__.d(__webpack_exports__,"WarningHighlighted",(function(){return WarningHighlighted})),__webpack_require__.d(__webpack_exports__,"Notice",(function(){return Notice})),__webpack_require__.d(__webpack_exports__,"NoticeHighlighted",(function(){return NoticeHighlighted})),__webpack_require__.d(__webpack_exports__,"MultiLineDescription",(function(){return MultiLineDescription})),__webpack_require__.d(__webpack_exports__,"MessageWithALink",(function(){return MessageWithALink})),__webpack_require__.d(__webpack_exports__,"InlinedError",(function(){return InlinedError})),__webpack_require__.d(__webpack_exports__,"InlinedErrorHighlighted",(function(){return InlinedErrorHighlighted})),__webpack_require__.d(__webpack_exports__,"InlinedWarning",(function(){return InlinedWarning})),__webpack_require__.d(__webpack_exports__,"InlinedNotice",(function(){return InlinedNotice})),__webpack_require__.d(__webpack_exports__,"TwoInlineMessagesStacked",(function(){return TwoInlineMessagesStacked})),__webpack_require__.d(__webpack_exports__,"TwoInlineMessagesStackedWithOneHighlighted",(function(){return TwoInlineMessagesStackedWithOneHighlighted}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),query_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/query-string/index.js"),query_string__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_1__),_reducers_linter__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/reducers/linter.tsx")),_test_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/test-helpers.tsx"),_storybook_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/storybook-utils.tsx"),___WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/LinterMessage/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js"),createMessage=function createMessage(){var attributes=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(_reducers_linter__WEBPACK_IMPORTED_MODULE_3__.b)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_test_helpers__WEBPACK_IMPORTED_MODULE_4__.h),attributes))},render=function render(children){return Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_5__.f)(children)},renderWithMessageUid=function renderWithMessageUid(children,messageUid){return Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_5__.f)(children,{location:Object(_test_helpers__WEBPACK_IMPORTED_MODULE_4__.c)({search:query_string__WEBPACK_IMPORTED_MODULE_1___default.a.stringify({messageUid:messageUid})})})};__webpack_exports__.default={title:"Components/LinterMessage",component:___WEBPACK_IMPORTED_MODULE_6__.a};var Error=function Error(){return render(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{message:createMessage({type:"error",message:"The value of &lt;em:id&gt; is invalid",description:["The values supplied for &lt;em:id&gt; in the install.rdf file is not a valid UUID string."]})}))},ErrorHighlighted=function ErrorHighlighted(){return renderWithMessageUid(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{message:createMessage({type:"error",message:"The value of &lt;em:id&gt; is invalid",description:["The values supplied for &lt;em:id&gt; in the install.rdf file is not a valid UUID string."],uid:"some-uid"})}),"some-uid")},Warning=function Warning(){return render(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{message:createMessage({type:"warning",message:"The manifest contains a dictionary but no id property.",description:["A dictionary was found in the manifest, but there was no id set."]})}))},WarningHighlighted=function WarningHighlighted(){return renderWithMessageUid(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{message:createMessage({type:"warning",message:"The manifest contains a dictionary but no id property.",description:["A dictionary was found in the manifest, but there was no id set."],uid:"some-uid"})}),"some-uid")},Notice=function Notice(){return render(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."]})}))},NoticeHighlighted=function NoticeHighlighted(){return renderWithMessageUid(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."],uid:"some-uid"})}),"some-uid")},MultiLineDescription=function MultiLineDescription(){return render(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{message:createMessage({type:"error",message:"Markup parsing error",description:["There was an error parsing the markup document.","malformed start tag, at line 1, column 26"]})}))},MessageWithALink=function MessageWithALink(){return render(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{message:createMessage({type:"error",message:"Banned 3rd-party JS library",description:['Your add-on uses a JavaScript library we\n                  consider unsafe. Read more:\n                  <a href="https://bit.ly/1TRIyZY">https://bit.ly/1TRIyZY</a>']})}))},InlinedError=function InlinedError(){return render(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{inline:!0,message:createMessage({type:"error",message:"The value of &lt;em:id&gt; is invalid",description:["The values supplied for &lt;em:id&gt; in the install.rdf file is not a valid UUID string."]})}))},InlinedErrorHighlighted=function InlinedErrorHighlighted(){return renderWithMessageUid(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{inline:!0,message:createMessage({type:"error",message:"The value of &lt;em:id&gt; is invalid",description:["The values supplied for &lt;em:id&gt; in the install.rdf file is not a valid UUID string."],uid:"some-uid"})}),"some-uid")},InlinedWarning=function InlinedWarning(){return render(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{inline:!0,message:createMessage({type:"warning",message:"The manifest contains a dictionary but no id property.",description:["A dictionary was found in the manifest, but there was no id set."]})}))},InlinedNotice=function InlinedNotice(){return render(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{inline:!0,message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."]})}))},TwoInlineMessagesStacked=function TwoInlineMessagesStacked(){return render(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{inline:!0,message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{inline:!0,message:createMessage({type:"error",message:"Markup parsing error",description:["There was an error parsing the markup document.","malformed start tag, at line 1, column 26"]})})]}))},TwoInlineMessagesStackedWithOneHighlighted=function TwoInlineMessagesStackedWithOneHighlighted(){return renderWithMessageUid(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{inline:!0,message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,{inline:!0,message:createMessage({type:"error",message:"Markup parsing error",description:["There was an error parsing the markup document.","malformed start tag, at line 1, column 26"],uid:"some-uid"})})]}),"some-uid")}},"./src/components/LinterMessage/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LinterMessageBase}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),dompurify__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/dompurify/dist/purify.js"),dompurify__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_2__),he__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/he/he.js"),he__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(he__WEBPACK_IMPORTED_MODULE_3__),query_string__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/query-string/index.js"),query_string__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_4__),react_bootstrap__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react-bootstrap/esm/Alert.js")),react_router_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-router-dom/es/withRouter.js"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/LinterMessage/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_8__),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/utils.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react/jsx-runtime.js"),decodeHtmlEntities=function decodeHtmlEntities(text){return he__WEBPACK_IMPORTED_MODULE_3___default.a.decode(text)},renderDescription=function renderDescription(description){var urlPattern=/^https?:\/\//;return description.reduce((function(allLines,line,lineIndex){return lineIndex>0&&allLines.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("br",{},line)),allLines.push(dompurify__WEBPACK_IMPORTED_MODULE_2___default.a.sanitize(line,{ALLOWED_TAGS:[]}).split(/(\s+)/).reduce((function(allParts,part){return urlPattern.test(part)?allParts.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.a.Link,{href:part,rel:"noreferrer noopener",target:"_blank",children:part},"link:".concat(part))):allParts.push(decodeHtmlEntities(part)),allParts}),[])),allLines}),[])},LinterMessageBase=function LinterMessageBase(_ref){var className=_ref.className,_ref$inline=_ref.inline,inline=void 0!==_ref$inline&&_ref$inline,location=_ref.location,message=_ref.message,description=message.description,linterMessage=message.message,variant=function getAlertVariant(type){switch(type){case"error":return"danger";case"warning":return"warning";default:return"secondary"}}(message.type),messageUid=query_string__WEBPACK_IMPORTED_MODULE_4___default.a.parse(location.search)[_utils__WEBPACK_IMPORTED_MODULE_9__.n];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_8___default.a[variant],className,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_styles_module_scss__WEBPACK_IMPORTED_MODULE_8___default.a.inline,inline),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_styles_module_scss__WEBPACK_IMPORTED_MODULE_8___default.a.highlight,"string"==typeof messageUid&&messageUid===message.uid)),variant:variant,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.a.Heading,{children:decodeHtmlEntities(linterMessage)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("p",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_8___default.a.description,children:renderDescription(description)})]})};__webpack_exports__.b=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_7__.a)(LinterMessageBase);try{decodeHtmlEntities.displayName="decodeHtmlEntities",decodeHtmlEntities.__docgenInfo={description:"",displayName:"decodeHtmlEntities",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LinterMessage/index.tsx#decodeHtmlEntities"]={docgenInfo:decodeHtmlEntities.__docgenInfo,name:"decodeHtmlEntities",path:"src/components/LinterMessage/index.tsx#decodeHtmlEntities"})}catch(__react_docgen_typescript_loader_error){}try{LinterMessageBase.displayName="LinterMessageBase",LinterMessageBase.__docgenInfo={description:"",displayName:"LinterMessageBase",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},inline:{defaultValue:{value:"false"},description:"",name:"inline",required:!1,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"LinterMessage"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LinterMessage/index.tsx#LinterMessageBase"]={docgenInfo:LinterMessageBase.__docgenInfo,name:"LinterMessageBase",path:"src/components/LinterMessage/index.tsx#LinterMessageBase"})}catch(__react_docgen_typescript_loader_error){}try{LinterMessage.displayName="LinterMessage",LinterMessage.__docgenInfo={description:"",displayName:"LinterMessage",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},inline:{defaultValue:{value:"false"},description:"",name:"inline",required:!1,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"LinterMessage"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LinterMessage/index.tsx#LinterMessage"]={docgenInfo:LinterMessage.__docgenInfo,name:"LinterMessage",path:"src/components/LinterMessage/index.tsx#LinterMessage"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/LinterMessage/styles.module.scss":function(module,exports,__webpack_require__){module.exports={inline:"styles_inline__2x2p0",danger:"styles_danger__2tsgX",secondary:"styles_secondary__2uKhc",warning:"styles_warning__77Efr",description:"styles_description__19HkI",highlight:"styles_highlight__KzgCN"}},"./src/components/LinterProvider/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-router-dom/es/withRouter.js"),_reducers_linter__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/reducers/linter.tsx"),LinterProviderBase=function(_React$Component){Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(LinterProviderBase,_React$Component);var _super=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(LinterProviderBase);function LinterProviderBase(props){var _this;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,LinterProviderBase),(_this=_super.call(this,props)).loadData=void 0,_this._loadData=function(){var _this$props=_this.props,_fetchLinterMessagesIfNeeded=_this$props._fetchLinterMessagesIfNeeded,dispatch=_this$props.dispatch,messageMap=_this$props.messageMap,version=_this$props.version;void 0===messageMap&&dispatch(_fetchLinterMessagesIfNeeded({version:version}))},_this.loadData=props._loadData||_this._loadData,_this}return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(LinterProviderBase,[{key:"componentDidMount",value:function componentDidMount(){this.loadData()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.loadData()}},{key:"render",value:function render(){var _this$props2=this.props,messageMap=_this$props2.messageMap,messagesAreLoading=_this$props2.messagesAreLoading,selectedMessageMap=_this$props2.selectedMessageMap;return this.props.children({messageMap:messageMap,messagesAreLoading:messagesAreLoading,selectedMessageMap:selectedMessageMap})}}]),LinterProviderBase}(react__WEBPACK_IMPORTED_MODULE_4__.Component);LinterProviderBase.defaultProps={_fetchLinterMessagesIfNeeded:_reducers_linter__WEBPACK_IMPORTED_MODULE_7__.d};__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.a)(Object(react_redux__WEBPACK_IMPORTED_MODULE_5__.connect)((function mapStateToProps(state,ownProps){var selectedMessageMap,selectedPath=ownProps.selectedPath,version=ownProps.version,map=Object(_reducers_linter__WEBPACK_IMPORTED_MODULE_7__.h)(state.linter,version.id);return map&&(selectedMessageMap=map.byPath[selectedPath]?map.byPath[selectedPath]:null),{messageMap:map,messagesAreLoading:state.linter.isLoading,selectedMessageMap:selectedMessageMap}}))(LinterProviderBase));try{LinterProviderBase.displayName="LinterProviderBase",LinterProviderBase.__docgenInfo={description:"",displayName:"LinterProviderBase",props:{_loadData:{defaultValue:null,description:"",name:"_loadData",required:!1,type:{name:"LoadData"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"Version"}},selectedPath:{defaultValue:null,description:"",name:"selectedPath",required:!0,type:{name:"string"}},_fetchLinterMessagesIfNeeded:{defaultValue:{value:"({\n  _getValidation = getValidation,\n  version,\n}: {\n  _getValidation?: typeof getValidation;\n  version: Version;\n}): ThunkActionCreator => {\n  return async (dispatch, getState) => {\n    const { api: apiState, linter } = getState();\n    const versionId = version.id;\n    // See: https://github.com/mozilla/addons-code-manager/issues/591\n    if (linter.isLoading && linter.forVersionId === version.id) {\n      log.debug('Aborting because linter messages are already being fetched');\n      return;\n    }\n\n    dispatch(actions.beginFetchLinterResult({ versionId }));\n\n    const response = await _getValidation({\n      apiState,\n      addonId: version.addon.id,\n      fileId: version.fileId,\n    });\n\n    if (isErrorResponse(response)) {\n      dispatch(actions.abortFetchLinterResult({ versionId }));\n      dispatch(errorsActions.addError({ error: response.error }));\n    }\n\n    dispatch(\n      actions.loadLinterResult({\n        versionId,\n        result: response as ExternalLinterResult,\n      }),\n    );\n  };\n}"},description:"",name:"_fetchLinterMessagesIfNeeded",required:!1,type:{name:"({ _getValidation, version, }: { _getValidation?: (({ addonId, apiState, fileId, }: GetValidationParams) => Promise<CallApiResponse<ExternalLinterResult>>); version: Version; }) => ThunkActionCreator<...>"}},messageMap:{defaultValue:null,description:"",name:"messageMap",required:!0,type:{name:"LinterMessageMap | undefined"}},messagesAreLoading:{defaultValue:null,description:"",name:"messagesAreLoading",required:!0,type:{name:"boolean"}},selectedMessageMap:{defaultValue:null,description:"",name:"selectedMessageMap",required:!0,type:{name:"LinterMessagesByPath | null | undefined"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"ThunkDispatch<AnyAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LinterProvider/index.tsx#LinterProviderBase"]={docgenInfo:LinterProviderBase.__docgenInfo,name:"LinterProviderBase",path:"src/components/LinterProvider/index.tsx#LinterProviderBase"})}catch(__react_docgen_typescript_loader_error){}try{LinterProvider.displayName="LinterProvider",LinterProvider.__docgenInfo={description:"",displayName:"LinterProvider",props:{version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"Version"}},_loadData:{defaultValue:null,description:"",name:"_loadData",required:!1,type:{name:"LoadData"}},selectedPath:{defaultValue:null,description:"",name:"selectedPath",required:!0,type:{name:"string"}},_fetchLinterMessagesIfNeeded:{defaultValue:null,description:"",name:"_fetchLinterMessagesIfNeeded",required:!1,type:{name:"(({ _getValidation, version, }: { _getValidation?: (({ addonId, apiState, fileId, }: GetValidationParams) => Promise<CallApiResponse<ExternalLinterResult>>); version: Version; }) => ThunkActionCreator<...>)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LinterProvider/index.tsx#LinterProvider"]={docgenInfo:LinterProvider.__docgenInfo,name:"LinterProvider",path:"src/components/LinterProvider/index.tsx#LinterProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Loading/Loading.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("./node_modules/react/index.js");var ___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Loading/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/Loading",component:___WEBPACK_IMPORTED_MODULE_1__.a};var Default=function Default(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.a,{message:"Loading content..."})}},"./src/components/Loading/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.a=function LoadingBase(_ref){var message=_ref.message;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__.a,{icon:"spinner",spin:!0})," ",message]})};try{Loading.displayName="Loading",Loading.__docgenInfo={description:"",displayName:"Loading",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Loading/index.tsx#Loading"]={docgenInfo:Loading.__docgenInfo,name:"Loading",path:"src/components/Loading/index.tsx#Loading"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/LoginButton/LoginButton.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("./node_modules/react/index.js");var _storybook_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/storybook-utils.tsx"),___WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/LoginButton/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/LoginButton",component:___WEBPACK_IMPORTED_MODULE_2__.a};var Default=function Default(){return Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_1__.f)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(___WEBPACK_IMPORTED_MODULE_2__.b,{}))}},"./src/components/LoginButton/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LoginButtonBase}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),react_bootstrap__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-bootstrap/esm/Button.js"),react_redux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-redux/es/index.js"),_reducers_users__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/reducers/users.tsx"),_api__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/api/index.tsx"),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/utils.tsx"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/LoginButton/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react/jsx-runtime.js"),LoginButtonBase=function(_React$Component){Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(LoginButtonBase,_React$Component);var _super=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(LoginButtonBase);function LoginButtonBase(){return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,LoginButtonBase),_super.apply(this,arguments)}return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(LoginButtonBase,[{key:"getFxaURL",value:function getFxaURL(){var _this$props=this.props,_window=_this$props._window,fxaConfig=_this$props.fxaConfig,isLocalDev=_this$props.isLocalDev,href=_window.location.href;return isLocalDev&&(href=href.replace(_window.location.origin,"")),Object(_api__WEBPACK_IMPORTED_MODULE_8__.m)({path:"/accounts/login/start/?config=".concat(fxaConfig,"&to=").concat(href)})}},{key:"render",value:function render(){var userIsLoading=this.props.userIsLoading;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_5__.a,{disabled:userIsLoading,size:"sm",href:this.getFxaURL(),className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.link,children:Object(_utils__WEBPACK_IMPORTED_MODULE_9__.m)("Log in")})}}]),LoginButtonBase}(react__WEBPACK_IMPORTED_MODULE_4__.Component);LoginButtonBase.defaultProps={_window:window,fxaConfig:"code-manager",isLocalDev:"true"==={NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:".",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_USER_AUTH_SESSION_ID_PLACEHOLDER:"__AUTH_SESSION_ID__",REACT_APP_AUTHENTICATION_COOKIE:"sessionid",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29",REACT_APP_GA_DEBUG_MODE:"false"}.REACT_APP_IS_LOCAL_DEV};__webpack_exports__.b=Object(react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)((function mapStateToProps(state){return{userIsLoading:Object(_reducers_users__WEBPACK_IMPORTED_MODULE_7__.b)(state.users)}}))(LoginButtonBase);try{LoginButtonBase.displayName="LoginButtonBase",LoginButtonBase.__docgenInfo={description:"",displayName:"LoginButtonBase",props:{_window:{defaultValue:null,description:"",name:"_window",required:!0,type:{name:"Window & typeof globalThis"}},fxaConfig:{defaultValue:{value:"process.env.REACT_APP_FXA_CONFIG as string"},description:"",name:"fxaConfig",required:!1,type:{name:"string"}},isLocalDev:{defaultValue:{value:"process.env.REACT_APP_IS_LOCAL_DEV === 'true'"},description:"",name:"isLocalDev",required:!1,type:{name:"boolean"}},userIsLoading:{defaultValue:null,description:"",name:"userIsLoading",required:!0,type:{name:"boolean"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"ThunkDispatch<AnyAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LoginButton/index.tsx#LoginButtonBase"]={docgenInfo:LoginButtonBase.__docgenInfo,name:"LoginButtonBase",path:"src/components/LoginButton/index.tsx#LoginButtonBase"})}catch(__react_docgen_typescript_loader_error){}try{LoginButton.displayName="LoginButton",LoginButton.__docgenInfo={description:"",displayName:"LoginButton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LoginButton/index.tsx#LoginButton"]={docgenInfo:LoginButton.__docgenInfo,name:"LoginButton",path:"src/components/LoginButton/index.tsx#LoginButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/LoginButton/styles.module.scss":function(module,exports,__webpack_require__){module.exports={link:"styles_link__36jWF"}},"./src/components/Navbar/Navbar.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"UserIsNotSignedIn",(function(){return UserIsNotSignedIn})),__webpack_require__.d(__webpack_exports__,"UserIsSignedIn",(function(){return Navbar_stories_UserIsSignedIn})),__webpack_require__.d(__webpack_exports__,"WithCurrentVersion",(function(){return Navbar_stories_WithCurrentVersion})),__webpack_require__.d(__webpack_exports__,"WithBaseVersionAndCurrentVersion",(function(){return Navbar_stories_WithBaseVersionAndCurrentVersion})),__webpack_require__.d(__webpack_exports__,"WithNewBaseVersionLoading",(function(){return Navbar_stories_WithNewBaseVersionLoading})),__webpack_require__.d(__webpack_exports__,"UserHasEnteredComments",(function(){return Navbar_stories_UserHasEnteredComments}));var objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),configureStore=__webpack_require__("./src/configureStore.tsx"),users=__webpack_require__("./src/reducers/users.tsx"),versions=__webpack_require__("./src/reducers/versions.tsx"),test_helpers=__webpack_require__("./src/test-helpers.tsx"),storybook_utils=__webpack_require__("./src/storybook-utils.tsx"),defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),classCallCheck=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),inherits=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),esm_Navbar=__webpack_require__("./node_modules/react-bootstrap/esm/Navbar.js"),Button=__webpack_require__("./node_modules/react-bootstrap/esm/Button.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),index_es=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),utils=__webpack_require__("./src/utils.tsx"),CommentSummaryButton=__webpack_require__("./src/components/CommentSummaryButton/index.tsx"),LoginButton=__webpack_require__("./src/components/LoginButton/index.tsx"),VersionChooser=__webpack_require__("./src/components/VersionChooser/index.tsx"),reducers_comments=__webpack_require__("./src/reducers/comments.tsx"),styles_module=__webpack_require__("./src/components/Navbar/styles.module.scss"),styles_module_default=__webpack_require__.n(styles_module),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Navbar_NavbarBase=function(_React$Component){Object(inherits.a)(NavbarBase,_React$Component);var _super=Object(createSuper.a)(NavbarBase);function NavbarBase(props){var _this;return Object(classCallCheck.a)(this,NavbarBase),(_this=_super.call(this,props)).logOut=function(){var _this$props=_this.props,_requestLogOut=_this$props._requestLogOut;(0,_this$props.dispatch)(_requestLogOut())},_this.state={nextBaseVersionImprint:void 0},_this}return Object(createClass.a)(NavbarBase,[{key:"componentDidMount",value:function componentDidMount(){this.loadData()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.loadData()}},{key:"loadData",value:function loadData(){var _this$props2=this.props,_fetchVersion=_this$props2._fetchVersion,currentVersion=_this$props2.currentVersion,currentBaseVersion=_this$props2.currentBaseVersion,currentBaseVersionId=_this$props2.currentBaseVersionId,dispatch=_this$props2.dispatch,nextBaseVersionImprint=this.state.nextBaseVersionImprint;currentBaseVersion&&nextBaseVersionImprint!==currentBaseVersion.versionString&&this.setState({nextBaseVersionImprint:currentBaseVersion.versionString}),currentVersion&&void 0===currentBaseVersion&&currentBaseVersionId&&dispatch(_fetchVersion({addonId:currentVersion.addon.id,path:void 0,setAsCurrent:!1,versionId:currentBaseVersionId})),!1===currentBaseVersionId&&nextBaseVersionImprint&&this.setState({nextBaseVersionImprint:void 0})}},{key:"renderCommentsNavBar",value:function renderCommentsNavBar(){var comments=this.props.comments;return comments&&0!==comments.length?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)("div",{className:styles_module_default.a.infoItem,children:[Object(utils.m)("Comments:"),Object(jsx_runtime.jsx)("div",{className:classnames_default()(styles_module_default.a.itemData,styles_module_default.a.commentCount),children:comments.length})]}),Object(jsx_runtime.jsx)("div",{className:styles_module_default.a.infoItem,children:Object(jsx_runtime.jsx)(CommentSummaryButton.a,{})})]}):null}},{key:"render",value:function render(){var _this$props3=this.props,currentBaseVersion=_this$props3.currentBaseVersion,currentVersion=_this$props3.currentVersion,reviewersHost=_this$props3.reviewersHost,user=_this$props3.user,nextBaseVersionImprint=this.state.nextBaseVersionImprint,addonId=currentVersion?currentVersion.addon.id:"";return Object(jsx_runtime.jsxs)(esm_Navbar.a,{className:styles_module_default.a.Navbar,expand:"lg",variant:"dark",children:[Object(jsx_runtime.jsx)(esm_Navbar.a.Brand,{className:styles_module_default.a.brand,children:Object(jsx_runtime.jsxs)("div",{className:styles_module_default.a.info,children:[currentVersion&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{className:styles_module_default.a.infoItem,children:Object(jsx_runtime.jsxs)("a",{className:styles_module_default.a.reviewerToolsLink,href:"".concat(reviewersHost,"/reviewers/review/").concat(addonId),rel:"noopener noreferrer",target:"_blank",children:[Object(jsx_runtime.jsx)(index_es.a,{className:styles_module_default.a.reviewerToolsIcon,icon:["fas","arrow-left"]}),Object(utils.m)("Reviewer Tools")]})}),Object(jsx_runtime.jsxs)("div",{className:classnames_default()(styles_module_default.a.infoItem,styles_module_default.a.addonName),children:[Object(versions.i)(currentVersion.addon.name),Object(jsx_runtime.jsxs)("div",{className:classnames_default()(styles_module_default.a.versionIndicator,styles_module_default.a.itemData),children:[currentBaseVersion||nextBaseVersionImprint?Object(jsx_runtime.jsx)("span",{className:classnames_default()(Object(defineProperty.a)({},styles_module_default.a.baseVersionIsLoading,!currentBaseVersion&&nextBaseVersionImprint)),children:"".concat(currentBaseVersion&&currentBaseVersion.versionString||nextBaseVersionImprint,"")}):null,currentVersion.versionString]})]})]}),currentVersion&&Object(jsx_runtime.jsx)("div",{className:styles_module_default.a.infoItem,children:Object(jsx_runtime.jsx)(VersionChooser.a,{addonId:currentVersion.addon.id})}),this.renderCommentsNavBar()]})}),Object(jsx_runtime.jsxs)(esm_Navbar.a.Text,{className:styles_module_default.a.text,children:[user?Object(jsx_runtime.jsx)("span",{className:styles_module_default.a.username,children:user.name}):null,user?Object(jsx_runtime.jsx)(Button.a,{size:"sm",className:styles_module_default.a.logOut,onClick:this.logOut,children:Object(utils.m)("Log out")}):Object(jsx_runtime.jsx)(LoginButton.b,{})]})]})}}]),NavbarBase}(react.Component);Navbar_NavbarBase.defaultProps={_fetchVersion:versions.g,_requestLogOut:users.d,reviewersHost:"https://reviewers.addons.mozilla.org"};var Navbar_mapStateToProps=function mapStateToProps(state){var currentBaseVersion,_state$versions=state.versions,currentBaseVersionId=_state$versions.currentBaseVersionId,selectedPath=_state$versions.selectedPath;currentBaseVersionId&&(currentBaseVersion=Object(versions.o)(state.versions,currentBaseVersionId));var currentVersion=Object(versions.q)(state.versions);return{comments:currentVersion?Object(reducers_comments.k)({comments:state.comments,versionId:currentVersion.id}):void 0,user:Object(users.e)(state.users),currentBaseVersion:currentBaseVersion,currentBaseVersionId:currentBaseVersionId,currentVersion:currentVersion,selectedPath:selectedPath}},components_Navbar=Object(es.connect)(Navbar_mapStateToProps)(Navbar_NavbarBase);try{Navbar_NavbarBase.displayName="NavbarBase",Navbar_NavbarBase.__docgenInfo={description:"",displayName:"NavbarBase",props:{_requestLogOut:{defaultValue:{value:"({\n  _logOutFromServer = logOutFromServer,\n} = {}): ThunkActionCreator => {\n  return async (dispatch, getState) => {\n    await _logOutFromServer(getState().api);\n    dispatch(actions.logOut());\n  };\n}"},description:"",name:"_requestLogOut",required:!1,type:{name:"({ _logOutFromServer, }?: { _logOutFromServer?: ((apiState: ApiState) => Promise<CallApiResponse<{ ok: boolean; }>>); }) => ThunkActionCreator<void>"}},reviewersHost:{defaultValue:{value:"process.env.REACT_APP_REVIEWERS_HOST"},description:"",name:"reviewersHost",required:!1,type:{name:"string"}},_fetchVersion:{defaultValue:{value:"({\n  _getVersion = getVersion,\n  addonId,\n  versionId,\n  path,\n  setAsCurrent = true,\n}: FetchVersionParams): ThunkActionCreator => {\n  return async (dispatch, getState) => {\n    const { api: apiState, versions } = getState();\n\n    if (selectVersionIsLoading(versions, versionId)) {\n      return;\n    }\n\n    dispatch(actions.beginFetchVersion({ versionId }));\n    if (setAsCurrent) {\n      // Set this as the current version so that components can track its\n      // loading progress.\n      dispatch(actions.setCurrentVersionId({ versionId }));\n    }\n\n    const response = await _getVersion({\n      addonId,\n      apiState,\n      path,\n      versionId,\n    });\n\n    if (isErrorResponse(response)) {\n      dispatch(actions.abortFetchVersion({ versionId }));\n      dispatch(errorsActions.addError({ error: response.error }));\n    } else {\n      const { selected_file } = response.file;\n\n      // We indicate that a file is being loaded because we already have it and\n      // we will load it below. This is useful to prevent `fetchVersionFile()`\n      // to run after we load the version info (and before we load the version\n      // file). See: https://github.com/mozilla/addons-code-manager/issues/1338\n      dispatch(\n        actions.beginFetchVersionFile({ versionId, path: selected_file }),\n      );\n      dispatch(\n        actions.loadVersionInfo({\n          version: response,\n          updatePathInfo: setAsCurrent,\n        }),\n      );\n      dispatch(\n        actions.loadVersionFileFromVersion({\n          version: response,\n          path: selected_file,\n        }),\n      );\n    }\n  };\n}"},description:"",name:"_fetchVersion",required:!1,type:{name:"({ _getVersion, addonId, versionId, path, setAsCurrent, }: FetchVersionParams) => ThunkActionCreator<void>"}},comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"Comment[] | undefined"}},currentBaseVersion:{defaultValue:null,description:"",name:"currentBaseVersion",required:!0,type:{name:"false | Version | null | undefined"}},currentBaseVersionId:{defaultValue:null,description:"",name:"currentBaseVersionId",required:!0,type:{name:"number | false | undefined"}},currentVersion:{defaultValue:null,description:"",name:"currentVersion",required:!0,type:{name:"false | Version | null | undefined"}},selectedPath:{defaultValue:null,description:"",name:"selectedPath",required:!0,type:{name:"string | null"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"User | null"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"ThunkDispatch<AnyAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Navbar/index.tsx#NavbarBase"]={docgenInfo:Navbar_NavbarBase.__docgenInfo,name:"NavbarBase",path:"src/components/Navbar/index.tsx#NavbarBase"})}catch(__react_docgen_typescript_loader_error){}try{Navbar_mapStateToProps.displayName="mapStateToProps",Navbar_mapStateToProps.__docgenInfo={description:"",displayName:"mapStateToProps",props:{accordionMenu:{defaultValue:null,description:"",name:"accordionMenu",required:!0,type:{name:"AccordionMenuState"}},api:{defaultValue:null,description:"",name:"api",required:!0,type:{name:"ApiState"}},comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"CommentsState"}},errors:{defaultValue:null,description:"",name:"errors",required:!0,type:{name:"ErrorsState"}},fileTree:{defaultValue:null,description:"",name:"fileTree",required:!0,type:{name:"FileTreeState"}},fullscreenGrid:{defaultValue:null,description:"",name:"fullscreenGrid",required:!0,type:{name:"FullscreenGridState"}},linter:{defaultValue:null,description:"",name:"linter",required:!0,type:{name:"LinterState"}},popover:{defaultValue:null,description:"",name:"popover",required:!0,type:{name:"PopoverState"}},router:{defaultValue:null,description:"",name:"router",required:!0,type:{name:"RouterState"}},users:{defaultValue:null,description:"",name:"users",required:!0,type:{name:"UsersState"}},versions:{defaultValue:null,description:"",name:"versions",required:!0,type:{name:"VersionsState"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Navbar/index.tsx#mapStateToProps"]={docgenInfo:Navbar_mapStateToProps.__docgenInfo,name:"mapStateToProps",path:"src/components/Navbar/index.tsx#mapStateToProps"})}catch(__react_docgen_typescript_loader_error){}try{Navbar.displayName="Navbar",Navbar.__docgenInfo={description:"",displayName:"Navbar",props:{reviewersHost:{defaultValue:null,description:"",name:"reviewersHost",required:!1,type:{name:"string"}},_requestLogOut:{defaultValue:null,description:"",name:"_requestLogOut",required:!1,type:{name:"(({ _logOutFromServer, }?: { _logOutFromServer?: ((apiState: ApiState) => Promise<CallApiResponse<{ ok: boolean; }>>); }) => ThunkActionCreator<void>)"}},_fetchVersion:{defaultValue:null,description:"",name:"_fetchVersion",required:!1,type:{name:"(({ _getVersion, addonId, versionId, path, setAsCurrent, }: FetchVersionParams) => ThunkActionCreator<void>)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Navbar/index.tsx#Navbar"]={docgenInfo:Navbar.__docgenInfo,name:"Navbar",path:"src/components/Navbar/index.tsx#Navbar"})}catch(__react_docgen_typescript_loader_error){}var _excluded=["afterMount","store"],Navbar_stories_render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},afterMount=_ref.afterMount,_ref$store=_ref.store,store=void 0===_ref$store?Object(configureStore.a)():_ref$store,props=Object(objectWithoutProperties.a)(_ref,_excluded),Shell=function Shell(){return Object(react.useEffect)((function(){afterMount&&afterMount()}),[afterMount]),Object(jsx_runtime.jsx)(components_Navbar,Object(objectSpread2.a)({},props))};return Object(storybook_utils.f)(Object(jsx_runtime.jsx)(Shell,{}),{store:store})},Navbar_stories_dispatchBaseVersion=function dispatchBaseVersion(_ref2){var _ref2$id=_ref2.id,id=void 0===_ref2$id?Object(test_helpers.o)():_ref2$id,store=_ref2.store,_ref2$versionString=_ref2.versionString,versionString=void 0===_ref2$versionString?"1.0":_ref2$versionString,baseVersion=Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.m),{},{id:id,version:versionString});Object(test_helpers.g)({store:store,version:baseVersion}),store.dispatch(versions.b.setCurrentBaseVersionId({versionId:baseVersion.id}))},UserIsNotSignedIn=(__webpack_exports__.default={title:"Components/Navbar",component:Navbar_NavbarBase},function UserIsNotSignedIn(){return Navbar_stories_render()}),Navbar_stories_UserIsSignedIn=function UserIsSignedIn(){var store=Object(configureStore.a)();return store.dispatch(users.a.loadCurrentUser({user:test_helpers.i})),Navbar_stories_render({store:store})},Navbar_stories_WithCurrentVersion=function WithCurrentVersion(){var version=Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.m),{},{addon:Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.j),{},{name:{"en-US":"uBlock Origin"}})}),store=Object(test_helpers.d)({version:version,makeCurrent:!0});return Navbar_stories_render({store:store})},Navbar_stories_WithBaseVersionAndCurrentVersion=function WithBaseVersionAndCurrentVersion(){var version=Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.m),{},{id:Object(test_helpers.o)(),version:"2.0",addon:Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.j),{},{name:{"en-US":"uBlock Origin"}})}),store=Object(test_helpers.d)({version:version,makeCurrent:!0});return Navbar_stories_dispatchBaseVersion({store:store,versionString:"1.0"}),Navbar_stories_render({store:store})},Navbar_stories_WithNewBaseVersionLoading=function WithNewBaseVersionLoading(){var version=Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.m),{},{version:"2.0",addon:Object(objectSpread2.a)(Object(objectSpread2.a)({},test_helpers.j),{},{name:{"en-US":"uBlock Origin"}})}),store=Object(test_helpers.d)({version:version,makeCurrent:!0});return Navbar_stories_dispatchBaseVersion({store:store,versionString:"1.0"}),Navbar_stories_render({afterMount:function afterMount(){store.dispatch(versions.b.setCurrentBaseVersionId({versionId:Object(test_helpers.o)()}))},store:store})},Navbar_stories_UserHasEnteredComments=function UserHasEnteredComments(){var store=Object(test_helpers.e)({comments:[Object(test_helpers.a)({filename:"manifest.json",lineno:23,comment:"This permission does not seem to be used anywhere. Is it?"}),Object(test_helpers.a)({filename:"background.js",lineno:344,comment:"This call to eval() is forbidden."})]});return Navbar_stories_render({store:store})}},"./src/components/Navbar/styles.module.scss":function(module,exports,__webpack_require__){module.exports={Navbar:"styles_Navbar__2Bbek",brand:"styles_brand__mIGQi",text:"styles_text__ejRr9",info:"styles_info__2Iywe",infoItem:"styles_infoItem__2IGOZ",itemData:"styles_itemData__2VzG0",commentCount:"styles_commentCount__3qR04",baseVersionIsLoading:"styles_baseVersionIsLoading__xrBey",pulseBaseVersion:"styles_pulseBaseVersion__eHeth",username:"styles_username__3BOb8",reviewerToolsLink:"styles_reviewerToolsLink__3NNd_",reviewerToolsIcon:"styles_reviewerToolsIcon__2x51U"}},"./src/components/PopoverButton/PopoverButton.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_reducers_popover__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/reducers/popover.tsx")),_storybook_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/storybook-utils.tsx"),_configureStore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/configureStore.tsx"),___WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/PopoverButton/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["id","store"];__webpack_exports__.default={title:"Components/PopoverButton",component:___WEBPACK_IMPORTED_MODULE_6__.a};var Default=function Default(){return function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$id=_ref.id,id=void 0===_ref$id?"COMMENTS_SUMMARY":_ref$id,_ref$store=_ref.store,store=void 0===_ref$store?Object(_configureStore__WEBPACK_IMPORTED_MODULE_5__.a)():_ref$store,moreProps=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,_excluded);store.dispatch(_reducers_popover__WEBPACK_IMPORTED_MODULE_3__.a.show(id));var props=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({content:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"PopoverButton-content",children:_storybook_utils__WEBPACK_IMPORTED_MODULE_4__.d}),id:id,prompt:"Open"},moreProps);return Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_4__.f)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(___WEBPACK_IMPORTED_MODULE_6__.b,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},props)),{store:store})}()}},"./src/components/PopoverButton/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PopoverButtonBase}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),classnames__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/index.js"),react_bootstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-bootstrap/esm/Overlay.js"),react_bootstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-bootstrap/esm/Popover.js"),react_bootstrap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-bootstrap/esm/Button.js"),react_redux__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-redux/es/index.js"),_reducers_popover__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/reducers/popover.tsx"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/PopoverButton/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_11__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/react/jsx-runtime.js"),PopoverButtonBase=function(_React$Component){Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(PopoverButtonBase,_React$Component);var _super=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(PopoverButtonBase);function PopoverButtonBase(props){var _this;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,PopoverButtonBase),(_this=_super.call(this,props)).buttonRef=_this.props.createRef(),_this.state={canAccessRefs:!1},_this}return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(PopoverButtonBase,[{key:"componentDidMount",value:function componentDidMount(){this.setState({canAccessRefs:!0})}},{key:"renderOverlay",value:function renderOverlay(){var _this$props=this.props,content=_this$props.content,dispatch=_this$props.dispatch,id=_this$props.id,popoverClassName=_this$props.popoverClassName,show=_this$props.show;if(!this.state.canAccessRefs)return null;if(!this.buttonRef.current)throw new Error("buttonRef.current was unexpectedly empty");return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.a,{onHide:function onHide(){dispatch(_reducers_popover__WEBPACK_IMPORTED_MODULE_10__.a.hide(id))},placement:"bottom",rootClose:!0,show:show,target:this.buttonRef.current,children:function children(_ref){var arrowProps=_ref.arrowProps,placement=_ref.placement,ref=_ref.ref,style=_ref.style;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a,{arrowProps:arrowProps,className:classnames__WEBPACK_IMPORTED_MODULE_4___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.popover,popoverClassName),id:"".concat(id,"-popover"),placement:placement,ref:ref,style:style,children:content})}})}},{key:"render",value:function render(){var _this$props2=this.props,dispatch=_this$props2.dispatch,id=_this$props2.id,prompt=_this$props2.prompt;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:function onClick(){dispatch(_reducers_popover__WEBPACK_IMPORTED_MODULE_10__.a.show(id))},ref:this.buttonRef,size:"sm",variant:"primary",children:prompt}),this.renderOverlay()]})}}]),PopoverButtonBase}(react__WEBPACK_IMPORTED_MODULE_5__.Component);PopoverButtonBase.defaultProps={createRef:function createRef(){return react__WEBPACK_IMPORTED_MODULE_5__.createRef()}};__webpack_exports__.b=Object(react_redux__WEBPACK_IMPORTED_MODULE_9__.connect)((function mapStateToProps(state,ownProps){return{show:Object(_reducers_popover__WEBPACK_IMPORTED_MODULE_10__.c)({id:ownProps.id,popover:state.popover})}}))(PopoverButtonBase);try{PopoverButtonBase.displayName="PopoverButtonBase",PopoverButtonBase.__docgenInfo={description:"",displayName:"PopoverButtonBase",props:{content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"AnyReactNode"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"enum",value:[{value:'"COMMENTS_SUMMARY"'},{value:'"COMPARE_VERSIONS"'}]}},popoverClassName:{defaultValue:null,description:"",name:"popoverClassName",required:!1,type:{name:"string"}},prompt:{defaultValue:null,description:"",name:"prompt",required:!0,type:{name:"AnyReactNode"}},createRef:{defaultValue:{value:"() => React.createRef<HTMLDivElement>()"},description:"",name:"createRef",required:!1,type:{name:"() => RefObject<HTMLDivElement>"}},show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"ThunkDispatch<AnyAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PopoverButton/index.tsx#PopoverButtonBase"]={docgenInfo:PopoverButtonBase.__docgenInfo,name:"PopoverButtonBase",path:"src/components/PopoverButton/index.tsx#PopoverButtonBase"})}catch(__react_docgen_typescript_loader_error){}try{PopoverButton.displayName="PopoverButton",PopoverButton.__docgenInfo={description:"",displayName:"PopoverButton",props:{content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"AnyReactNode"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"enum",value:[{value:'"COMMENTS_SUMMARY"'},{value:'"COMPARE_VERSIONS"'}]}},popoverClassName:{defaultValue:null,description:"",name:"popoverClassName",required:!1,type:{name:"string"}},prompt:{defaultValue:null,description:"",name:"prompt",required:!0,type:{name:"AnyReactNode"}},createRef:{defaultValue:null,description:"",name:"createRef",required:!1,type:{name:"(() => RefObject<HTMLDivElement>)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PopoverButton/index.tsx#PopoverButton"]={docgenInfo:PopoverButton.__docgenInfo,name:"PopoverButton",path:"src/components/PopoverButton/index.tsx#PopoverButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/PopoverButton/styles.module.scss":function(module,exports,__webpack_require__){module.exports={popover:"styles_popover__E140a"}},"./src/components/SidePanel/styles.module.scss":function(module,exports,__webpack_require__){module.exports={SidePanel:"styles_SidePanel__2Typq",ToggleButton:"styles_ToggleButton__38ByA",content:"styles_content__3Kwve",borderlessContent:"styles_borderlessContent__3SUfB",isCollapsed:"styles_isCollapsed__Ixuzb"}},"./src/components/Skeleton/Skeleton.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"InAParagraph",(function(){return InAParagraph}));__webpack_require__("./node_modules/react/index.js");var ___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Skeleton/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/Skeleton",component:___WEBPACK_IMPORTED_MODULE_1__.a};var InAParagraph=function InAParagraph(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.a,{})})}},"./src/components/Skeleton/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Skeleton/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.a=function SkeletonBase(_ref){var className=_ref.className;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.skeleton,className)})};try{Skeleton.displayName="Skeleton",Skeleton.__docgenInfo={description:"",displayName:"Skeleton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Skeleton/index.tsx#Skeleton"]={docgenInfo:Skeleton.__docgenInfo,name:"Skeleton",path:"src/components/Skeleton/index.tsx#Skeleton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Skeleton/styles.module.scss":function(module,exports,__webpack_require__){module.exports={skeleton:"styles_skeleton__21wD1",pulse:"styles_pulse__3ioaW"}},"./src/components/SlowPageAlert/SlowPageAlert.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_storybook_utils__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/storybook-utils.tsx")),___WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/SlowPageAlert/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/SlowPageAlert",component:___WEBPACK_IMPORTED_MODULE_3__.a};var Default=function Default(){return function render(){var otherProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},props=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({getMessage:function getMessage(){return"This file has been shortened for performance."},getLinkText:function getLinkText(){return"Show the original file."}},otherProps);return Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_2__.f)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(___WEBPACK_IMPORTED_MODULE_3__.a,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},props)))}()}},"./src/components/SlowPageAlert/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),query_string__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/query-string/index.js"),query_string__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_2__),react_bootstrap__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react-bootstrap/esm/Alert.js")),react_router_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-router-dom/es/withRouter.js"),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/utils.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js"),SlowPageAlertBase=function SlowPageAlertBase(_ref){var _ref$_shouldAllowSlow=_ref._shouldAllowSlowPages,_shouldAllowSlowPages=void 0===_ref$_shouldAllowSlow?_utils__WEBPACK_IMPORTED_MODULE_6__.s:_ref$_shouldAllowSlow,allowSlowPagesByDefault=_ref.allowSlowPagesByDefault,getLinkText=_ref.getLinkText,getMessage=_ref.getMessage,history=_ref.history,location=_ref.location,allowSlowPages=_shouldAllowSlowPages({allowByDefault:allowSlowPagesByDefault,location:location});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{variant:"danger",children:[getMessage(allowSlowPages)," ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a.Link,{onClick:function onClick(){var newLocation=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},location),{},{search:query_string__WEBPACK_IMPORTED_MODULE_2___default.a.stringify(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},query_string__WEBPACK_IMPORTED_MODULE_2___default.a.parse(location.search)),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_utils__WEBPACK_IMPORTED_MODULE_6__.c,!allowSlowPages)))});history.push(newLocation)},children:getLinkText(allowSlowPages)})]})};__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.a)(SlowPageAlertBase);try{SlowPageAlertBase.displayName="SlowPageAlertBase",SlowPageAlertBase.__docgenInfo={description:"",displayName:"SlowPageAlertBase",props:{_shouldAllowSlowPages:{defaultValue:{value:"({\n  allowByDefault = false,\n  location,\n}: {\n  allowByDefault?: boolean;\n  location: Location;\n}) => {\n  const shouldAllowQueryParam = queryString.parse(location.search)[\n    allowSlowPagesParam\n  ];\n  return shouldAllowQueryParam !== undefined\n    ? shouldAllowQueryParam === 'true'\n    : allowByDefault;\n}"},description:"",name:"_shouldAllowSlowPages",required:!1,type:{name:"(({ allowByDefault, location, }: { allowByDefault?: boolean; location: Location<unknown>; }) => boolean)"}},allowSlowPagesByDefault:{defaultValue:null,description:"",name:"allowSlowPagesByDefault",required:!1,type:{name:"boolean"}},getLinkText:{defaultValue:null,description:"",name:"getLinkText",required:!0,type:{name:"GetTextForSlowState"}},getMessage:{defaultValue:null,description:"",name:"getMessage",required:!0,type:{name:"GetTextForSlowState"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SlowPageAlert/index.tsx#SlowPageAlertBase"]={docgenInfo:SlowPageAlertBase.__docgenInfo,name:"SlowPageAlertBase",path:"src/components/SlowPageAlert/index.tsx#SlowPageAlertBase"})}catch(__react_docgen_typescript_loader_error){}try{SlowPageAlert.displayName="SlowPageAlert",SlowPageAlert.__docgenInfo={description:"",displayName:"SlowPageAlert",props:{_shouldAllowSlowPages:{defaultValue:{value:"({\n  allowByDefault = false,\n  location,\n}: {\n  allowByDefault?: boolean;\n  location: Location;\n}) => {\n  const shouldAllowQueryParam = queryString.parse(location.search)[\n    allowSlowPagesParam\n  ];\n  return shouldAllowQueryParam !== undefined\n    ? shouldAllowQueryParam === 'true'\n    : allowByDefault;\n}"},description:"",name:"_shouldAllowSlowPages",required:!1,type:{name:"(({ allowByDefault, location, }: { allowByDefault?: boolean; location: Location<unknown>; }) => boolean)"}},allowSlowPagesByDefault:{defaultValue:null,description:"",name:"allowSlowPagesByDefault",required:!1,type:{name:"boolean"}},getLinkText:{defaultValue:null,description:"",name:"getLinkText",required:!0,type:{name:"GetTextForSlowState"}},getMessage:{defaultValue:null,description:"",name:"getMessage",required:!0,type:{name:"GetTextForSlowState"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SlowPageAlert/index.tsx#SlowPageAlert"]={docgenInfo:SlowPageAlert.__docgenInfo,name:"SlowPageAlert",path:"src/components/SlowPageAlert/index.tsx#SlowPageAlert"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ToggleButton/ToggleButton.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefaultButton",(function(){return DefaultButton})),__webpack_require__.d(__webpack_exports__,"WithALabel",(function(){return WithALabel})),__webpack_require__.d(__webpack_exports__,"ToggleLeft",(function(){return ToggleLeft})),__webpack_require__.d(__webpack_exports__,"ToggleLeftAndLabel",(function(){return ToggleLeftAndLabel}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),___WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/ToggleButton/index.tsx")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),renderToggleButton=function renderToggleButton(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(___WEBPACK_IMPORTED_MODULE_2__.a,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({onClick:function onClick(){}},props))};__webpack_exports__.default={title:"Components/ToggleButton",component:___WEBPACK_IMPORTED_MODULE_2__.a};var DefaultButton=function DefaultButton(){return renderToggleButton()},WithALabel=function WithALabel(){return renderToggleButton({label:"toggle me"})},ToggleLeft=function ToggleLeft(){return renderToggleButton({toggleLeft:!0})},ToggleLeftAndLabel=function ToggleLeftAndLabel(){return renderToggleButton({toggleLeft:!0,label:"toggle me"})}},"./src/components/ToggleButton/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/classnames/index.js")),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Button/index.tsx"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/ToggleButton/styles.module.scss"),_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_5__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js"),ToggleButton=function ToggleButton(_ref){var className=_ref.className,label=_ref.label,onClick=_ref.onClick,title=_ref.title,_ref$toggleLeft=_ref.toggleLeft,toggleLeft=void 0!==_ref$toggleLeft&&_ref$toggleLeft,labelElement=label?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.label,children:label}):null,icon=toggleLeft?"angle-double-left":"angle-double-right";return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_Button__WEBPACK_IMPORTED_MODULE_4__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.toggleLeft,toggleLeft),className),onClick:onClick,title:title,children:[!toggleLeft&&labelElement,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__.a,{icon:icon}),toggleLeft&&labelElement]})};__webpack_exports__.a=ToggleButton;try{ToggleButton.displayName="ToggleButton",ToggleButton.__docgenInfo={description:"",displayName:"ToggleButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string | null"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},toggleLeft:{defaultValue:{value:"false"},description:"",name:"toggleLeft",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ToggleButton/index.tsx#ToggleButton"]={docgenInfo:ToggleButton.__docgenInfo,name:"ToggleButton",path:"src/components/ToggleButton/index.tsx#ToggleButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ToggleButton/styles.module.scss":function(module,exports,__webpack_require__){module.exports={label:"styles_label__37BrK",toggleLeft:"styles_toggleLeft__1CsU0"}},"./src/components/VersionChooser/VersionChooser.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LoadingState",(function(){return LoadingState})),__webpack_require__.d(__webpack_exports__,"WithListedAndUnlistedVersions",(function(){return WithListedAndUnlistedVersions})),__webpack_require__.d(__webpack_exports__,"WithSomeNewVersionsDisabled",(function(){return WithSomeNewVersionsDisabled}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_configureStore__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/configureStore.tsx")),_reducers_popover__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/reducers/popover.tsx"),_reducers_versions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/reducers/versions.tsx"),_test_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/test-helpers.tsx"),_storybook_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/storybook-utils.tsx"),___WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/VersionChooser/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react/jsx-runtime.js"),render=function render(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$addonId=_ref.addonId,addonId=void 0===_ref$addonId?124:_ref$addonId,_ref$baseVersionId=_ref.baseVersionId,baseVersionId=void 0===_ref$baseVersionId?1:_ref$baseVersionId,_ref$headVersionId=_ref.headVersionId,headVersionId=void 0===_ref$headVersionId?1:_ref$headVersionId,_ref$store=_ref.store,store=void 0===_ref$store?Object(_configureStore__WEBPACK_IMPORTED_MODULE_2__.a)():_ref$store;return store.dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_4__.b.setCurrentBaseVersionId({versionId:baseVersionId})),store.dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_4__.b.setCurrentVersionId({versionId:headVersionId})),store.dispatch(_reducers_popover__WEBPACK_IMPORTED_MODULE_3__.a.show("COMPARE_VERSIONS")),Object(_storybook_utils__WEBPACK_IMPORTED_MODULE_6__.f)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(___WEBPACK_IMPORTED_MODULE_7__.a,{addonId:addonId}),{store:store})},listedVersions=[Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_test_helpers__WEBPACK_IMPORTED_MODULE_5__.n),{},{id:100,channel:"listed",version:"1.0.0"}),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_test_helpers__WEBPACK_IMPORTED_MODULE_5__.n),{},{id:110,channel:"listed",version:"1.1.0"}),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_test_helpers__WEBPACK_IMPORTED_MODULE_5__.n),{},{id:120,channel:"listed",version:"1.2.0"})];__webpack_exports__.default={title:"Components/VersionChooser",component:___WEBPACK_IMPORTED_MODULE_7__.a};var LoadingState=function LoadingState(){return render()},WithListedAndUnlistedVersions=function WithListedAndUnlistedVersions(){var versions=[].concat(listedVersions,[Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_test_helpers__WEBPACK_IMPORTED_MODULE_5__.n),{},{id:130,channel:"unlisted",version:"1.3.0"})]),store=Object(_configureStore__WEBPACK_IMPORTED_MODULE_2__.a)();return store.dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_4__.b.loadVersionsList({addonId:124,versions:versions})),render({addonId:124,baseVersionId:versions[0].id,headVersionId:versions[2].id,store:store})},WithSomeNewVersionsDisabled=function WithSomeNewVersionsDisabled(){var versions=listedVersions,store=Object(_configureStore__WEBPACK_IMPORTED_MODULE_2__.a)();return store.dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_4__.b.loadVersionsList({addonId:124,versions:versions})),render({addonId:124,baseVersionId:versions[1].id,headVersionId:versions[2].id,store:store})}},"./src/components/VersionChooser/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var classCallCheck=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),inherits=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react=__webpack_require__("./node_modules/react/index.js"),Button=__webpack_require__("./node_modules/react-bootstrap/esm/Button.js"),Form=__webpack_require__("./node_modules/react-bootstrap/esm/Form.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),withRouter=__webpack_require__("./node_modules/react-router-dom/es/withRouter.js"),PopoverButton=__webpack_require__("./src/components/PopoverButton/index.tsx"),Col=__webpack_require__("./node_modules/react-bootstrap/esm/Col.js"),index_es=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),Skeleton=__webpack_require__("./src/components/Skeleton/index.tsx"),utils=__webpack_require__("./src/utils.tsx"),styles_module=__webpack_require__("./src/components/VersionSelect/styles.module.scss"),styles_module_default=__webpack_require__.n(styles_module),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),VersionSelect_VersionSelectBase=function(_React$Component){Object(inherits.a)(VersionSelectBase,_React$Component);var _super=Object(createSuper.a)(VersionSelectBase);function VersionSelectBase(){var _this;Object(classCallCheck.a)(this,VersionSelectBase);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).onChange=function(event){var value=event.currentTarget.value;_this.props.onChange(parseInt(value,10))},_this.renderOption=function(version){var isSelectable=_this.props.isSelectable;return Object(jsx_runtime.jsx)("option",{className:styles_module_default.a.option,disabled:!isSelectable(version),value:version.id,children:version.versionString},version.id)},_this}return Object(createClass.a)(VersionSelectBase,[{key:"render",value:function render(){var _this$props=this.props,className=_this$props.className,controlId=_this$props.controlId,formControlClassName=_this$props.formControlClassName,isLoading=_this$props.isLoading,label=_this$props.label,listedVersions=_this$props.listedVersions,unlistedVersions=_this$props.unlistedVersions,value=_this$props.value,withLeftArrow=_this$props.withLeftArrow;return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsxs)(Form.a.Group,{as:Col.a,className:classnames_default()(className,styles_module_default.a.formGroup),controlId:controlId,children:[withLeftArrow&&Object(jsx_runtime.jsx)(index_es.a,{icon:"long-arrow-alt-left"}),Object(jsx_runtime.jsx)(Form.a.Label,{className:styles_module_default.a.label,children:label}),isLoading?Object(jsx_runtime.jsx)("div",{className:classnames_default()("form-control",formControlClassName,styles_module_default.a.simulatedFormControl),children:Object(jsx_runtime.jsx)(Skeleton.a,{className:styles_module_default.a.simulatedFormControlSkeleton})}):Object(jsx_runtime.jsxs)(Form.a.Control,{as:"select",className:formControlClassName,value:value,onChange:this.onChange,children:[listedVersions.length&&Object(jsx_runtime.jsx)("optgroup",{className:styles_module_default.a.listedGroup,label:Object(utils.m)("Listed"),children:listedVersions.map(this.renderOption)}),unlistedVersions.length&&Object(jsx_runtime.jsx)("optgroup",{className:styles_module_default.a.unlistedGroup,label:Object(utils.m)("Unlisted"),children:unlistedVersions.map(this.renderOption)})]})]})})}}]),VersionSelectBase}(react.Component);VersionSelect_VersionSelectBase.defaultProps={withLeftArrow:!1};var VersionSelect=VersionSelect_VersionSelectBase;try{VersionSelect_VersionSelectBase.displayName="VersionSelectBase",VersionSelect_VersionSelectBase.__docgenInfo={description:"",displayName:"VersionSelectBase",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},controlId:{defaultValue:null,description:"",name:"controlId",required:!0,type:{name:"string"}},formControlClassName:{defaultValue:null,description:"",name:"formControlClassName",required:!1,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(version: VersionsListItem) => boolean"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},listedVersions:{defaultValue:null,description:"",name:"listedVersions",required:!0,type:{name:"VersionsList"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(versionId: number) => void"}},unlistedVersions:{defaultValue:null,description:"",name:"unlistedVersions",required:!0,type:{name:"VersionsList"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string | undefined"}},withLeftArrow:{defaultValue:{value:"false"},description:"",name:"withLeftArrow",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/VersionSelect/index.tsx#VersionSelectBase"]={docgenInfo:VersionSelect_VersionSelectBase.__docgenInfo,name:"VersionSelectBase",path:"src/components/VersionSelect/index.tsx#VersionSelectBase"})}catch(__react_docgen_typescript_loader_error){}var popover=__webpack_require__("./src/reducers/popover.tsx"),versions=__webpack_require__("./src/reducers/versions.tsx"),VersionChooser_styles_module=__webpack_require__("./src/components/VersionChooser/styles.module.scss"),VersionChooser_styles_module_default=__webpack_require__.n(VersionChooser_styles_module),POPOVER_ID="COMPARE_VERSIONS",higherVersionsThan=function higherVersionsThan(versionId){return function(version){return version.id>parseInt(versionId,10)}},lowerVersionsThan=function lowerVersionsThan(versionId){return function(version){return version.id<parseInt(versionId,10)}},VersionChooser_VersionChooserBase=function(_React$Component){Object(inherits.a)(VersionChooserBase,_React$Component);var _super=Object(createSuper.a)(VersionChooserBase);function VersionChooserBase(){var _this;Object(classCallCheck.a)(this,VersionChooserBase);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).onSubmit=function(event){event.preventDefault();var _this$props=_this.props,addonId=_this$props.addonId,dispatch=_this$props.dispatch,history=_this$props.history,pendingBaseVersionId=_this$props.pendingBaseVersionId,pendingHeadVersionId=_this$props.pendingHeadVersionId;dispatch(popover.a.hide(POPOVER_ID));history.push(_this.addLocationQueryString("/".concat("en-US","/compare/").concat(addonId,"/versions/").concat(pendingBaseVersionId,"...").concat(pendingHeadVersionId,"/")))},_this.onHeadVersionChange=function(versionId){(0,_this.props.dispatch)(versions.b.setPendingHeadVersionId({versionId:versionId}))},_this.onBaseVersionChange=function(versionId){(0,_this.props.dispatch)(versions.b.setPendingBaseVersionId({versionId:versionId}))},_this}return Object(createClass.a)(VersionChooserBase,[{key:"componentDidMount",value:function componentDidMount(){var _this$props2=this.props,_fetchVersionsList=_this$props2._fetchVersionsList,addonId=_this$props2.addonId,dispatch=_this$props2.dispatch;_this$props2.versionsMap||dispatch(_fetchVersionsList({addonId:addonId})),this.synchronize()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.synchronize()}},{key:"synchronize",value:function synchronize(){var _this$props3=this.props,currentBaseVersionId=_this$props3.currentBaseVersionId,currentVersionId=_this$props3.currentVersionId,dispatch=_this$props3.dispatch,pendingBaseVersionId=_this$props3.pendingBaseVersionId,pendingHeadVersionId=_this$props3.pendingHeadVersionId,versionsMap=_this$props3.versionsMap;if(void 0===pendingBaseVersionId&&currentBaseVersionId)dispatch(versions.b.setPendingBaseVersionId({versionId:currentBaseVersionId}));else if(void 0===pendingHeadVersionId&&currentVersionId)dispatch(versions.b.setPendingHeadVersionId({versionId:currentVersionId}));else if(!pendingBaseVersionId){var allBaseVersions=versionsMap?versionsMap.listed.concat(versionsMap.unlisted):[];allBaseVersions.length&&dispatch(versions.b.setPendingBaseVersionId({versionId:allBaseVersions[allBaseVersions.length-1].id}))}}},{key:"addLocationQueryString",value:function addLocationQueryString(url){var history=this.props.history;if(!url.endsWith("/"))throw new Error("The URL '".concat(url,"' must end in a trailing slash"));return"".concat(url).concat(history.location.search)}},{key:"renderBrowseButton",value:function renderBrowseButton(versionId){var _this$props4=this.props,addonId=_this$props4.addonId,dispatch=_this$props4.dispatch,history=_this$props4.history,href=versionId?this.addLocationQueryString("/".concat("en-US","/browse/").concat(addonId,"/versions/").concat(versionId,"/")):void 0;return Object(jsx_runtime.jsx)(Button.a,{disabled:!versionId,onClick:function onClick(event){event.preventDefault(),event.stopPropagation(),dispatch(popover.a.hide(POPOVER_ID)),href&&history.push(href)},href:href,children:Object(utils.m)("Browse")})}},{key:"render",value:function render(){var _this$props5=this.props,_higherVersionsThan=_this$props5._higherVersionsThan,_lowerVersionsThan=_this$props5._lowerVersionsThan,pendingBaseVersionId=_this$props5.pendingBaseVersionId,pendingHeadVersionId=_this$props5.pendingHeadVersionId,versionsMap=_this$props5.versionsMap,headVersionId=String(pendingHeadVersionId||""),baseVersionId=String(pendingBaseVersionId||""),listedVersions=versionsMap?versionsMap.listed:[],unlistedVersions=versionsMap?versionsMap.unlisted:[],isLoading=!versionsMap;return Object(jsx_runtime.jsx)(PopoverButton.b,{id:POPOVER_ID,content:Object(jsx_runtime.jsxs)(Form.a,{className:VersionChooser_styles_module_default.a.VersionChooser,onSubmit:this.onSubmit,children:[Object(jsx_runtime.jsxs)("div",{className:VersionChooser_styles_module_default.a.formRow,children:[Object(jsx_runtime.jsx)(VersionSelect,{className:classnames_default()(VersionChooser_styles_module_default.a.versionSelect,VersionChooser_styles_module_default.a.baseVersionSelect),controlId:"VersionSelect-oldVersion",formControlClassName:VersionChooser_styles_module_default.a.versionSelectControl,isLoading:isLoading,isSelectable:_lowerVersionsThan(headVersionId),label:Object(utils.m)("Old version"),listedVersions:listedVersions,onChange:this.onBaseVersionChange,unlistedVersions:unlistedVersions,value:baseVersionId}),this.renderBrowseButton(baseVersionId)]}),Object(jsx_runtime.jsxs)("div",{className:VersionChooser_styles_module_default.a.formRow,children:[Object(jsx_runtime.jsx)(VersionSelect,{className:classnames_default()(VersionChooser_styles_module_default.a.versionSelect,VersionChooser_styles_module_default.a.headVersionSelect),controlId:"VersionSelect-newVersion",formControlClassName:VersionChooser_styles_module_default.a.versionSelectControl,isLoading:isLoading,isSelectable:_higherVersionsThan(baseVersionId),label:Object(utils.m)("New version"),listedVersions:listedVersions,onChange:this.onHeadVersionChange,unlistedVersions:unlistedVersions,value:headVersionId}),this.renderBrowseButton(headVersionId)]}),Object(jsx_runtime.jsx)(Button.a,{className:VersionChooser_styles_module_default.a.submitButton,disabled:baseVersionId===headVersionId,type:"submit",variant:"primary",children:Object(utils.m)("Compare")})]}),popoverClassName:VersionChooser_styles_module_default.a.popover,prompt:Object(utils.m)("Compare Versions")})}}]),VersionChooserBase}(react.Component);VersionChooser_VersionChooserBase.defaultProps={_fetchVersionsList:versions.h,_higherVersionsThan:higherVersionsThan,_lowerVersionsThan:lowerVersionsThan};var ConnectedVersionChooser=Object(es.connect)((function mapStateToProps(state,ownProps){var byAddonId=state.versions.byAddonId,addonId=ownProps.addonId;return{currentBaseVersionId:state.versions.currentBaseVersionId,currentVersionId:state.versions.currentVersionId,pendingBaseVersionId:state.versions.pendingBaseVersionId,pendingHeadVersionId:state.versions.pendingHeadVersionId,versions:state.versions,versionsMap:byAddonId[addonId]}}))(VersionChooser_VersionChooserBase);__webpack_exports__.a=Object(withRouter.a)(ConnectedVersionChooser);try{higherVersionsThan.displayName="higherVersionsThan",higherVersionsThan.__docgenInfo={description:"",displayName:"higherVersionsThan",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/VersionChooser/index.tsx#higherVersionsThan"]={docgenInfo:higherVersionsThan.__docgenInfo,name:"higherVersionsThan",path:"src/components/VersionChooser/index.tsx#higherVersionsThan"})}catch(__react_docgen_typescript_loader_error){}try{lowerVersionsThan.displayName="lowerVersionsThan",lowerVersionsThan.__docgenInfo={description:"",displayName:"lowerVersionsThan",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/VersionChooser/index.tsx#lowerVersionsThan"]={docgenInfo:lowerVersionsThan.__docgenInfo,name:"lowerVersionsThan",path:"src/components/VersionChooser/index.tsx#lowerVersionsThan"})}catch(__react_docgen_typescript_loader_error){}try{VersionChooser_VersionChooserBase.displayName="VersionChooserBase",VersionChooser_VersionChooserBase.__docgenInfo={description:"",displayName:"VersionChooserBase",props:{addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"ThunkDispatch<AnyAction>"}},_fetchVersionsList:{defaultValue:{value:"({\n  _getVersionsList = getVersionsList,\n  addonId,\n}: FetchVersionsListParams): ThunkActionCreator => {\n  return async (dispatch, getState) => {\n    const { api: apiState } = getState();\n\n    const response = await _getVersionsList({ addonId, apiState });\n\n    if (isErrorResponse(response)) {\n      dispatch(errorsActions.addError({ error: response.error }));\n    } else {\n      dispatch(actions.loadVersionsList({ addonId, versions: response }));\n    }\n  };\n}"},description:"",name:"_fetchVersionsList",required:!1,type:{name:"({ _getVersionsList, addonId, }: FetchVersionsListParams) => ThunkActionCreator<void>"}},_higherVersionsThan:{defaultValue:{value:"(versionId: string) => {\n  return (version: VersionsListItem) => version.id > parseInt(versionId, 10);\n}"},description:"",name:"_higherVersionsThan",required:!1,type:{name:"(versionId: string) => (version: VersionsListItem) => boolean"}},_lowerVersionsThan:{defaultValue:{value:"(versionId: string) => {\n  return (version: VersionsListItem) => version.id < parseInt(versionId, 10);\n}"},description:"",name:"_lowerVersionsThan",required:!1,type:{name:"(versionId: string) => (version: VersionsListItem) => boolean"}},currentBaseVersionId:{defaultValue:null,description:"",name:"currentBaseVersionId",required:!0,type:{name:"number | false | undefined"}},currentVersionId:{defaultValue:null,description:"",name:"currentVersionId",required:!0,type:{name:"number | false | undefined"}},pendingBaseVersionId:{defaultValue:null,description:"",name:"pendingBaseVersionId",required:!0,type:{name:"number | undefined"}},pendingHeadVersionId:{defaultValue:null,description:"",name:"pendingHeadVersionId",required:!0,type:{name:"number | undefined"}},versionsMap:{defaultValue:null,description:"",name:"versionsMap",required:!0,type:{name:"VersionsMap"}},versions:{defaultValue:null,description:"",name:"versions",required:!0,type:{name:"VersionsState"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/VersionChooser/index.tsx#VersionChooserBase"]={docgenInfo:VersionChooser_VersionChooserBase.__docgenInfo,name:"VersionChooserBase",path:"src/components/VersionChooser/index.tsx#VersionChooserBase"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/VersionChooser/styles.module.scss":function(module,exports,__webpack_require__){module.exports={VersionChooser:"styles_VersionChooser__2s7S6",popover:"styles_popover__3_8jY",submitButton:"styles_submitButton__3XQ2t",formRow:"styles_formRow__1cfqR",versionSelect:"styles_versionSelect__1Mg6z",versionSelectControl:"styles_versionSelectControl__1Ivt3"}},"./src/components/VersionSelect/styles.module.scss":function(module,exports,__webpack_require__){module.exports={option:"styles_option__2QbW9",simulatedFormControl:"styles_simulatedFormControl__362K6",simulatedFormControlSkeleton:"styles_simulatedFormControlSkeleton__qLKdo",formGroup:"styles_formGroup__rzvtx",label:"styles_label__1123g"}},"./src/configureStore.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var redux=__webpack_require__("./node_modules/redux/es/redux.js"),redux_devtools_extension=__webpack_require__("./node_modules/redux-devtools-extension/index.js"),redux_logger=__webpack_require__("./node_modules/redux-logger/dist/redux-logger.js"),es=__webpack_require__("./node_modules/redux-thunk/es/index.js"),lib=__webpack_require__("./node_modules/connected-react-router/lib/index.js"),esm_history=__webpack_require__("./node_modules/history/esm/history.js"),accordionMenu=__webpack_require__("./src/reducers/accordionMenu.tsx"),objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),typesafe_actions_umd_production=__webpack_require__("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),actions={setAuthSessionId:(0,typesafe_actions_umd_production.deprecated.createAction)("SET_AUTH_SESSION_ID",(function(resolve){return function(payload){return resolve(payload)}}))},initialState={userAuthSessionId:null},api=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;return action.type===Object(typesafe_actions_umd_production.getType)(actions.setAuthSessionId)?Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{userAuthSessionId:action.payload.userAuthSessionId}):state},comments=__webpack_require__("./src/reducers/comments.tsx"),errors=__webpack_require__("./src/reducers/errors.tsx"),fileTree=__webpack_require__("./src/reducers/fileTree.tsx"),fullscreenGrid=__webpack_require__("./src/reducers/fullscreenGrid.tsx"),linter=__webpack_require__("./src/reducers/linter.tsx"),popover=__webpack_require__("./src/reducers/popover.tsx"),users=__webpack_require__("./src/reducers/users.tsx"),versions=__webpack_require__("./src/reducers/versions.tsx"),src_reducers=function createRootReducer(history){return Object(redux.combineReducers)({accordionMenu:accordionMenu.b,api:api,comments:comments.d,errors:errors.b,fileTree:fileTree.d,fullscreenGrid:fullscreenGrid.b,linter:linter.c,popover:popover.b,router:Object(lib.connectRouter)(history),users:users.c,versions:versions.f})};try{reducers.displayName="reducers",reducers.__docgenInfo={description:"",displayName:"reducers",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/index.tsx#reducers"]={docgenInfo:reducers.__docgenInfo,name:"reducers",path:"src/reducers/index.tsx#reducers"})}catch(__react_docgen_typescript_loader_error){}var configureStore_configureStore=function configureStore(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$history=_ref.history,history=void 0===_ref$history?Object(esm_history.a)():_ref$history,preloadedState=_ref.preloadedState,allMiddleware=[Object(lib.routerMiddleware)(history),es.a],isDevelopment=!1;isDevelopment&&allMiddleware.push(Object(redux_logger.createLogger)());var middleware=redux.applyMiddleware.apply(void 0,allMiddleware);if(isDevelopment){var composeEnhancers=Object(redux_devtools_extension.composeWithDevTools)({});middleware=composeEnhancers(middleware)}var store=Object(redux.createStore)(src_reducers(history),preloadedState,middleware);return store};__webpack_exports__.a=configureStore_configureStore;try{configureStore_configureStore.displayName="configureStore",configureStore_configureStore.__docgenInfo={description:"",displayName:"configureStore",props:{history:{defaultValue:{value:"createBrowserHistory()"},description:"",name:"history",required:!1,type:{name:"History<unknown>"}},preloadedState:{defaultValue:null,description:"",name:"preloadedState",required:!1,type:{name:"ApplicationState"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/configureStore.tsx#configureStore"]={docgenInfo:configureStore_configureStore.__docgenInfo,name:"configureStore",path:"src/configureStore.tsx#configureStore"})}catch(__react_docgen_typescript_loader_error){}},"./src/reducers/accordionMenu.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isExpanded}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),typesafe_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),actions={toggleItem:(0,typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.deprecated.createAction)("TOGGLE_ACCORDION_ITEM",(function(resolve){return function(payload){return resolve(payload)}}))},initialState={expanded:null},isExpanded=function isExpanded(state,itemId){return state.expanded===itemId};__webpack_exports__.b=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;if(action.type===Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.toggleItem)){var itemId=action.payload.itemId;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{expanded:isExpanded(state,itemId)?null:itemId})}return state}},"./src/reducers/comments.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return createInternalComment})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createCommentKey})),__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"i",(function(){return selectCommentInfo})),__webpack_require__.d(__webpack_exports__,"h",(function(){return selectComment})),__webpack_require__.d(__webpack_exports__,"k",(function(){return selectVersionComments})),__webpack_require__.d(__webpack_exports__,"l",(function(){return selectVersionHasComments})),__webpack_require__.d(__webpack_exports__,"j",(function(){return selectFilePathHasComments})),__webpack_require__.d(__webpack_exports__,"f",(function(){return fetchAndLoadComments})),__webpack_require__.d(__webpack_exports__,"e",(function(){return deleteComment})),__webpack_require__.d(__webpack_exports__,"g",(function(){return manageComment}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),typesafe_actions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),_errors__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/reducers/errors.tsx"),_api__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/api/index.tsx"),_excluded=["byKey"],_excluded2=["versionId"],_excluded3=["pendingCommentText","versionId"],_excluded4=["versionId"],_excluded5=["versionId"],_excluded6=["versionId"],_excluded7=["versionId"],createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.deprecated.createAction,createInternalComment=function createInternalComment(comment){return{beginDelete:!1,considerDelete:!1,content:comment.comment,filename:comment.filename,id:comment.id,lineno:comment.lineno,userId:comment.user.id,userName:comment.user.name,userUrl:comment.user.url,userUsername:comment.user.username,versionId:comment.version_id}},initialState={byKey:{},byId:{},filePathsHavingComments:{},forVersionId:void 0,isLoading:!1},createCommentKey=function createCommentKey(_ref){var commentId=_ref.commentId,fileName=_ref.fileName,line=_ref.line,key="fileName:".concat(fileName,";line:").concat(line,";commentId:").concat(commentId);if(null!==line&&null===fileName)throw new Error('Cannot create key "'.concat(key,'" because fileName is empty'));return key},actions={abortDiscardComment:createAction("ABORT_DISCARD_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),abortDeleteComment:createAction("ABORT_DELETE_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),abortFetchVersionComments:createAction("ABORT_FETCH_VERSION_COMMENTS",(function(resolve){return function(payload){return resolve(payload)}})),abortSaveComment:createAction("ABORT_SAVE_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),beginComment:createAction("BEGIN_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),beginDeleteComment:createAction("BEGIN_DELETE_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),beginFetchVersionComments:createAction("BEGIN_FETCH_VERSION_COMMENTS",(function(resolve){return function(payload){return resolve(payload)}})),beginSaveComment:createAction("BEGIN_SAVE_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),considerDiscardComment:createAction("CONSIDER_DISCARD_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),considerDeleteComment:createAction("CONSIDER_DELETE_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),finishComment:createAction("FINISH_COMMENT",(function(resolve){return function(payload){return resolve(payload)}})),setComments:createAction("SET_COMMENTS",(function(resolve){return function(payload){return resolve(payload)}})),unsetComment:createAction("UNSET_COMMENT",(function(resolve){return function(payload){return resolve(payload)}}))},selectCommentInfo=function selectCommentInfo(_ref2){var commentId=_ref2.commentId,comments=_ref2.comments,fileName=_ref2.fileName,line=_ref2.line,versionId=_ref2.versionId;if(comments.forVersionId===versionId)return comments.byKey[createCommentKey({commentId:commentId,fileName:fileName,line:line})]},selectComment=function selectComment(_ref3){var comments=_ref3.comments,id=_ref3.id;return comments.byId[id]},selectVersionComments=function selectVersionComments(_ref4){var comments=_ref4.comments,versionId=_ref4.versionId;if(comments.forVersionId===versionId)return Object.keys(comments.byId).reduce((function(all,id){var comment=selectComment({comments:comments,id:parseInt(id,10)});return comment&&all.push(comment),all}),[])},selectVersionHasComments=function selectVersionHasComments(_ref5){var _ref5$_selectVersionC=_ref5._selectVersionComments,all=(void 0===_ref5$_selectVersionC?selectVersionComments:_ref5$_selectVersionC)({comments:_ref5.comments,versionId:_ref5.versionId});return all?all.length>0:void 0},selectFilePathHasComments=function selectFilePathHasComments(_ref6){var comments=_ref6.comments,path=_ref6.path,versionId=_ref6.versionId;return comments.forVersionId===versionId&&(comments.filePathsHavingComments[path]||!1)},fetchAndLoadComments=function fetchAndLoadComments(_ref7){var _ref7$_getAllComments=_ref7._getAllComments,_getAllComments=void 0===_ref7$_getAllComments?_api__WEBPACK_IMPORTED_MODULE_8__.c:_ref7$_getAllComments,addonId=_ref7.addonId,versionId=_ref7.versionId;return function(){var _ref8=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function _callee(dispatch,getState){var _getState,apiState,response;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_getState=getState(),apiState=_getState.api,!_getState.comments.isLoading){_context.next=3;break}return _context.abrupt("return");case 3:return dispatch(actions.beginFetchVersionComments({versionId:versionId})),_context.next=6,_getAllComments({addonId:addonId,apiState:apiState,versionId:versionId});case 6:response=_context.sent,Object(_api__WEBPACK_IMPORTED_MODULE_8__.k)(response)?(dispatch(actions.abortFetchVersionComments({versionId:versionId})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_7__.a.addError({error:response.error}))):dispatch(actions.setComments({versionId:versionId,comments:response.results}));case 8:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref8.apply(this,arguments)}}()},deleteComment=function deleteComment(_ref9){var _ref9$_apiDeleteComme=_ref9._apiDeleteComment,_apiDeleteComment=void 0===_ref9$_apiDeleteComme?_api__WEBPACK_IMPORTED_MODULE_8__.b:_ref9$_apiDeleteComme,addonId=_ref9.addonId,commentId=_ref9.commentId,versionId=_ref9.versionId;return function(){var _ref10=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function _callee2(dispatch,getState){var _getState2,apiState,response;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _getState2=getState(),apiState=_getState2.api,dispatch(actions.beginDeleteComment({commentId:commentId})),_context2.next=4,_apiDeleteComment({addonId:addonId,apiState:apiState,commentId:commentId,versionId:versionId});case 4:response=_context2.sent,Object(_api__WEBPACK_IMPORTED_MODULE_8__.k)(response)?(dispatch(actions.abortDeleteComment({commentId:commentId})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_7__.a.addError({error:response.error}))):dispatch(actions.unsetComment({commentId:commentId}));case 6:case"end":return _context2.stop()}}),_callee2)})));return function(_x3,_x4){return _ref10.apply(this,arguments)}}()},manageComment=function manageComment(_ref11){var _ref11$_createOrUpdat=_ref11._createOrUpdateComment,_createOrUpdateComment=void 0===_ref11$_createOrUpdat?_api__WEBPACK_IMPORTED_MODULE_8__.a:_ref11$_createOrUpdat,addonId=_ref11.addonId,cannedResponseId=_ref11.cannedResponseId,comment=_ref11.comment,commentId=_ref11.commentId,fileName=_ref11.fileName,line=_ref11.line,versionId=_ref11.versionId;return function(){var _ref12=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function _callee3(dispatch,getState){var _getState3,apiState,response;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _getState3=getState(),apiState=_getState3.api,dispatch(actions.beginSaveComment({commentId:commentId,versionId:versionId,fileName:fileName,line:line,pendingCommentText:comment||null})),_context3.next=4,_createOrUpdateComment({addonId:addonId,apiState:apiState,cannedResponseId:cannedResponseId,comment:comment,commentId:commentId,fileName:fileName,line:line,versionId:versionId});case 4:response=_context3.sent,Object(_api__WEBPACK_IMPORTED_MODULE_8__.k)(response)?(dispatch(actions.abortSaveComment({versionId:versionId,commentId:commentId,fileName:fileName,line:line})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_7__.a.addError({error:response.error}))):(dispatch(actions.finishComment({versionId:versionId,commentId:commentId,fileName:fileName,line:line})),dispatch(actions.setComments({versionId:versionId,comments:[response]})));case 6:case"end":return _context3.stop()}}),_callee3)})));return function(_x5,_x6){return _ref12.apply(this,arguments)}}()},stateForVersion=function stateForVersion(_ref13){var state=_ref13.state,versionId=_ref13.versionId,reset=state.forVersionId!==versionId;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{byId:reset?{}:state.byId,byKey:reset?{}:state.byKey,forVersionId:versionId})},getKeyAndInfo=function getKeyAndInfo(_ref14){var byKey=_ref14.byKey,keyParams=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_ref14,_excluded),key=createCommentKey(keyParams);return{key:key,info:byKey[key]||{beginNewComment:!1,pendingCommentText:null,savingComment:!1,commentIds:[],considerDiscard:!1}}},prepareStateForKeyChange=function prepareStateForKeyChange(_ref15){var state=_ref15.state,keyParams=_ref15.keyParams,versionId=_ref15.versionId,newState=stateForVersion({state:state,versionId:versionId}),_getKeyAndInfo=getKeyAndInfo(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({byKey:newState.byKey},keyParams));return{key:_getKeyAndInfo.key,info:_getKeyAndInfo.info,newState:newState}},adjustComment=function adjustComment(_ref16){var state=_ref16.state,id=_ref16.id,props=_ref16.props,comment=selectComment({comments:state,id:id});if(!comment)throw new Error("Cannot adjust comment by ID=".concat(id," because it does not exist"));return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},comment),props)},findAllSubpaths=function findAllSubpaths(path){var _step,parts=[],subpaths=[],normPath=path.endsWith("/")?path.substring(0,path.length-1):path,_iterator=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(normPath.split("/"));try{for(_iterator.s();!(_step=_iterator.n()).done;){var part=_step.value;parts.push(part);var subpath=parts.join("/");subpath&&subpaths.push(subpath)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return subpaths},findFilePathsHavingComments=function findFilePathsHavingComments(byId){for(var map={},_i=0,_Object$keys=Object.keys(byId);_i<_Object$keys.length;_i++){var _id=_Object$keys[_i],comment=byId[parseInt(_id,10)];if(comment&&comment.filename){var _step2,_iterator2=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(findAllSubpaths(comment.filename));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){map[_step2.value]=!0}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}return map};__webpack_exports__.d=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.abortFetchVersionComments):var versionId=action.payload.versionId,newState=stateForVersion({state:state,versionId:versionId});return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},newState),{},{isLoading:!1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.beginComment):var _action$payload=action.payload,_versionId=_action$payload.versionId,keyParams=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_action$payload,_excluded2),_prepareStateForKeyCh=prepareStateForKeyChange({state:state,keyParams:keyParams,versionId:_versionId}),_key=_prepareStateForKeyCh.key,info=_prepareStateForKeyCh.info,_newState=_prepareStateForKeyCh.newState;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState),{},{byKey:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState.byKey),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},info),{},{beginNewComment:!0,pendingCommentText:null,savingComment:!1})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.beginSaveComment):var _action$payload2=action.payload,pendingCommentText=_action$payload2.pendingCommentText,_versionId2=_action$payload2.versionId,_keyParams=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_action$payload2,_excluded3),_prepareStateForKeyCh2=prepareStateForKeyChange({state:state,keyParams:_keyParams,versionId:_versionId2}),_key2=_prepareStateForKeyCh2.key,_info=_prepareStateForKeyCh2.info,_newState2=_prepareStateForKeyCh2.newState;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState2),{},{byKey:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState2.byKey),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key2,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_info),{},{pendingCommentText:pendingCommentText,savingComment:!0})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.abortSaveComment):var _action$payload3=action.payload,_versionId3=_action$payload3.versionId,_keyParams2=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_action$payload3,_excluded4),_prepareStateForKeyCh3=prepareStateForKeyChange({state:state,keyParams:_keyParams2,versionId:_versionId3}),_key3=_prepareStateForKeyCh3.key,_info2=_prepareStateForKeyCh3.info,_newState3=_prepareStateForKeyCh3.newState;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState3),{},{byKey:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState3.byKey),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key3,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_info2),{},{savingComment:!1})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.considerDiscardComment):var _action$payload4=action.payload,_versionId4=_action$payload4.versionId,_keyParams3=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_action$payload4,_excluded5),_prepareStateForKeyCh4=prepareStateForKeyChange({state:state,keyParams:_keyParams3,versionId:_versionId4}),_key4=_prepareStateForKeyCh4.key,_info3=_prepareStateForKeyCh4.info,_newState4=_prepareStateForKeyCh4.newState;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState4),{},{byKey:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState4.byKey),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key4,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_info3),{},{considerDiscard:!0})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.abortDiscardComment):var _action$payload5=action.payload,_versionId5=_action$payload5.versionId,_keyParams4=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_action$payload5,_excluded6),_prepareStateForKeyCh5=prepareStateForKeyChange({state:state,keyParams:_keyParams4,versionId:_versionId5}),_key5=_prepareStateForKeyCh5.key,_info4=_prepareStateForKeyCh5.info,_newState5=_prepareStateForKeyCh5.newState;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState5),{},{byKey:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState5.byKey),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key5,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_info4),{},{considerDiscard:!1})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.finishComment):var _action$payload6=action.payload,_versionId6=_action$payload6.versionId,_keyParams5=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_action$payload6,_excluded7),_prepareStateForKeyCh6=prepareStateForKeyChange({state:state,keyParams:_keyParams5,versionId:_versionId6}),_key6=_prepareStateForKeyCh6.key,_info5=_prepareStateForKeyCh6.info,_newState6=_prepareStateForKeyCh6.newState;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState6),{},{byKey:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState6.byKey),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key6,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_info5),{},{beginNewComment:!1,considerDiscard:!1,pendingCommentText:null,savingComment:!1})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.setComments):var _step3,_action$payload7=action.payload,comments=_action$payload7.comments,_versionId7=_action$payload7.versionId,_newState7=stateForVersion({state:state,versionId:_versionId7}),byKey=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState7.byKey),byId=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState7.byId),_iterator3=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(comments);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var comment=_step3.value;byId[comment.id]=createInternalComment(comment);var _getKeyAndInfo2=getKeyAndInfo({byKey:byKey,commentId:void 0,fileName:comment.filename||null,line:comment.lineno||null}),_key7=_getKeyAndInfo2.key,_info6=_getKeyAndInfo2.info;byKey[_key7]=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_info6),{},{commentIds:_info6.commentIds.includes(comment.id)?_info6.commentIds:_info6.commentIds.concat(comment.id)})}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState7),{},{byKey:byKey,byId:byId,filePathsHavingComments:findFilePathsHavingComments(byId),isLoading:!1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.beginFetchVersionComments):var _versionId8=action.payload.versionId,_newState8=stateForVersion({state:state,versionId:_versionId8});return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_newState8),{},{isLoading:!0});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.abortDeleteComment):var commentId=action.payload.commentId;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{byId:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.byId),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},commentId,adjustComment({state:state,id:commentId,props:{beginDelete:!1,considerDelete:!1}})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.beginDeleteComment):var _commentId=action.payload.commentId;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{byId:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.byId),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_commentId,adjustComment({state:state,id:_commentId,props:{beginDelete:!0,considerDelete:!1}})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.considerDeleteComment):var _commentId2=action.payload.commentId;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{byId:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.byId),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_commentId2,adjustComment({state:state,id:_commentId2,props:{beginDelete:!1,considerDelete:!0}})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.unsetComment):var _ret=function(){for(var commentId=action.payload.commentId,byId=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.byId),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},commentId,void 0)),byKey=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.byKey),_i2=0,_Object$keys2=Object.keys(byKey);_i2<_Object$keys2.length;_i2++){var _key8=_Object$keys2[_i2],_info7=byKey[_key8];byKey[_key8]=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_info7),{},{commentIds:_info7.commentIds.filter((function(id){return id!==commentId}))})}return{v:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{byId:byId,byKey:byKey,filePathsHavingComments:findFilePathsHavingComments(byId)})}}();if("object"==typeof _ret)return _ret.v;default:return state}};try{createInternalComment.displayName="createInternalComment",createInternalComment.__docgenInfo={description:"",displayName:"createInternalComment",props:{filename:{defaultValue:null,description:"",name:"filename",required:!0,type:{name:"string | null"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},lineno:{defaultValue:null,description:"",name:"lineno",required:!0,type:{name:"number | null"}},canned_response:{defaultValue:null,description:"",name:"canned_response",required:!0,type:{name:"ExternalCannedResponse | null"}},comment:{defaultValue:null,description:"",name:"comment",required:!0,type:{name:"string | null"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"{ id: number; name: string | null; url: string | null; username: string; }"}},version_id:{defaultValue:null,description:"",name:"version_id",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/comments.tsx#createInternalComment"]={docgenInfo:createInternalComment.__docgenInfo,name:"createInternalComment",path:"src/reducers/comments.tsx#createInternalComment"})}catch(__react_docgen_typescript_loader_error){}try{createCommentKey.displayName="createCommentKey",createCommentKey.__docgenInfo={description:"",displayName:"createCommentKey",props:{commentId:{defaultValue:null,description:"",name:"commentId",required:!0,type:{name:"number | undefined"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | null"}},line:{defaultValue:null,description:"",name:"line",required:!0,type:{name:"number | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/comments.tsx#createCommentKey"]={docgenInfo:createCommentKey.__docgenInfo,name:"createCommentKey",path:"src/reducers/comments.tsx#createCommentKey"})}catch(__react_docgen_typescript_loader_error){}try{selectCommentInfo.displayName="selectCommentInfo",selectCommentInfo.__docgenInfo={description:"",displayName:"selectCommentInfo",props:{comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"CommentsState"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},commentId:{defaultValue:null,description:"",name:"commentId",required:!0,type:{name:"number | undefined"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | null"}},line:{defaultValue:null,description:"",name:"line",required:!0,type:{name:"number | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/comments.tsx#selectCommentInfo"]={docgenInfo:selectCommentInfo.__docgenInfo,name:"selectCommentInfo",path:"src/reducers/comments.tsx#selectCommentInfo"})}catch(__react_docgen_typescript_loader_error){}try{selectComment.displayName="selectComment",selectComment.__docgenInfo={description:"",displayName:"selectComment",props:{comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"CommentsState"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/comments.tsx#selectComment"]={docgenInfo:selectComment.__docgenInfo,name:"selectComment",path:"src/reducers/comments.tsx#selectComment"})}catch(__react_docgen_typescript_loader_error){}try{selectVersionComments.displayName="selectVersionComments",selectVersionComments.__docgenInfo={description:"",displayName:"selectVersionComments",props:{comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"CommentsState"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/comments.tsx#selectVersionComments"]={docgenInfo:selectVersionComments.__docgenInfo,name:"selectVersionComments",path:"src/reducers/comments.tsx#selectVersionComments"})}catch(__react_docgen_typescript_loader_error){}try{selectVersionHasComments.displayName="selectVersionHasComments",selectVersionHasComments.__docgenInfo={description:"",displayName:"selectVersionHasComments",props:{_selectVersionComments:{defaultValue:{value:"({\n  comments,\n  versionId,\n}: {\n  comments: CommentsState;\n  versionId: number;\n}): Comment[] | undefined => {\n  if (comments.forVersionId !== versionId) {\n    return undefined;\n  }\n  return Object.keys(comments.byId).reduce((all: Comment[], id) => {\n    const comment = selectComment({ comments, id: parseInt(id, 10) });\n    if (comment) {\n      all.push(comment);\n    }\n    return all;\n  }, []);\n}"},description:"",name:"_selectVersionComments",required:!1,type:{name:"(({ comments, versionId, }: { comments: CommentsState; versionId: number; }) => Comment[])"}},comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"CommentsState"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/comments.tsx#selectVersionHasComments"]={docgenInfo:selectVersionHasComments.__docgenInfo,name:"selectVersionHasComments",path:"src/reducers/comments.tsx#selectVersionHasComments"})}catch(__react_docgen_typescript_loader_error){}try{selectFilePathHasComments.displayName="selectFilePathHasComments",selectFilePathHasComments.__docgenInfo={description:"",displayName:"selectFilePathHasComments",props:{comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"CommentsState"}},path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/comments.tsx#selectFilePathHasComments"]={docgenInfo:selectFilePathHasComments.__docgenInfo,name:"selectFilePathHasComments",path:"src/reducers/comments.tsx#selectFilePathHasComments"})}catch(__react_docgen_typescript_loader_error){}try{fetchAndLoadComments.displayName="fetchAndLoadComments",fetchAndLoadComments.__docgenInfo={description:"",displayName:"fetchAndLoadComments",props:{_getAllComments:{defaultValue:{value:"async ({\n  _fetchAllPages = fetchAllPages,\n  _getComments = getComments,\n  ...params\n}: {\n  _fetchAllPages?: typeof fetchAllPages;\n  _getComments?: typeof getComments;\n} & Omit<GetCommentsParams, 'endpointUrl'>) => {\n  return _fetchAllPages<GetCommentsResultsItem>((nextUrl) => {\n    return _getComments({ ...params, endpointUrl: nextUrl });\n  });\n}"},description:"",name:"_getAllComments",required:!1,type:{name:"(({ _fetchAllPages, _getComments, ...params }: { _fetchAllPages?: (<ResultsType>(getNextResponse: (nextUrl: string | null) => Promise<FetchAllPagesReturnType<ResultsType>>, { maxAllowedPages }?: { maxAllowedPages?: number; }) => Promise<...>); _getComments?: (({ _callApi, addonId, apiState, e..."}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/comments.tsx#fetchAndLoadComments"]={docgenInfo:fetchAndLoadComments.__docgenInfo,name:"fetchAndLoadComments",path:"src/reducers/comments.tsx#fetchAndLoadComments"})}catch(__react_docgen_typescript_loader_error){}try{deleteComment.displayName="deleteComment",deleteComment.__docgenInfo={description:"",displayName:"deleteComment",props:{_apiDeleteComment:{defaultValue:{value:"async ({\n  _callApi = callApi,\n  addonId,\n  commentId,\n  apiState,\n  versionId,\n}: {\n  _callApi?: typeof callApi;\n  addonId: number;\n  apiState: ApiState;\n  commentId: number;\n  versionId: number;\n}) => {\n  return _callApi<EmptyRequestAndResponse>({\n    apiState,\n    endpoint: `reviewers/addon/${addonId}/versions/${versionId}/draft_comments/${commentId}`,\n    method: HttpMethod.DELETE,\n  });\n}"},description:"",name:"_apiDeleteComment",required:!1,type:{name:'(({ _callApi, addonId, commentId, apiState, versionId, }: { _callApi?: (<T extends { requestData: Record<string, unknown>; successfulResponse: unknown; }>({ _makeQueryString, apiState, bodyData, endpoint, endpointUrl, includeCredentials, lang, method, query, version, }: CallApiParams<T["requestData"]>) =...'}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},commentId:{defaultValue:null,description:"",name:"commentId",required:!0,type:{name:"number"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/comments.tsx#deleteComment"]={docgenInfo:deleteComment.__docgenInfo,name:"deleteComment",path:"src/reducers/comments.tsx#deleteComment"})}catch(__react_docgen_typescript_loader_error){}try{manageComment.displayName="manageComment",manageComment.__docgenInfo={description:"",displayName:"manageComment",props:{_createOrUpdateComment:{defaultValue:{value:"async ({\n  /* istanbul ignore next */\n  _callApi = callApi,\n  addonId,\n  apiState,\n  cannedResponseId,\n  comment,\n  commentId,\n  fileName,\n  line,\n  versionId,\n}: {\n  _callApi?: typeof callApi;\n  addonId: number;\n  apiState: ApiState;\n  cannedResponseId?: number;\n  comment?: string;\n  commentId: number | undefined;\n  fileName: string | null;\n  line: number | null;\n  versionId: number;\n}) => {\n  if (cannedResponseId === undefined && comment === undefined) {\n    throw new Error('Either cannedResponseId or comment must be specified');\n  }\n  if (cannedResponseId !== undefined && comment !== undefined) {\n    throw new Error('cannedResponseId and comment cannot both be specified');\n  }\n\n  let endpoint = `reviewers/addon/${addonId}/versions/${versionId}/draft_comments`;\n  if (commentId) {\n    endpoint = `${endpoint}/${commentId}`;\n  }\n\n  return _callApi<{\n    requestData: CommentRequest;\n    successfulResponse: ExternalComment;\n  }>({\n    apiState,\n    bodyData: {\n      canned_response: cannedResponseId,\n      comment,\n      filename: fileName,\n      lineno: line,\n    },\n    endpoint,\n    method: commentId ? HttpMethod.PATCH : HttpMethod.POST,\n  });\n}"},description:"",name:"_createOrUpdateComment",required:!1,type:{name:"(({ _callApi, addonId, apiState, cannedResponseId, comment, commentId, fileName, line, versionId, }: { _callApi?: (<T extends { requestData: Record<string, unknown>; successfulResponse: unknown; }>({ _makeQueryString, apiState, bodyData, endpoint, endpointUrl, includeCredentials, lang, method, query, ver..."}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},cannedResponseId:{defaultValue:null,description:"",name:"cannedResponseId",required:!1,type:{name:"number"}},comment:{defaultValue:null,description:"",name:"comment",required:!1,type:{name:"string"}},commentId:{defaultValue:null,description:"",name:"commentId",required:!0,type:{name:"number | undefined"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | null"}},line:{defaultValue:null,description:"",name:"line",required:!0,type:{name:"number | null"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/comments.tsx#manageComment"]={docgenInfo:manageComment.__docgenInfo,name:"manageComment",path:"src/reducers/comments.tsx#manageComment"})}catch(__react_docgen_typescript_loader_error){}try{stateForVersion.displayName="stateForVersion",stateForVersion.__docgenInfo={description:"",displayName:"stateForVersion",props:{state:{defaultValue:null,description:"",name:"state",required:!0,type:{name:"CommentsState"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/comments.tsx#stateForVersion"]={docgenInfo:stateForVersion.__docgenInfo,name:"stateForVersion",path:"src/reducers/comments.tsx#stateForVersion"})}catch(__react_docgen_typescript_loader_error){}try{adjustComment.displayName="adjustComment",adjustComment.__docgenInfo={description:"",displayName:"adjustComment",props:{state:{defaultValue:null,description:"",name:"state",required:!0,type:{name:"CommentsState"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},props:{defaultValue:null,description:"",name:"props",required:!0,type:{name:"Partial<Comment>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/comments.tsx#adjustComment"]={docgenInfo:adjustComment.__docgenInfo,name:"adjustComment",path:"src/reducers/comments.tsx#adjustComment"})}catch(__react_docgen_typescript_loader_error){}try{findAllSubpaths.displayName="findAllSubpaths",findAllSubpaths.__docgenInfo={description:"",displayName:"findAllSubpaths",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/comments.tsx#findAllSubpaths"]={docgenInfo:findAllSubpaths.__docgenInfo,name:"findAllSubpaths",path:"src/reducers/comments.tsx#findAllSubpaths"})}catch(__react_docgen_typescript_loader_error){}},"./src/reducers/errors.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),typesafe_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.deprecated.createAction,initialState={errors:[],nextErrorId:1},actions={addError:createAction("ADD_ERROR",(function(resolve){return function(payload){return resolve(payload)}})),removeError:createAction("REMOVE_ERROR",(function(resolve){return function(payload){return resolve(payload)}}))};__webpack_exports__.b=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.addError):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{errors:state.errors.concat({id:state.nextErrorId,message:action.payload.error.message}),nextErrorId:state.nextErrorId+1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.removeError):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{errors:state.errors.filter((function(_ref){return _ref.id!==action.payload.id}))});default:return state}}},"./src/reducers/fileTree.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ROOT_PATH})),__webpack_require__.d(__webpack_exports__,"b",(function(){return RelativePathPosition})),__webpack_require__.d(__webpack_exports__,"e",(function(){return findRelativePathWithDiff})),__webpack_require__.d(__webpack_exports__,"c",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getTree}));var RelativePathPosition,_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),connected_react_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/connected-react-router/lib/index.js"),loglevel__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_6__),typesafe_actions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),_versions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/reducers/versions.tsx"),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/utils.tsx"),_linter__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/reducers/linter.tsx"),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_7__.deprecated.createAction,ROOT_PATH="~root~",recursiveSortInPlace=function recursiveSortInPlace(node){node.children.sort((function(a,b){return"children"in a&&"children"in b||"children"in a==!1&&"children"in b==!1?a.name.localeCompare(b.name):"children"in b==!1?-1:1})),node.children.forEach((function(child){"children"in child&&recursiveSortInPlace(child)}))},buildFileTreeNodes=function buildFileTreeNodes(version){for(var entries=version.entries,root={id:ROOT_PATH,name:Object(_versions__WEBPACK_IMPORTED_MODULE_8__.i)(version.addon.name),children:[]},maxDepth=entries.reduce((function(max,entry){return entry.depth>max?entry.depth:max}),0),currentDepth=0;currentDepth<=maxDepth;){entries.filter((function(entry){return entry.depth===currentDepth})).forEach((function(entry){var currentNode=root;currentDepth>0&&function(){var parts=entry.path.split("/");parts.pop();for(var _loop=function _loop(i){var foundNode=currentNode.children.find((function(child){return child.name===parts[i]}));if(!foundNode)throw new Error("Could not find parent of entry: ".concat(entry.path));currentNode=foundNode},i=0;i<parts.length;i++)_loop(i)}();var node={id:entry.path,name:entry.filename};"directory"===entry.type&&(node=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__.a)({},node),{},{children:[]})),currentNode.children.push(node)})),currentDepth++}return recursiveSortInPlace(root),root},buildTreePathList=function buildTreePathList(nodes){var treePathList=[];return function extractPaths(node){if("children"in node){var _step,_iterator=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_3__.a)(node.children);try{for(_iterator.s();!(_step=_iterator.n()).done;){extractPaths(_step.value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}else treePathList.push(node.id)}(nodes),treePathList},buildFileTree=function buildFileTree(version){var nodes=buildFileTreeNodes(version);return{nodes:nodes,pathList:buildTreePathList(nodes)}};!function(RelativePathPosition){RelativePathPosition[RelativePathPosition.next=0]="next",RelativePathPosition[RelativePathPosition.previous=1]="previous"}(RelativePathPosition||(RelativePathPosition={}));var getRelativePath=function getRelativePath(_ref){var currentPath=_ref.currentPath,pathList=_ref.pathList,position=_ref.position,currentIndex=pathList.indexOf(currentPath);if(currentIndex<0)throw new Error("Cannot find ".concat(currentPath," in pathList: ").concat(pathList));var newIndex=position===RelativePathPosition.previous?currentIndex-1:currentIndex+1;return newIndex<0?newIndex=pathList.length-1:newIndex>=pathList.length&&(newIndex=0),pathList[newIndex]},findRelativePathWithDiff=function findRelativePathWithDiff(_ref2){for(var currentPath=_ref2.currentPath,entryStatusMap=_ref2.entryStatusMap,pathList=_ref2.pathList,position=_ref2.position,version=_ref2.version,path=currentPath,maxAttempts=pathList.length,_loop2=function _loop2(attempt){var nextPath=getRelativePath({currentPath:path,pathList:pathList,position:position}),entry=version.entries.find((function(e){return e.path===nextPath}));if(!entry)throw new Error("Entry missing for path: ".concat(nextPath,", versionId: ").concat(version.id));if(void 0===entryStatusMap[entry.path])throw new Error("Entry status missing for path: ".concat(nextPath,", versionId: ").concat(version.id));if(""!==entryStatusMap[entry.path])return{v:nextPath};path=nextPath},attempt=1;attempt<=maxAttempts;attempt++){var _ret=_loop2();if("object"==typeof _ret)return _ret.v}throw new Error("findRelativePathWithDiff was unable to find a path with a diff using currentPath: ".concat(currentPath))},makeRelativeMessageInfo=function makeRelativeMessageInfo(_ref3){var message=_ref3.message,path=_ref3.path;return{line:message.line,path:path,uid:message.uid}},getRelativeMessage=function getRelativeMessage(_ref4){var currentMessageUid=_ref4.currentMessageUid,currentPath=_ref4.currentPath,messageMap=_ref4.messageMap,pathList=_ref4.pathList,position=_ref4.position;if(!Object.keys(messageMap.byPath).length)return null;var messages=messageMap.byPath[currentPath];if(messages){var newIndex,messagesForPath=Object(_linter__WEBPACK_IMPORTED_MODULE_10__.g)(messages);if(currentMessageUid){var currentMessageIndex=messagesForPath.findIndex((function(message){return message.uid===currentMessageUid}));newIndex=position===RelativePathPosition.previous?currentMessageIndex-1:currentMessageIndex+1}else newIndex=0;if(newIndex>=0&&newIndex<messagesForPath.length){var message=messagesForPath[newIndex];return makeRelativeMessageInfo({message:message,path:currentPath})}}return function findRelativeMessage(currentPath,messageMap,pathList,position){for(var path=currentPath,maxAttempts=pathList.length,attempt=1;attempt<=maxAttempts;attempt++){var nextPath=getRelativePath({currentPath:path,pathList:pathList,position:position}),messages=messageMap.byPath[nextPath];if(messages){var msgArray=Object(_linter__WEBPACK_IMPORTED_MODULE_10__.g)(messages),msgIndex=position===RelativePathPosition.previous?msgArray.length-1:0;if(msgArray[msgIndex]){var message=msgArray[msgIndex];return makeRelativeMessageInfo({message:message,path:nextPath})}}path=nextPath}throw new Error("findRelativeMessage was unable to find a message using currentPath: ".concat(currentPath))}(currentPath,messageMap,pathList,position)},goToRelativeFile=function goToRelativeFile(_ref5){var _ref5$_getRelativePat=_ref5._getRelativePath,_getRelativePath=void 0===_ref5$_getRelativePat?getRelativePath:_ref5$_getRelativePat,_ref5$_viewVersionFil=_ref5._viewVersionFile,_viewVersionFile=void 0===_ref5$_viewVersionFil?_versions__WEBPACK_IMPORTED_MODULE_8__.r:_ref5$_viewVersionFil,currentPath=_ref5.currentPath,pathList=_ref5.pathList,position=_ref5.position,versionId=_ref5.versionId;return function(){var _ref6=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(dispatch){var nextPath;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:nextPath=_getRelativePath({currentPath:currentPath,pathList:pathList,position:position}),dispatch(_viewVersionFile({selectedPath:nextPath,versionId:versionId}));case 2:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref6.apply(this,arguments)}}()},goToRelativeMessage=function goToRelativeMessage(_ref7){var _ref7$_getRelativeMes=_ref7._getRelativeMessage,_getRelativeMessage=void 0===_ref7$_getRelativeMes?getRelativeMessage:_ref7$_getRelativeMes,_ref7$_viewVersionFil=_ref7._viewVersionFile,_viewVersionFile=void 0===_ref7$_viewVersionFil?_versions__WEBPACK_IMPORTED_MODULE_8__.r:_ref7$_viewVersionFil,currentMessageUid=_ref7.currentMessageUid,currentPath=_ref7.currentPath,getCodeLineAnchor=_ref7.getCodeLineAnchor,messageMap=_ref7.messageMap,pathList=_ref7.pathList,position=_ref7.position,versionId=_ref7.versionId;return function(){var _ref8=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(dispatch,getState){var nextRelativeMessageInfo,_createAdjustedQueryS,line,path,uid,_getState,location,newLocation;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:(nextRelativeMessageInfo=_getRelativeMessage({currentMessageUid:currentMessageUid,currentPath:currentPath,messageMap:messageMap,pathList:pathList,position:position}))?(line=nextRelativeMessageInfo.line,path=nextRelativeMessageInfo.path,uid=nextRelativeMessageInfo.uid,_getState=getState(),location=_getState.router.location,newLocation=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__.a)({},location),{},{hash:getCodeLineAnchor(line||0),search:Object(_utils__WEBPACK_IMPORTED_MODULE_9__.g)(location,(_createAdjustedQueryS={},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(_createAdjustedQueryS,_utils__WEBPACK_IMPORTED_MODULE_9__.p,path),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(_createAdjustedQueryS,_utils__WEBPACK_IMPORTED_MODULE_9__.n,uid),_createAdjustedQueryS))}),dispatch(Object(connected_react_router__WEBPACK_IMPORTED_MODULE_5__.push)(newLocation)),currentPath!==path&&dispatch(_viewVersionFile({preserveHash:!0,selectedPath:path,versionId:versionId}))):loglevel__WEBPACK_IMPORTED_MODULE_6___default.a.warn("goToRelativeMessage did nothing because there are no messages to which to navigate");case 2:case"end":return _context2.stop()}}),_callee2)})));return function(_x2,_x3){return _ref8.apply(this,arguments)}}()},initialState={comparedToVersionId:null,forVersionId:void 0,tree:void 0},actions={buildTree:createAction("BUILD_TREE",(function(resolve){return function(payload){return resolve(payload)}}))},getTree=function getTree(treeState,versionId){if(treeState.forVersionId===versionId)return treeState.tree};__webpack_exports__.d=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_7__.getType)(actions.buildTree):var _action$payload=action.payload,comparedToVersionId=_action$payload.comparedToVersionId,version=_action$payload.version,tree=buildFileTree(version);return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__.a)({},state),{},{comparedToVersionId:comparedToVersionId,forVersionId:version.id,tree:tree});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_7__.getType)(_versions__WEBPACK_IMPORTED_MODULE_8__.b.loadVersionInfo):var forVersionId=state.forVersionId,_version=action.payload.version;return forVersionId===_version.id&&(forVersionId=void 0),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__.a)({},state),{},{forVersionId:forVersionId});default:return state}};try{buildFileTreeNodes.displayName="buildFileTreeNodes",buildFileTreeNodes.__docgenInfo={description:"",displayName:"buildFileTreeNodes",props:{addon:{defaultValue:null,description:"",name:"addon",required:!0,type:{name:"VersionAddon"}},initialPath:{defaultValue:null,description:"",name:"initialPath",required:!0,type:{name:"string"}},entries:{defaultValue:null,description:"",name:"entries",required:!0,type:{name:"VersionEntry[]"}},fileId:{defaultValue:null,description:"",name:"fileId",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},reviewed:{defaultValue:null,description:"",name:"reviewed",required:!0,type:{name:"string"}},versionString:{defaultValue:null,description:"",name:"versionString",required:!0,type:{name:"string"}},expandedPaths:{defaultValue:null,description:"",name:"expandedPaths",required:!0,type:{name:"string[]"}},selectedPath:{defaultValue:null,description:"",name:"selectedPath",required:!0,type:{name:"string"}},visibleSelectedPath:{defaultValue:null,description:"",name:"visibleSelectedPath",required:!0,type:{name:"string | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/fileTree.tsx#buildFileTreeNodes"]={docgenInfo:buildFileTreeNodes.__docgenInfo,name:"buildFileTreeNodes",path:"src/reducers/fileTree.tsx#buildFileTreeNodes"})}catch(__react_docgen_typescript_loader_error){}try{buildTreePathList.displayName="buildTreePathList",buildTreePathList.__docgenInfo={description:"",displayName:"buildTreePathList",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/fileTree.tsx#buildTreePathList"]={docgenInfo:buildTreePathList.__docgenInfo,name:"buildTreePathList",path:"src/reducers/fileTree.tsx#buildTreePathList"})}catch(__react_docgen_typescript_loader_error){}try{buildFileTree.displayName="buildFileTree",buildFileTree.__docgenInfo={description:"",displayName:"buildFileTree",props:{addon:{defaultValue:null,description:"",name:"addon",required:!0,type:{name:"VersionAddon"}},initialPath:{defaultValue:null,description:"",name:"initialPath",required:!0,type:{name:"string"}},entries:{defaultValue:null,description:"",name:"entries",required:!0,type:{name:"VersionEntry[]"}},fileId:{defaultValue:null,description:"",name:"fileId",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},reviewed:{defaultValue:null,description:"",name:"reviewed",required:!0,type:{name:"string"}},versionString:{defaultValue:null,description:"",name:"versionString",required:!0,type:{name:"string"}},expandedPaths:{defaultValue:null,description:"",name:"expandedPaths",required:!0,type:{name:"string[]"}},selectedPath:{defaultValue:null,description:"",name:"selectedPath",required:!0,type:{name:"string"}},visibleSelectedPath:{defaultValue:null,description:"",name:"visibleSelectedPath",required:!0,type:{name:"string | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/fileTree.tsx#buildFileTree"]={docgenInfo:buildFileTree.__docgenInfo,name:"buildFileTree",path:"src/reducers/fileTree.tsx#buildFileTree"})}catch(__react_docgen_typescript_loader_error){}try{getRelativePath.displayName="getRelativePath",getRelativePath.__docgenInfo={description:"",displayName:"getRelativePath",props:{currentPath:{defaultValue:null,description:"",name:"currentPath",required:!0,type:{name:"string"}},pathList:{defaultValue:null,description:"",name:"pathList",required:!0,type:{name:"string[]"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/fileTree.tsx#getRelativePath"]={docgenInfo:getRelativePath.__docgenInfo,name:"getRelativePath",path:"src/reducers/fileTree.tsx#getRelativePath"})}catch(__react_docgen_typescript_loader_error){}try{findRelativePathWithDiff.displayName="findRelativePathWithDiff",findRelativePathWithDiff.__docgenInfo={description:"",displayName:"findRelativePathWithDiff",props:{currentPath:{defaultValue:null,description:"",name:"currentPath",required:!0,type:{name:"string"}},entryStatusMap:{defaultValue:null,description:"",name:"entryStatusMap",required:!0,type:{name:"EntryStatusMap"}},pathList:{defaultValue:null,description:"",name:"pathList",required:!0,type:{name:"string[]"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"Version"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/fileTree.tsx#findRelativePathWithDiff"]={docgenInfo:findRelativePathWithDiff.__docgenInfo,name:"findRelativePathWithDiff",path:"src/reducers/fileTree.tsx#findRelativePathWithDiff"})}catch(__react_docgen_typescript_loader_error){}try{getRelativeMessage.displayName="getRelativeMessage",getRelativeMessage.__docgenInfo={description:"",displayName:"getRelativeMessage",props:{currentMessageUid:{defaultValue:null,description:"",name:"currentMessageUid",required:!0,type:{name:"string | undefined"}},currentPath:{defaultValue:null,description:"",name:"currentPath",required:!0,type:{name:"string"}},messageMap:{defaultValue:null,description:"",name:"messageMap",required:!0,type:{name:"LinterMessageMap"}},pathList:{defaultValue:null,description:"",name:"pathList",required:!0,type:{name:"string[]"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/fileTree.tsx#getRelativeMessage"]={docgenInfo:getRelativeMessage.__docgenInfo,name:"getRelativeMessage",path:"src/reducers/fileTree.tsx#getRelativeMessage"})}catch(__react_docgen_typescript_loader_error){}try{goToRelativeFile.displayName="goToRelativeFile",goToRelativeFile.__docgenInfo={description:"",displayName:"goToRelativeFile",props:{_getRelativePath:{defaultValue:{value:"({\n  currentPath,\n  pathList,\n  position,\n}: GetRelativePathParams): string => {\n  const currentIndex = pathList.indexOf(currentPath);\n  if (currentIndex < 0) {\n    throw new Error(`Cannot find ${currentPath} in pathList: ${pathList}`);\n  }\n  let newIndex =\n    position === RelativePathPosition.previous\n      ? currentIndex - 1\n      : currentIndex + 1;\n  if (newIndex < 0) {\n    // We are at the first file and the user selected 'previous', so go to the\n    // last file.\n    newIndex = pathList.length - 1;\n  } else if (newIndex >= pathList.length) {\n    // We are at the last file and the user selected 'next', so go to the\n    // first file.\n    newIndex = 0;\n  }\n\n  return pathList[newIndex];\n}"},description:"",name:"_getRelativePath",required:!1,type:{name:"(({ currentPath, pathList, position, }: GetRelativePathParams) => string)"}},_viewVersionFile:{defaultValue:{value:"({\n  preserveHash = false,\n  selectedPath,\n  scrollTo,\n  versionId,\n}: ViewVersionFileParams): ThunkActionCreator => {\n  return async (dispatch, getState) => {\n    const { router } = getState();\n\n    const newLocation = {\n      ...router.location,\n      search: createAdjustedQueryString(router.location, {\n        path: selectedPath,\n        scrollTo,\n      }),\n    };\n\n    // We do not want to preserve the hash when we select a new file for\n    // instance, but we want to keep it when we load a file via its path.\n    if (!preserveHash) {\n      newLocation.hash = '';\n    }\n\n    dispatch(actions.updateSelectedPath({ versionId, selectedPath }));\n    dispatch(push(newLocation));\n  };\n}"},description:"",name:"_viewVersionFile",required:!1,type:{name:"(({ preserveHash, selectedPath, scrollTo, versionId, }: ViewVersionFileParams) => ThunkActionCreator<void>)"}},currentPath:{defaultValue:null,description:"",name:"currentPath",required:!0,type:{name:"string"}},pathList:{defaultValue:null,description:"",name:"pathList",required:!0,type:{name:"string[]"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/fileTree.tsx#goToRelativeFile"]={docgenInfo:goToRelativeFile.__docgenInfo,name:"goToRelativeFile",path:"src/reducers/fileTree.tsx#goToRelativeFile"})}catch(__react_docgen_typescript_loader_error){}try{goToRelativeMessage.displayName="goToRelativeMessage",goToRelativeMessage.__docgenInfo={description:"",displayName:"goToRelativeMessage",props:{_getRelativeMessage:{defaultValue:{value:"({\n  currentMessageUid,\n  currentPath,\n  messageMap,\n  pathList,\n  position,\n}: GetRelativeMessageParams): RelativeMessageInfo | null => {\n  // TODO: support general messages\n  // https://github.com/mozilla/addons-code-manager/issues/878\n\n  if (!Object.keys(messageMap.byPath).length) {\n    // There are no messages at all.\n    return null;\n  }\n\n  const messages = messageMap.byPath[currentPath];\n  if (messages) {\n    const messagesForPath = getMessagesForPath(messages);\n\n    let newIndex;\n    if (!currentMessageUid) {\n      // Since we aren't looking for a message relative to an existing one,\n      // just get the first message.\n      newIndex = 0;\n    } else {\n      const currentMessageIndex = messagesForPath.findIndex(\n        (message) => message.uid === currentMessageUid,\n      );\n\n      newIndex =\n        position === RelativePathPosition.previous\n          ? currentMessageIndex - 1\n          : currentMessageIndex + 1;\n    }\n\n    if (newIndex >= 0 && newIndex < messagesForPath.length) {\n      const message = messagesForPath[newIndex];\n      return makeRelativeMessageInfo({ message, path: currentPath });\n    }\n  }\n  return findRelativeMessage(currentPath, messageMap, pathList, position);\n}"},description:"",name:"_getRelativeMessage",required:!1,type:{name:"(({ currentMessageUid, currentPath, messageMap, pathList, position, }: GetRelativeMessageParams) => RelativeMessageInfo | null)"}},_viewVersionFile:{defaultValue:{value:"({\n  preserveHash = false,\n  selectedPath,\n  scrollTo,\n  versionId,\n}: ViewVersionFileParams): ThunkActionCreator => {\n  return async (dispatch, getState) => {\n    const { router } = getState();\n\n    const newLocation = {\n      ...router.location,\n      search: createAdjustedQueryString(router.location, {\n        path: selectedPath,\n        scrollTo,\n      }),\n    };\n\n    // We do not want to preserve the hash when we select a new file for\n    // instance, but we want to keep it when we load a file via its path.\n    if (!preserveHash) {\n      newLocation.hash = '';\n    }\n\n    dispatch(actions.updateSelectedPath({ versionId, selectedPath }));\n    dispatch(push(newLocation));\n  };\n}"},description:"",name:"_viewVersionFile",required:!1,type:{name:"(({ preserveHash, selectedPath, scrollTo, versionId, }: ViewVersionFileParams) => ThunkActionCreator<void>)"}},currentMessageUid:{defaultValue:null,description:"",name:"currentMessageUid",required:!0,type:{name:"string | undefined"}},currentPath:{defaultValue:null,description:"",name:"currentPath",required:!0,type:{name:"string"}},getCodeLineAnchor:{defaultValue:null,description:"",name:"getCodeLineAnchor",required:!0,type:{name:"(line: number) => string"}},messageMap:{defaultValue:null,description:"",name:"messageMap",required:!0,type:{name:"LinterMessageMap"}},pathList:{defaultValue:null,description:"",name:"pathList",required:!0,type:{name:"string[]"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/fileTree.tsx#goToRelativeMessage"]={docgenInfo:goToRelativeMessage.__docgenInfo,name:"goToRelativeMessage",path:"src/reducers/fileTree.tsx#goToRelativeMessage"})}catch(__react_docgen_typescript_loader_error){}},"./src/reducers/fullscreenGrid.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),typesafe_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.deprecated.createAction,actions={toggleAltSidePanel:createAction("TOGGLE_ALT_SIDE_PANEL"),toggleMainSidePanel:createAction("TOGGLE_MAIN_SIDE_PANEL")},initialState={altSidePanelIsExpanded:!0,mainSidePanelIsExpanded:!0};__webpack_exports__.b=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.toggleAltSidePanel):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{altSidePanelIsExpanded:!state.altSidePanelIsExpanded});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.toggleMainSidePanel):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{mainSidePanelIsExpanded:!state.mainSidePanelIsExpanded});default:return state}}},"./src/reducers/linter.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return createInternalMessage})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getMessageMap})),__webpack_require__.d(__webpack_exports__,"e",(function(){return findMostSevereType})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getMessagesForPath})),__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"d",(function(){return fetchLinterMessagesIfNeeded})),__webpack_require__.d(__webpack_exports__,"h",(function(){return selectMessageMap}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),loglevel__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_4__),typesafe_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),_errors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/reducers/errors.tsx"),_api__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/api/index.tsx"),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.deprecated.createAction,createInternalMessage=function createInternalMessage(message){return{code:message.id,column:message.column,description:Array.isArray(message.description)?message.description:[message.description],file:message.file,line:message.line,message:message.message,type:message.type,uid:message.uid}},getMessageMap=function getMessageMap(result){var msgMap={byPath:{},general:[]};return result.validation.messages.forEach((function(message){var internalMessage=createInternalMessage(message);if(message.file){msgMap.byPath[message.file]||(msgMap.byPath[message.file]={global:[],byLine:{}});var map=msgMap.byPath[message.file];message.line?(map.byLine[message.line]||(map.byLine[message.line]=[]),map.byLine[message.line].push(internalMessage)):map.global.push(internalMessage)}else msgMap.general.push(internalMessage)})),msgMap},findMostSevereType=function findMostSevereType(messages){if(!messages.length)throw new Error('"messages" cannot be empty');for(var allTypes=messages.map((function(msg){return msg.type})),_i=0,_orderedTypes=["error","warning","notice"];_i<_orderedTypes.length;_i++){var type=_orderedTypes[_i];if(allTypes.includes(type))return type}throw new Error("Linter messages all have unknown types: ".concat(allTypes.join(", ")))},getMessagesForPath=function getMessagesForPath(messages){var allowedKeys=["global","byLine"];Object.keys(messages).forEach((function(key){if(!allowedKeys.includes(key))throw new Error('Unexpected key "'.concat(key,'" found.'))}));var allMessages=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.a)(messages.global);return Object.keys(messages.byLine).forEach((function(key){allMessages.push.apply(allMessages,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.a)(messages.byLine[parseInt(key,10)]))})),allMessages},initialState={forVersionId:void 0,isLoading:!1,messageMap:void 0},actions={abortFetchLinterResult:createAction("ABORT_FETCH_LINTER_RESULT",(function(resolve){return function(payload){return resolve(payload)}})),beginFetchLinterResult:createAction("BEGIN_FETCH_LINTER_RESULT",(function(resolve){return function(payload){return resolve(payload)}})),loadLinterResult:createAction("LOAD_LINTER_RESULT",(function(resolve){return function(payload){return resolve(payload)}}))},fetchLinterMessagesIfNeeded=function fetchLinterMessagesIfNeeded(_ref){var _ref$_getValidation=_ref._getValidation,_getValidation=void 0===_ref$_getValidation?_api__WEBPACK_IMPORTED_MODULE_7__.g:_ref$_getValidation,version=_ref.version;return function(){var _ref2=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(dispatch,getState){var _getState,apiState,linter,versionId,response;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_getState=getState(),apiState=_getState.api,linter=_getState.linter,versionId=version.id,!linter.isLoading||linter.forVersionId!==version.id){_context.next=5;break}return loglevel__WEBPACK_IMPORTED_MODULE_4___default.a.debug("Aborting because linter messages are already being fetched"),_context.abrupt("return");case 5:return dispatch(actions.beginFetchLinterResult({versionId:versionId})),_context.next=8,_getValidation({apiState:apiState,addonId:version.addon.id,fileId:version.fileId});case 8:response=_context.sent,Object(_api__WEBPACK_IMPORTED_MODULE_7__.k)(response)&&(dispatch(actions.abortFetchLinterResult({versionId:versionId})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_6__.a.addError({error:response.error}))),dispatch(actions.loadLinterResult({versionId:versionId,result:response}));case 11:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref2.apply(this,arguments)}}()},selectMessageMap=function selectMessageMap(linterState,versionId){if(linterState.forVersionId===versionId)return linterState.messageMap};__webpack_exports__.c=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.beginFetchLinterResult):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{forVersionId:action.payload.versionId,messageMap:void 0,isLoading:!0});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.abortFetchLinterResult):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{forVersionId:action.payload.versionId,messageMap:{byPath:{},general:[]},isLoading:!1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.loadLinterResult):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{forVersionId:action.payload.versionId,messageMap:getMessageMap(action.payload.result),isLoading:!1});default:return state}};try{createInternalMessage.displayName="createInternalMessage",createInternalMessage.__docgenInfo={description:"",displayName:"createInternalMessage",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"number | null"}},file:{defaultValue:null,description:"",name:"file",required:!0,type:{name:"string | null"}},line:{defaultValue:null,description:"",name:"line",required:!0,type:{name:"number | null"}},message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"notice"'},{value:'"error"'},{value:'"warning"'}]}},uid:{defaultValue:null,description:"",name:"uid",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string | string[]"}},context:{defaultValue:null,description:"",name:"context",required:!0,type:{name:"string[]"}},for_appversions:{defaultValue:null,description:"",name:"for_appversions",required:!0,type:{name:"Record<string, unknown>"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string[]"}},tier:{defaultValue:null,description:"",name:"tier",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/linter.tsx#createInternalMessage"]={docgenInfo:createInternalMessage.__docgenInfo,name:"createInternalMessage",path:"src/reducers/linter.tsx#createInternalMessage"})}catch(__react_docgen_typescript_loader_error){}try{getMessageMap.displayName="getMessageMap",getMessageMap.__docgenInfo={description:"",displayName:"getMessageMap",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"string | null"}},full_report_url:{defaultValue:null,description:"",name:"full_report_url",required:!0,type:{name:"string"}},upload:{defaultValue:null,description:"",name:"upload",required:!0,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},validation:{defaultValue:null,description:"",name:"validation",required:!0,type:{name:"{ detected_type: string; ending_tier: number; errors: number; message_tree: Record<string, unknown>; messages: ExternalLinterMessage[]; metadata: Record<string, unknown>; notices: number; success: boolean; warnings: number; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/linter.tsx#getMessageMap"]={docgenInfo:getMessageMap.__docgenInfo,name:"getMessageMap",path:"src/reducers/linter.tsx#getMessageMap"})}catch(__react_docgen_typescript_loader_error){}try{findMostSevereType.displayName="findMostSevereType",findMostSevereType.__docgenInfo={description:"",displayName:"findMostSevereType",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/linter.tsx#findMostSevereType"]={docgenInfo:findMostSevereType.__docgenInfo,name:"findMostSevereType",path:"src/reducers/linter.tsx#findMostSevereType"})}catch(__react_docgen_typescript_loader_error){}try{getMessagesForPath.displayName="getMessagesForPath",getMessagesForPath.__docgenInfo={description:"",displayName:"getMessagesForPath",props:{global:{defaultValue:null,description:"",name:"global",required:!0,type:{name:"LinterMessage[]"}},byLine:{defaultValue:null,description:"",name:"byLine",required:!0,type:{name:"LinterMessagesByLine"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/linter.tsx#getMessagesForPath"]={docgenInfo:getMessagesForPath.__docgenInfo,name:"getMessagesForPath",path:"src/reducers/linter.tsx#getMessagesForPath"})}catch(__react_docgen_typescript_loader_error){}try{fetchLinterMessagesIfNeeded.displayName="fetchLinterMessagesIfNeeded",fetchLinterMessagesIfNeeded.__docgenInfo={description:"",displayName:"fetchLinterMessagesIfNeeded",props:{_getValidation:{defaultValue:{value:"async ({\n  addonId,\n  apiState,\n  fileId,\n}: GetValidationParams) => {\n  return callApi<ResponseOnly<ExternalLinterResult>>({\n    apiState,\n    endpoint: `reviewers/addon/${addonId}/file/${fileId}/validation/`,\n  });\n}"},description:"",name:"_getValidation",required:!1,type:{name:"(({ addonId, apiState, fileId, }: GetValidationParams) => Promise<CallApiResponse<ExternalLinterResult>>)"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"Version"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/linter.tsx#fetchLinterMessagesIfNeeded"]={docgenInfo:fetchLinterMessagesIfNeeded.__docgenInfo,name:"fetchLinterMessagesIfNeeded",path:"src/reducers/linter.tsx#fetchLinterMessagesIfNeeded"})}catch(__react_docgen_typescript_loader_error){}},"./src/reducers/popover.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"c",(function(){return selectPopoverIsVisible}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),typesafe_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.deprecated.createAction,initialState={current:void 0},actions={hide:createAction("HIDE_POPOVER",(function(resolve){return function(payload){return resolve(payload)}})),show:createAction("SHOW_POPOVER",(function(resolve){return function(payload){return resolve(payload)}}))},selectPopoverIsVisible=function selectPopoverIsVisible(_ref){var id=_ref.id;return _ref.popover.current===id};__webpack_exports__.b=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.hide):var current=state.current;return current===action.payload&&(current=void 0),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{current:current});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.show):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{current:action.payload});default:return state}};try{selectPopoverIsVisible.displayName="selectPopoverIsVisible",selectPopoverIsVisible.__docgenInfo={description:"",displayName:"selectPopoverIsVisible",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"enum",value:[{value:'"COMMENTS_SUMMARY"'},{value:'"COMPARE_VERSIONS"'}]}},popover:{defaultValue:null,description:"",name:"popover",required:!0,type:{name:"PopoverState"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/popover.tsx#selectPopoverIsVisible"]={docgenInfo:selectPopoverIsVisible.__docgenInfo,name:"selectPopoverIsVisible",path:"src/reducers/popover.tsx#selectPopoverIsVisible"})}catch(__react_docgen_typescript_loader_error){}},"./src/reducers/users.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"d",(function(){return requestLogOut})),__webpack_require__.d(__webpack_exports__,"e",(function(){return selectCurrentUser})),__webpack_require__.d(__webpack_exports__,"b",(function(){return currentUserIsLoading}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),typesafe_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),_api__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/api/index.tsx"),_errors__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/reducers/errors.tsx"),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_3__.deprecated.createAction,actions={abortFetchCurrentUser:createAction("ABORT_FETCH_CURRENT_USER"),beginFetchCurrentUser:createAction("BEGIN_FETCH_CURRENT_USER"),loadCurrentUser:createAction("LOAD_CURRENT_USER",(function(resolve){return function(payload){return resolve(payload)}})),logOut:createAction("LOG_OUT")},requestLogOut=function requestLogOut(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$_logOutFromServe=_ref._logOutFromServer,_logOutFromServer=void 0===_ref$_logOutFromServe?_api__WEBPACK_IMPORTED_MODULE_4__.l:_ref$_logOutFromServe;return function(){var _ref2=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(dispatch,getState){return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_logOutFromServer(getState().api);case 2:dispatch(actions.logOut());case 3:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref2.apply(this,arguments)}}()},initialState={currentUser:null},createInternalUser=function createInternalUser(user){return{email:user.email,id:user.id,name:user.name,permissions:user.permissions}},selectCurrentUser=function selectCurrentUser(users){return users.currentUser||null},currentUserIsLoading=function currentUserIsLoading(users){return void 0===users.currentUser},fetchCurrentUser=function fetchCurrentUser(){var _ref3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref3$_getCurrentUser=_ref3._getCurrentUser,_getCurrentUser=void 0===_ref3$_getCurrentUser?_api__WEBPACK_IMPORTED_MODULE_4__.d:_ref3$_getCurrentUser;return function(){var _ref4=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(dispatch,getState){var _getState,apiState,response;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _getState=getState(),apiState=_getState.api,dispatch(actions.beginFetchCurrentUser()),_context2.next=4,_getCurrentUser(apiState);case 4:response=_context2.sent,Object(_api__WEBPACK_IMPORTED_MODULE_4__.k)(response)?(dispatch(_errors__WEBPACK_IMPORTED_MODULE_5__.a.addError({error:response.error})),dispatch(actions.abortFetchCurrentUser())):dispatch(actions.loadCurrentUser({user:response}));case 6:case"end":return _context2.stop()}}),_callee2)})));return function(_x3,_x4){return _ref4.apply(this,arguments)}}()};__webpack_exports__.c=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_3__.getType)(actions.beginFetchCurrentUser):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{currentUser:void 0});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_3__.getType)(actions.abortFetchCurrentUser):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{currentUser:initialState.currentUser});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_3__.getType)(actions.loadCurrentUser):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{currentUser:createInternalUser(action.payload.user)});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_3__.getType)(actions.logOut):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{currentUser:null});default:return state}};try{requestLogOut.displayName="requestLogOut",requestLogOut.__docgenInfo={description:"",displayName:"requestLogOut",props:{_logOutFromServer:{defaultValue:{value:"async (apiState: ApiState) => {\n  return callApi<ResponseOnly<{ ok: boolean }>>({\n    apiState,\n    // We need to send the credentials (cookies) because the API will return\n    // new `Set-Cookie` headers to clear the cookies in the client. Without\n    // this, logging out would not be possible.\n    includeCredentials: true,\n    endpoint: 'accounts/session',\n    method: HttpMethod.DELETE,\n  });\n}"},description:"",name:"_logOutFromServer",required:!1,type:{name:"((apiState: ApiState) => Promise<CallApiResponse<{ ok: boolean; }>>)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/users.tsx#requestLogOut"]={docgenInfo:requestLogOut.__docgenInfo,name:"requestLogOut",path:"src/reducers/users.tsx#requestLogOut"})}catch(__react_docgen_typescript_loader_error){}try{createInternalUser.displayName="createInternalUser",createInternalUser.__docgenInfo={description:"",displayName:"createInternalUser",props:{average_addon_rating:{defaultValue:null,description:"",name:"average_addon_rating",required:!0,type:{name:"number"}},biography:{defaultValue:null,description:"",name:"biography",required:!0,type:{name:"string | null"}},created:{defaultValue:null,description:"",name:"created",required:!0,type:{name:"string"}},has_anonymous_display_name:{defaultValue:null,description:"",name:"has_anonymous_display_name",required:!0,type:{name:"boolean"}},has_anonymous_username:{defaultValue:null,description:"",name:"has_anonymous_username",required:!0,type:{name:"boolean"}},homepage:{defaultValue:null,description:"",name:"homepage",required:!0,type:{name:"string | null"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},is_addon_developer:{defaultValue:null,description:"",name:"is_addon_developer",required:!0,type:{name:"boolean"}},is_artist:{defaultValue:null,description:"",name:"is_artist",required:!0,type:{name:"boolean"}},location:{defaultValue:null,description:"",name:"location",required:!0,type:{name:"string | null"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},num_addons_listed:{defaultValue:null,description:"",name:"num_addons_listed",required:!0,type:{name:"number"}},occupation:{defaultValue:null,description:"",name:"occupation",required:!0,type:{name:"string | null"}},picture_type:{defaultValue:null,description:"",name:"picture_type",required:!0,type:{name:"string | null"}},picture_url:{defaultValue:null,description:"",name:"picture_url",required:!0,type:{name:"string | null"}},username:{defaultValue:null,description:"",name:"username",required:!0,type:{name:"string"}},deleted:{defaultValue:null,description:"",name:"deleted",required:!1,type:{name:"boolean"}},display_name:{defaultValue:null,description:"",name:"display_name",required:!0,type:{name:"string | null"}},email:{defaultValue:null,description:"",name:"email",required:!1,type:{name:"string"}},fxa_edit_email_url:{defaultValue:null,description:"",name:"fxa_edit_email_url",required:!1,type:{name:"string"}},is_verified:{defaultValue:null,description:"",name:"is_verified",required:!1,type:{name:"boolean"}},last_login:{defaultValue:null,description:"",name:"last_login",required:!1,type:{name:"string"}},last_login_ip:{defaultValue:null,description:"",name:"last_login_ip",required:!1,type:{name:"string"}},permissions:{defaultValue:null,description:"",name:"permissions",required:!1,type:{name:"string[]"}},read_dev_agreement:{defaultValue:null,description:"",name:"read_dev_agreement",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/users.tsx#createInternalUser"]={docgenInfo:createInternalUser.__docgenInfo,name:"createInternalUser",path:"src/reducers/users.tsx#createInternalUser"})}catch(__react_docgen_typescript_loader_error){}try{selectCurrentUser.displayName="selectCurrentUser",selectCurrentUser.__docgenInfo={description:"",displayName:"selectCurrentUser",props:{currentUser:{defaultValue:null,description:"",name:"currentUser",required:!0,type:{name:"User | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/users.tsx#selectCurrentUser"]={docgenInfo:selectCurrentUser.__docgenInfo,name:"selectCurrentUser",path:"src/reducers/users.tsx#selectCurrentUser"})}catch(__react_docgen_typescript_loader_error){}try{currentUserIsLoading.displayName="currentUserIsLoading",currentUserIsLoading.__docgenInfo={description:"",displayName:"currentUserIsLoading",props:{currentUser:{defaultValue:null,description:"",name:"currentUser",required:!0,type:{name:"User | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/users.tsx#currentUserIsLoading"]={docgenInfo:currentUserIsLoading.__docgenInfo,name:"currentUserIsLoading",path:"src/reducers/users.tsx#currentUserIsLoading"})}catch(__react_docgen_typescript_loader_error){}try{fetchCurrentUser.displayName="fetchCurrentUser",fetchCurrentUser.__docgenInfo={description:"",displayName:"fetchCurrentUser",props:{_getCurrentUser:{defaultValue:{value:"async (apiState: ApiState) => {\n  return callApi<ResponseOnly<ExternalUser>>({\n    apiState,\n    endpoint: '/accounts/profile/',\n  });\n}"},description:"",name:"_getCurrentUser",required:!1,type:{name:"((apiState: ApiState) => Promise<CallApiResponse<ExternalUser>>)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/users.tsx#fetchCurrentUser"]={docgenInfo:fetchCurrentUser.__docgenInfo,name:"fetchCurrentUser",path:"src/reducers/users.tsx#fetchCurrentUser"})}catch(__react_docgen_typescript_loader_error){}},"./src/reducers/versions.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ScrollTarget})),__webpack_require__.d(__webpack_exports__,"c",(function(){return changeTypes})),__webpack_require__.d(__webpack_exports__,"p",(function(){return isFileWithDiff})),__webpack_require__.d(__webpack_exports__,"b",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"d",(function(){return createEntryStatusMap})),__webpack_require__.d(__webpack_exports__,"e",(function(){return createInternalVersion})),__webpack_require__.d(__webpack_exports__,"o",(function(){return getVersionInfo})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getEntryStatusMap})),__webpack_require__.d(__webpack_exports__,"q",(function(){return selectCurrentVersionInfo})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getMostRelevantEntryStatus})),__webpack_require__.d(__webpack_exports__,"n",(function(){return getVersionFile})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getDiffAnchors})),__webpack_require__.d(__webpack_exports__,"m",(function(){return getRelativeDiffAnchor})),__webpack_require__.d(__webpack_exports__,"g",(function(){return fetchVersion})),__webpack_require__.d(__webpack_exports__,"h",(function(){return fetchVersionsList})),__webpack_require__.d(__webpack_exports__,"r",(function(){return viewVersionFile})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getAddonName}));var ScrollTarget,_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),typesafe_actions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),loglevel__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_7__),react_diff_view__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-diff-view/es/index.js"),connected_react_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/connected-react-router/lib/index.js"),_api__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/api/index.tsx"),_utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/utils.tsx"),_errors__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/reducers/errors.tsx"),_fileTree__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/reducers/fileTree.tsx"),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.deprecated.createAction;!function(ScrollTarget){ScrollTarget.firstDiff="firstDiff",ScrollTarget.lastDiff="lastDiff"}(ScrollTarget||(ScrollTarget={}));var changeTypes=Object.freeze({delete:"delete",deleteEofnl:"delete-eofnl",insert:"insert",insertEofnl:"insert-eofnl",normal:"normal",normalEofnl:"normal-eofnl"});function isFileWithContent(file){return void 0!==file.content}function isFileWithDiff(file){return void 0!==file.diff}var actions={loadVersionFileFromVersion:createAction("LOAD_VERSION_FILE_FROM_VERSION",(function(resolve){return function(payload){return resolve(payload)}})),loadDiffFileFromVersion:createAction("LOAD_DIFF_FILE_FROM_VERSION",(function(resolve){return function(payload){return resolve(payload)}})),loadVersionFile:createAction("LOAD_VERSION_FILE",(function(resolve){return function(payload){return resolve(payload)}})),loadVersionInfo:createAction("LOAD_VERSION_INFO",(function(resolve){return function(payload){return resolve(payload)}})),loadEntryStatusMap:createAction("LOAD_ENTRY_STATUS_MAP",(function(resolve){return function(payload){return resolve(payload)}})),updateSelectedPath:createAction("UPDATE_SELECTED_PATH",(function(resolve){return function(payload){return resolve(payload)}})),setCurrentBaseVersionId:createAction("SET_CURRENT_BASE_VERSION_ID",(function(resolve){return function(payload){return resolve(payload)}})),setCurrentVersionId:createAction("SET_CURRENT_VERSION_ID",(function(resolve){return function(payload){return resolve(payload)}})),unsetCurrentBaseVersionId:createAction("UNSET_CURRENT_BASE_VERSION_ID"),unsetCurrentVersionId:createAction("UNSET_CURRENT_VERSION_ID",(function(resolve){return function(){return resolve()}})),setVisibleSelectedPath:createAction("SET_VISIBLE_SELECTED_PATH",(function(resolve){return function(payload){return resolve(payload)}})),toggleExpandedPath:createAction("TOGGLE_EXPANDED_PATH",(function(resolve){return function(payload){return resolve(payload)}})),expandTree:createAction("EXPAND_TREE",(function(resolve){return function(payload){return resolve(payload)}})),collapseTree:createAction("COLLAPSE_TREE",(function(resolve){return function(payload){return resolve(payload)}})),loadVersionsList:createAction("LOAD_VERSIONS_LIST",(function(resolve){return function(payload){return resolve(payload)}})),beginFetchVersionWithDiff:createAction("BEGIN_FETCH_VERSION_WITH_DIFF",(function(resolve){return function(payload){return resolve(payload)}})),beginFetchDiffFile:createAction("BEGIN_FETCH_DIFF_FILE",(function(resolve){return function(payload){return resolve(payload)}})),beginFetchVersionFile:createAction("BEGIN_FETCH_VERSION_FILE",(function(resolve){return function(payload){return resolve(payload)}})),abortFetchVersionWithDiff:createAction("ABORT_FETCH_VERSION_WITH_DIFF",(function(resolve){return function(payload){return resolve(payload)}})),abortFetchDiffFile:createAction("ABORT_FETCH_DIFF_FILE",(function(resolve){return function(payload){return resolve(payload)}})),abortFetchVersionFile:createAction("ABORT_FETCH_VERSION_FILE",(function(resolve){return function(payload){return resolve(payload)}})),loadDiffFile:createAction("LOAD_DIFF_FILE",(function(resolve){return function(payload){return resolve(payload)}})),beginFetchVersion:createAction("BEGIN_FETCH_VERSION",(function(resolve){return function(payload){return resolve(payload)}})),abortFetchVersion:createAction("ABORT_FETCH_VERSION",(function(resolve){return function(payload){return resolve(payload)}})),setPendingBaseVersionId:createAction("SET_PENDING_BASE_VERSION_ID",(function(resolve){return function(payload){return resolve(payload)}})),setPendingHeadVersionId:createAction("SET_PENDING_HEAD_VERSION_ID",(function(resolve){return function(payload){return resolve(payload)}}))},initialState={byAddonId:{},currentBaseVersionId:void 0,currentVersionId:void 0,entryStatusMaps:{},expandedPaths:void 0,pendingBaseVersionId:void 0,pendingHeadVersionId:void 0,selectedPath:null,visibleSelectedPath:null,versionDiffs:{},versionDiffsLoading:{},versionFiles:{},versionFilesLoading:{},versionInfo:{},versionInfoLoading:{}},getParentFolders=function getParentFolders(path){for(var parents=[_fileTree__WEBPACK_IMPORTED_MODULE_13__.a],folders=path.split("/");folders.length>1;)folders.pop(),parents.push(folders.join("/"));return parents};var createInternalChangeInfo=function createInternalChangeInfo(change){return{content:change.content,isDelete:"delete"===change.type,isInsert:"insert"===change.type,isNormal:"normal"===change.type,lineNumber:["delete","delete-eofnl"].includes(change.type)?change.old_line_number:change.new_line_number,newLineNumber:change.new_line_number,oldLineNumber:change.old_line_number,type:change.type}},createInternalHunk=function createInternalHunk(hunk){return{changes:hunk.changes.map(createInternalChangeInfo),content:hunk.header,isPlain:!1,newLines:hunk.new_lines,newStart:hunk.new_start,oldLines:hunk.old_lines,oldStart:hunk.old_start}},createInternalDiff=function createInternalDiff(diff){var GIT_STATUS_TO_TYPE={A:"add",C:"copy",D:"delete",M:"modify",R:"rename"};return diff?{hunks:diff.hunks.map(createInternalHunk),type:GIT_STATUS_TO_TYPE[diff.mode]||GIT_STATUS_TO_TYPE.M,newEndingNewLine:diff.new_ending_new_line,oldEndingNewLine:diff.old_ending_new_line,newMode:diff.mode,oldMode:diff.mode,newPath:diff.path,oldPath:diff.old_path}:null},createInternalVersionFile=function createInternalVersionFile(file){var partialInternalFile={downloadURL:file.download_url,filename:file.filename,id:file.id,isMinified:file.uses_unknown_minified_code,mimeType:file.mimetype,sha256:file.sha256,size:file.size,fileType:file.mime_category};if(function isExternalFileWithContent(file){return void 0!==file.content}(file))return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},partialInternalFile),{},{content:file.content});if(function isExternalFileWithDiff(file){return void 0!==file.diff}(file))return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},partialInternalFile),{},{diff:createInternalDiff(file.diff)});throw new Error("An invalid type was passed to createInternalVersionFile.")},createInternalVersionEntry=function createInternalVersionEntry(entry){return{depth:entry.depth,filename:entry.filename,path:entry.path,type:entry.mime_category}},getEntryStatusMapKey=function getEntryStatusMapKey(_ref){var versionId=_ref.versionId,comparedToVersionId=_ref.comparedToVersionId;return"versionId=".concat(versionId,";comparedToVersionId=").concat(comparedToVersionId)},createEntryStatusMap=function createEntryStatusMap(version){for(var file_entries=version.file_entries,entryStatusMap={},_i=0,_Object$keys=Object.keys(file_entries);_i<_Object$keys.length;_i++){var _nodeName=_Object$keys[_i];entryStatusMap[_nodeName]=file_entries[_nodeName].status}return entryStatusMap},createInternalVersionAddon=function createInternalVersionAddon(addon){return{iconUrl:addon.icon_url,id:addon.id,name:addon.name,slug:addon.slug}},createInternalVersion=function createInternalVersion(version){return{addon:createInternalVersionAddon(version.addon),initialPath:version.file.selected_file,entries:Object.keys(version.file_entries).map((function(nodeName){return createInternalVersionEntry(version.file_entries[nodeName])})),expandedPaths:getParentFolders(version.file.selected_file),fileId:version.file.id,id:version.id,reviewed:version.reviewed,selectedPath:version.file.selected_file,versionString:version.version,visibleSelectedPath:null}},getVersionInfo=function getVersionInfo(versions,versionId){return versions.versionInfo[versionId]},createVersionPathChecker=function createVersionPathChecker(version){var paths=new Set(version.entries.map((function(e){return e.path})));return function(path){return paths.has(path)}},getPrunedExpandedPaths=function getPrunedExpandedPaths(expandedPaths,version){var doesPathExist=createVersionPathChecker(version);return expandedPaths.filter(doesPathExist)},versionPathExists=function versionPathExists(path,version){return createVersionPathChecker(version)(path)},getEntryStatusMap=function getEntryStatusMap(_ref2){var versions=_ref2.versions,versionId=_ref2.versionId,comparedToVersionId=_ref2.comparedToVersionId;return versions.entryStatusMaps[getEntryStatusMapKey({versionId:versionId,comparedToVersionId:comparedToVersionId})]},selectCurrentVersionInfo=function selectCurrentVersionInfo(versions){return versions.currentVersionId?getVersionInfo(versions,versions.currentVersionId):void 0===versions.currentVersionId&&void 0},selectVersionIsLoading=function selectVersionIsLoading(versions,versionId){return versions.versionInfoLoading[versionId]||!1},getMostRelevantEntryStatus=function getMostRelevantEntryStatus(_ref3){for(var version=_ref3.version,entryStatusMap=_ref3.entryStatusMap,path=_ref3.path,statuses=version.entries.filter((function(e){return e.path.startsWith(path)})).map((function(e){return entryStatusMap[e.path]})),_i2=0,_priorities=["A","M","D"];_i2<_priorities.length;_i2++){var p=_priorities[_i2];if(statuses.includes(p))return p}return statuses.length?statuses[0]:void 0},getVersionFile=function getVersionFile(versions,versionId,path){var version=getVersionInfo(versions,versionId),filesForVersion=function getVersionFiles(versions,versionId){return versions.versionFiles[versionId]}(versions,versionId);if(version&&filesForVersion){var file=filesForVersion[path];if(null===file)return null;if(file)return file}},getDiffKey=function getDiffKey(_ref4){return[_ref4.addonId,_ref4.baseVersionId,_ref4.headVersionId].join("/")},getVersionDiff=function getVersionDiff(_ref5){var versions=_ref5.versions,addonId=_ref5.addonId,baseVersionId=_ref5.baseVersionId,headVersionId=_ref5.headVersionId,path=_ref5.path,diffsForVersion=function getVersionDiffs(versions,diffKey){return versions.versionDiffs[diffKey]}(versions,getDiffKey({addonId:addonId,baseVersionId:baseVersionId,headVersionId:headVersionId}));if(diffsForVersion){var diffFile=diffsForVersion[path];if(null===diffFile)return null;if(diffFile)return diffFile}},isFileLoading=function isFileLoading(versions,versionId,path){return versions.versionFilesLoading[versionId]&&versions.versionFilesLoading[versionId][path]||!1},isDiffLoading=function isDiffLoading(versions,addonId,baseVersionId,headVersionId,path){var diffKey=getDiffKey({addonId:addonId,baseVersionId:baseVersionId,headVersionId:headVersionId});return versions.versionDiffsLoading[diffKey]&&versions.versionDiffsLoading[diffKey][path||""]||!1},getDiffAnchors=function getDiffAnchors(diff){var _step,anchors=[],_iterator=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__.a)(diff.hunks);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,hunk=_step.value,seekingChange=!0,_iterator2=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__.a)(hunk.changes);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var change=_step2.value;"normal"===change.type?seekingChange=!0:seekingChange&&(anchors.push(Object(react_diff_view__WEBPACK_IMPORTED_MODULE_8__.d)(change)),seekingChange=!1)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return anchors},getInsertedLines=function getInsertedLines(diff){var _step3,insertedLines=[],_iterator3=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__.a)(diff.hunks);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _step4,hunk=_step3.value,_iterator4=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__.a)(hunk.changes);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var change=_step4.value,lineNumber=change.lineNumber;"insert"===change.type&&lineNumber&&!insertedLines.includes(lineNumber)&&insertedLines.push(lineNumber)}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return insertedLines},getRelativeDiffAnchor=function getRelativeDiffAnchor(_ref6){var _ref6$currentAnchor=_ref6.currentAnchor,currentAnchor=void 0===_ref6$currentAnchor?"":_ref6$currentAnchor,diff=_ref6.diff,_ref6$position=_ref6.position,position=void 0===_ref6$position?_fileTree__WEBPACK_IMPORTED_MODULE_13__.b.next:_ref6$position,anchors=getDiffAnchors(diff);if(anchors.length){if(!currentAnchor)return anchors[0];var currentIndex=anchors.indexOf(currentAnchor);if(currentIndex>=0){var newIndex=position===_fileTree__WEBPACK_IMPORTED_MODULE_13__.b.previous?currentIndex-1:currentIndex+1;return newIndex>=0&&newIndex<anchors.length?anchors[newIndex]:null}var currentAnchorNumber=Object(_utils__WEBPACK_IMPORTED_MODULE_11__.h)(currentAnchor),sortedAnchors=position===_fileTree__WEBPACK_IMPORTED_MODULE_13__.b.previous?Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.a)(anchors).reverse():anchors;if(currentAnchorNumber){var _step5,_iterator5=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__.a)(sortedAnchors);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var anchor=_step5.value,anchorNumber=Object(_utils__WEBPACK_IMPORTED_MODULE_11__.h)(anchor);if(anchorNumber&&(position===_fileTree__WEBPACK_IMPORTED_MODULE_13__.b.previous&&anchorNumber<=currentAnchorNumber||position===_fileTree__WEBPACK_IMPORTED_MODULE_13__.b.next&&anchorNumber>=currentAnchorNumber))return anchor}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}}return null},getRelativeDiff=function getRelativeDiff(_ref7){var _ref7$_findRelativePa=_ref7._findRelativePathWithDiff,_findRelativePathWithDiff=void 0===_ref7$_findRelativePa?_fileTree__WEBPACK_IMPORTED_MODULE_13__.e:_ref7$_findRelativePa,_ref7$_getRelativeDif=_ref7._getRelativeDiffAnchor,_getRelativeDiffAnchor=void 0===_ref7$_getRelativeDif?getRelativeDiffAnchor:_ref7$_getRelativeDif,currentAnchor=_ref7.currentAnchor,diff=_ref7.diff,entryStatusMap=_ref7.entryStatusMap,pathList=_ref7.pathList,position=_ref7.position,selectedPath=_ref7.selectedPath,version=_ref7.version,result={anchor:diff?_getRelativeDiffAnchor({currentAnchor:currentAnchor,diff:diff,position:position}):null,path:null};return!result.anchor&&selectedPath&&(result.path=_findRelativePathWithDiff({currentPath:selectedPath,entryStatusMap:entryStatusMap,pathList:pathList,position:position,version:version})),result},fetchVersion=function fetchVersion(_ref8){var _ref8$_getVersion=_ref8._getVersion,_getVersion=void 0===_ref8$_getVersion?_api__WEBPACK_IMPORTED_MODULE_10__.h:_ref8$_getVersion,addonId=_ref8.addonId,versionId=_ref8.versionId,path=_ref8.path,_ref8$setAsCurrent=_ref8.setAsCurrent,setAsCurrent=void 0===_ref8$setAsCurrent||_ref8$setAsCurrent;return function(){var _ref9=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(dispatch,getState){var _getState,apiState,versions,response,selected_file;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_getState=getState(),apiState=_getState.api,versions=_getState.versions,!selectVersionIsLoading(versions,versionId)){_context.next=3;break}return _context.abrupt("return");case 3:return dispatch(actions.beginFetchVersion({versionId:versionId})),setAsCurrent&&dispatch(actions.setCurrentVersionId({versionId:versionId})),_context.next=7,_getVersion({addonId:addonId,apiState:apiState,path:path,versionId:versionId});case 7:response=_context.sent,Object(_api__WEBPACK_IMPORTED_MODULE_10__.k)(response)?(dispatch(actions.abortFetchVersion({versionId:versionId})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_12__.a.addError({error:response.error}))):(selected_file=response.file.selected_file,dispatch(actions.beginFetchVersionFile({versionId:versionId,path:selected_file})),dispatch(actions.loadVersionInfo({version:response,updatePathInfo:setAsCurrent})),dispatch(actions.loadVersionFileFromVersion({version:response,path:selected_file})));case 9:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref9.apply(this,arguments)}}()},fetchVersionFile=function fetchVersionFile(_ref10){var _ref10$_getVersionFil=_ref10._getVersionFileOnly,_getVersionFileOnly=void 0===_ref10$_getVersionFil?_api__WEBPACK_IMPORTED_MODULE_10__.i:_ref10$_getVersionFil,addonId=_ref10.addonId,path=_ref10.path,versionId=_ref10.versionId;return function(){var _ref11=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(dispatch,getState){var _getState2,apiState,versions,response;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(_getState2=getState(),apiState=_getState2.api,versions=_getState2.versions,!isFileLoading(versions,versionId,path)){_context2.next=3;break}return _context2.abrupt("return");case 3:return dispatch(actions.beginFetchVersionFile({path:path,versionId:versionId})),_context2.next=6,_getVersionFileOnly({addonId:addonId,apiState:apiState,versionId:versionId,path:path});case 6:response=_context2.sent,Object(_api__WEBPACK_IMPORTED_MODULE_10__.k)(response)?(dispatch(actions.abortFetchVersionFile({path:path,versionId:versionId})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_12__.a.addError({error:response.error}))):dispatch(actions.loadVersionFile({path:path,version:response}));case 8:case"end":return _context2.stop()}}),_callee2)})));return function(_x3,_x4){return _ref11.apply(this,arguments)}}()},fetchDiffFile=function fetchDiffFile(_ref12){var _ref12$_getDiffFileOn=_ref12._getDiffFileOnly,_getDiffFileOnly=void 0===_ref12$_getDiffFileOn?_api__WEBPACK_IMPORTED_MODULE_10__.f:_ref12$_getDiffFileOn,addonId=_ref12.addonId,baseVersionId=_ref12.baseVersionId,headVersionId=_ref12.headVersionId,path=_ref12.path;return function(){var _ref13=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee3(dispatch,getState){var _getState3,apiState,versions,response;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(_getState3=getState(),apiState=_getState3.api,versions=_getState3.versions,!isDiffLoading(versions,addonId,baseVersionId,headVersionId,path)){_context3.next=3;break}return _context3.abrupt("return");case 3:return dispatch(actions.beginFetchDiffFile({addonId:addonId,baseVersionId:baseVersionId,headVersionId:headVersionId,path:path})),_context3.next=6,_getDiffFileOnly({addonId:addonId,apiState:apiState,baseVersionId:baseVersionId,headVersionId:headVersionId,path:path});case 6:response=_context3.sent,Object(_api__WEBPACK_IMPORTED_MODULE_10__.k)(response)?(dispatch(actions.abortFetchDiffFile({addonId:addonId,baseVersionId:baseVersionId,headVersionId:headVersionId,path:path})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_12__.a.addError({error:response.error}))):dispatch(actions.loadDiffFile({addonId:addonId,baseVersionId:baseVersionId,headVersionId:headVersionId,path:path,version:response}));case 8:case"end":return _context3.stop()}}),_callee3)})));return function(_x5,_x6){return _ref13.apply(this,arguments)}}()},createInternalVersionsListItem=function createInternalVersionsListItem(version){return{channel:version.channel,id:version.id,versionString:version.version}},createVersionsMap=function createVersionsMap(versions){return{listed:versions.filter((function(version){return"listed"===version.channel})).map(createInternalVersionsListItem),unlisted:versions.filter((function(version){return"unlisted"===version.channel})).map(createInternalVersionsListItem)}},fetchVersionsList=function fetchVersionsList(_ref14){var _ref14$_getVersionsLi=_ref14._getVersionsList,_getVersionsList=void 0===_ref14$_getVersionsLi?_api__WEBPACK_IMPORTED_MODULE_10__.j:_ref14$_getVersionsLi,addonId=_ref14.addonId;return function(){var _ref15=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee4(dispatch,getState){var _getState4,apiState,response;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _getState4=getState(),apiState=_getState4.api,_context4.next=3,_getVersionsList({addonId:addonId,apiState:apiState});case 3:response=_context4.sent,Object(_api__WEBPACK_IMPORTED_MODULE_10__.k)(response)?dispatch(_errors__WEBPACK_IMPORTED_MODULE_12__.a.addError({error:response.error})):dispatch(actions.loadVersionsList({addonId:addonId,versions:response}));case 5:case"end":return _context4.stop()}}),_callee4)})));return function(_x7,_x8){return _ref15.apply(this,arguments)}}()},fetchVersionWithDiff=function fetchVersionWithDiff(_ref16){var _ref16$_getDiff=_ref16._getDiff,_getDiff=void 0===_ref16$_getDiff?_api__WEBPACK_IMPORTED_MODULE_10__.e:_ref16$_getDiff,addonId=_ref16.addonId,baseVersionId=_ref16.baseVersionId,headVersionId=_ref16.headVersionId,path=_ref16.path,forceReloadVersion=_ref16.forceReloadVersion;return function(){var _ref17=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee5(dispatch,getState){var _getState5,apiState,versionsState,response,selected_file;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(_getState5=getState(),apiState=_getState5.api,versionsState=_getState5.versions,!isDiffLoading(versionsState,addonId,baseVersionId,headVersionId,path)){_context5.next=4;break}return loglevel__WEBPACK_IMPORTED_MODULE_7___default.a.debug("Aborting because the diff is already being fetched"),_context5.abrupt("return");case 4:return dispatch(actions.beginFetchVersionWithDiff({addonId:addonId,baseVersionId:baseVersionId,headVersionId:headVersionId,path:path})),dispatch(actions.setCurrentVersionId({versionId:headVersionId})),_context5.next=8,_getDiff({addonId:addonId,apiState:apiState,baseVersionId:baseVersionId,headVersionId:headVersionId,path:path});case 8:response=_context5.sent,Object(_api__WEBPACK_IMPORTED_MODULE_10__.k)(response)?(dispatch(actions.abortFetchVersionWithDiff({addonId:addonId,baseVersionId:baseVersionId,headVersionId:headVersionId,path:path})),dispatch(actions.abortFetchVersion({versionId:headVersionId})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_12__.a.addError({error:response.error}))):(selected_file=response.file.selected_file,!forceReloadVersion&&getVersionInfo(versionsState,response.id)||dispatch(actions.loadVersionInfo({version:response,updatePathInfo:!0})),getEntryStatusMap({versions:versionsState,versionId:response.id,comparedToVersionId:baseVersionId})||dispatch(actions.loadEntryStatusMap({version:response,comparedToVersionId:baseVersionId})),dispatch(actions.loadDiffFileFromVersion({baseVersionId:baseVersionId,headVersionId:headVersionId,path:selected_file,version:response})));case 10:case"end":return _context5.stop()}}),_callee5)})));return function(_x9,_x10){return _ref17.apply(this,arguments)}}()},viewVersionFile=function viewVersionFile(_ref18){var _ref18$preserveHash=_ref18.preserveHash,preserveHash=void 0!==_ref18$preserveHash&&_ref18$preserveHash,selectedPath=_ref18.selectedPath,scrollTo=_ref18.scrollTo,versionId=_ref18.versionId;return function(){var _ref19=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee6(dispatch,getState){var _getState6,router,newLocation;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:_getState6=getState(),router=_getState6.router,newLocation=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},router.location),{},{search:Object(_utils__WEBPACK_IMPORTED_MODULE_11__.g)(router.location,{path:selectedPath,scrollTo:scrollTo})}),preserveHash||(newLocation.hash=""),dispatch(actions.updateSelectedPath({versionId:versionId,selectedPath:selectedPath})),dispatch(Object(connected_react_router__WEBPACK_IMPORTED_MODULE_9__.push)(newLocation));case 5:case"end":return _context6.stop()}}),_callee6)})));return function(_x11,_x12){return _ref19.apply(this,arguments)}}()},goToRelativeDiff=function goToRelativeDiff(_ref20){var _ref20$_getRelativeDi=_ref20._getRelativeDiff,_getRelativeDiff=void 0===_ref20$_getRelativeDi?getRelativeDiff:_ref20$_getRelativeDi,_ref20$_viewVersionFi=_ref20._viewVersionFile,_viewVersionFile=void 0===_ref20$_viewVersionFi?viewVersionFile:_ref20$_viewVersionFi,comparedToVersionId=_ref20.comparedToVersionId,currentAnchor=_ref20.currentAnchor,diff=_ref20.diff,pathList=_ref20.pathList,position=_ref20.position,versionId=_ref20.versionId;return function(){var _ref21=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee7(dispatch,getState){var _getState7,router,versionsState,version,selectedPath,entryStatusMap,nextDiffInfo,newLocation;return _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(_getState7=getState(),router=_getState7.router,versionsState=_getState7.versions,version=getVersionInfo(versionsState,versionId),selectedPath=versionsState.selectedPath,entryStatusMap=getEntryStatusMap({comparedToVersionId:comparedToVersionId,versions:versionsState,versionId:versionId}),version){_context7.next=6;break}throw new Error("Cannot go to relative diff without a version loaded.");case 6:if(entryStatusMap){_context7.next=8;break}throw new Error("Cannot go to relative diff without an entryStatusMap for versionId=".concat(version.id," comparedToVersionId=").concat(comparedToVersionId));case 8:(nextDiffInfo=_getRelativeDiff({currentAnchor:currentAnchor,diff:diff,entryStatusMap:entryStatusMap,pathList:pathList,position:position,selectedPath:selectedPath,version:version})).anchor?(newLocation=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},router.location),{},{hash:"#".concat(nextDiffInfo.anchor)}),dispatch(Object(connected_react_router__WEBPACK_IMPORTED_MODULE_9__.push)(newLocation))):nextDiffInfo.path&&dispatch(_viewVersionFile({preserveHash:!1,selectedPath:nextDiffInfo.path,scrollTo:position===_fileTree__WEBPACK_IMPORTED_MODULE_13__.b.next?ScrollTarget.firstDiff:ScrollTarget.lastDiff,versionId:versionId}));case 10:case"end":return _context7.stop()}}),_callee7)})));return function(_x13,_x14){return _ref21.apply(this,arguments)}}()},getAddonName=function getAddonName(name){return name?Object(_utils__WEBPACK_IMPORTED_MODULE_11__.l)(name):"(no name)"},createReducer=function createReducer(){var _ref22=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref22$_getPrunedExpa=_ref22._getPrunedExpandedPaths,_getPrunedExpandedPaths=void 0===_ref22$_getPrunedExpa?getPrunedExpandedPaths:_ref22$_getPrunedExpa,reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.beginFetchVersion):var _versionId=action.payload.versionId;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{versionInfo:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfo),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId,void 0)),versionInfoLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfoLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId,!0))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.loadVersionInfo):var _action$payload=action.payload,updatePathInfo=_action$payload.updatePathInfo,version=_action$payload.version,internalVersion=createInternalVersion(version);if(!updatePathInfo)return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{versionInfo:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfo),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},version.id,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},internalVersion))),versionInfoLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfoLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},version.id,!1))});var expandedPathsInState=state.expandedPaths,selectedPathInState=state.selectedPath,expandedPaths=expandedPathsInState?_getPrunedExpandedPaths(expandedPathsInState,internalVersion):getParentFolders(version.file.selected_file),selectedPath=selectedPathInState&&versionPathExists(selectedPathInState,internalVersion)?selectedPathInState:version.file.selected_file;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{expandedPaths:expandedPaths,selectedPath:selectedPath,visibleSelectedPath:null,versionInfo:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfo),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},version.id,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},internalVersion),{},{expandedPaths:expandedPaths,selectedPath:selectedPath}))),versionInfoLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfoLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},version.id,!1))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.abortFetchVersion):var _versionId2=action.payload.versionId;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{versionInfo:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfo),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId2,null)),versionInfoLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfoLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId2,!1))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.loadEntryStatusMap):var _action$payload2=action.payload,_version=_action$payload2.version,comparedToVersionId=_action$payload2.comparedToVersionId,key=getEntryStatusMapKey({versionId:_version.id,comparedToVersionId:comparedToVersionId});return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{entryStatusMaps:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.entryStatusMaps),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},key,createEntryStatusMap(_version)))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.loadVersionFileFromVersion):var _action$payload3=action.payload,_path=_action$payload3.path,_version2=_action$payload3.version;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{versionFiles:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFiles),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_version2.id,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFiles[_version2.id]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path,createInternalVersionFile(_version2.file))))),versionFilesLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFilesLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_version2.id,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFilesLoading[_version2.id]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path,!1))))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.loadDiffFileFromVersion):var _action$payload4=action.payload,baseVersionId=_action$payload4.baseVersionId,headVersionId=_action$payload4.headVersionId,_version3=_action$payload4.version,_path2=action.payload.path||"",_key=getDiffKey({addonId:_version3.addon.id,baseVersionId:baseVersionId,headVersionId:headVersionId});return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{versionDiffs:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffs),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffs[_key]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path2,createInternalVersionFile(_version3.file))))),versionDiffsLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffsLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffsLoading[_key]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path2,!1))))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.loadDiffFile):var _action$payload5=action.payload,_addonId=_action$payload5.addonId,_baseVersionId=_action$payload5.baseVersionId,_headVersionId=_action$payload5.headVersionId,_path3=_action$payload5.path,_version4=_action$payload5.version,_key2=getDiffKey({addonId:_addonId,baseVersionId:_baseVersionId,headVersionId:_headVersionId});return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{versionDiffs:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffs),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key2,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffs[_key2]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path3,createInternalVersionFile(_version4.file))))),versionDiffsLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffsLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key2,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffsLoading[_key2]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path3,!1))))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.loadVersionFile):var _action$payload6=action.payload,_path4=_action$payload6.path,_version5=_action$payload6.version;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{versionFiles:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFiles),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_version5.id,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFiles[_version5.id]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path4,createInternalVersionFile(_version5.file))))),versionFilesLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFilesLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_version5.id,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFilesLoading[_version5.id]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path4,!1))))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.beginFetchVersionFile):var _action$payload7=action.payload,_path5=_action$payload7.path,_versionId3=_action$payload7.versionId;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{versionFilesLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFilesLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId3,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFilesLoading[_versionId3]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path5,!0))))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.abortFetchVersionFile):var _action$payload8=action.payload,_path6=_action$payload8.path,_versionId4=_action$payload8.versionId;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{versionFiles:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFiles),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId4,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFiles[_versionId4]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path6,null)))),versionFilesLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFilesLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId4,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionFilesLoading[_versionId4]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path6,!1))))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.updateSelectedPath):var _action$payload9=action.payload,_selectedPath=_action$payload9.selectedPath,_versionId5=_action$payload9.versionId,_version6=state.versionInfo[_versionId5];if(!_version6)throw new Error("Version missing for versionId: ".concat(_versionId5));var _expandedPaths=state.expandedPaths;if(!_expandedPaths)throw new Error("Expanded paths are undefined");var parents=getParentFolders(_selectedPath),newExpandedPaths=[].concat(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.a)(_expandedPaths),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.a)(parents.filter((function(newPath){return!_expandedPaths.includes(newPath)}))));return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{expandedPaths:newExpandedPaths,selectedPath:_selectedPath,versionInfo:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfo),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId5,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},_version6),{},{expandedPaths:newExpandedPaths,selectedPath:_selectedPath})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.setVisibleSelectedPath):var _action$payload10=action.payload,_path7=_action$payload10.path,_versionId6=_action$payload10.versionId,_version7=state.versionInfo[_versionId6];if(!_version7)throw new Error("Version missing for versionId: ".concat(_versionId6));if(_path7&&!_version7.entries.find((function(e){return e.path===_path7})))throw new Error('Path "'.concat(_path7,'" is an unknown path for version ID ').concat(_versionId6));return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{visibleSelectedPath:_path7,versionInfo:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfo),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId6,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},_version7),{},{visibleSelectedPath:_path7})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.toggleExpandedPath):var _action$payload11=action.payload,_path8=_action$payload11.path,_versionId7=_action$payload11.versionId,_version8=state.versionInfo[_versionId7];if(!_version8)throw new Error("Version missing for versionId: ".concat(_versionId7));var _expandedPaths2=state.expandedPaths;if(void 0===_expandedPaths2)throw new Error("ExpandedPaths is undefined");var _newExpandedPaths=_expandedPaths2.includes(_path8)?_expandedPaths2.filter((function(storedPath){return _path8!==storedPath})):[].concat(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.a)(_expandedPaths2),[_path8]);return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{expandedPaths:_newExpandedPaths,versionInfo:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfo),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId7,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},_version8),{},{expandedPaths:_newExpandedPaths})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.expandTree):var _versionId8=action.payload.versionId,_version9=state.versionInfo[_versionId8];if(!_version9)throw new Error("Version missing for versionId: ".concat(_versionId8));var _expandedPaths3=_version9.entries.filter((function(entry){return"directory"===entry.type})).map((function(entry){return entry.path}));return _expandedPaths3.push(_fileTree__WEBPACK_IMPORTED_MODULE_13__.a),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{expandedPaths:_expandedPaths3,versionInfo:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfo),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId8,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},_version9),{},{expandedPaths:_expandedPaths3})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.collapseTree):var _versionId9=action.payload.versionId,_version10=state.versionInfo[_versionId9],_expandedPaths4=[_fileTree__WEBPACK_IMPORTED_MODULE_13__.a];if(!_version10)throw new Error("Version missing for versionId: ".concat(_versionId9));return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{expandedPaths:_expandedPaths4,versionInfo:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfo),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId9,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},_version10),{},{expandedPaths:_expandedPaths4})))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.loadVersionsList):var _action$payload12=action.payload,_addonId2=_action$payload12.addonId,versions=_action$payload12.versions;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{byAddonId:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.byAddonId),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_addonId2,createVersionsMap(versions)))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.beginFetchVersionWithDiff):var _path9=action.payload.path||"",_versionId10=action.payload.headVersionId,_key3=getDiffKey(action.payload);return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{versionInfo:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfo),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId10,void 0)),versionInfoLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfoLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId10,!0)),versionDiffsLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffsLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key3,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffsLoading[_key3]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path9,!0))))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.beginFetchDiffFile):var _path10=action.payload.path,_key4=getDiffKey(action.payload);return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{versionDiffs:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffs),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key4,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffs[_key4]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path10,void 0)))),versionDiffsLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffsLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key4,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffsLoading[_key4]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path10,!0))))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.abortFetchVersionWithDiff):var _path11=action.payload.path||"",_versionId11=action.payload.headVersionId,_key5=getDiffKey(action.payload);return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{versionInfo:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfo),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId11,null)),versionInfoLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionInfoLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_versionId11,!1)),versionDiffs:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffs),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key5,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffs[_key5]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path11,null)))),versionDiffsLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffsLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key5,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffsLoading[_key5]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path11,!1))))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.abortFetchDiffFile):var _path12=action.payload.path,_key6=getDiffKey(action.payload);return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{versionDiffs:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffs),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key6,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffs[_key6]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path12,null)))),versionDiffsLoading:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffsLoading),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_key6,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state.versionDiffsLoading[_key6]),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_path12,!1))))});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.setCurrentBaseVersionId):var _versionId12=action.payload.versionId;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{currentBaseVersionId:_versionId12});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.setPendingBaseVersionId):var _versionId13=action.payload.versionId;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{pendingBaseVersionId:_versionId13});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.setPendingHeadVersionId):var _versionId14=action.payload.versionId;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{pendingHeadVersionId:_versionId14});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.setCurrentVersionId):var _versionId15=action.payload.versionId,_expandedPaths5=state.expandedPaths,_selectedPath2=state.selectedPath,versionInfo=state.versionInfo,visibleSelectedPath=state.visibleSelectedPath,_version11=getVersionInfo(state,_versionId15);return _version11&&_expandedPaths5&&(_expandedPaths5=_getPrunedExpandedPaths(_expandedPaths5,_version11)),_version11&&(_selectedPath2=_selectedPath2&&versionPathExists(_selectedPath2,_version11)?_selectedPath2:_version11.selectedPath,versionInfo=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},versionInfo),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_version11.id,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},_version11),{},{selectedPath:_selectedPath2,visibleSelectedPath:visibleSelectedPath})))),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{currentVersionId:_versionId15,expandedPaths:_expandedPaths5,selectedPath:_selectedPath2,versionInfo:versionInfo});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.unsetCurrentBaseVersionId):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{currentBaseVersionId:!1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.unsetCurrentVersionId):return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},state),{},{currentVersionId:!1});default:return state}};return reducer};__webpack_exports__.f=createReducer();try{isFileWithContent.displayName="isFileWithContent",isFileWithContent.__docgenInfo={description:"",displayName:"isFileWithContent",props:{downloadURL:{defaultValue:null,description:"",name:"downloadURL",required:!0,type:{name:"string | null"}},filename:{defaultValue:null,description:"",name:"filename",required:!0,type:{name:"string"}},fileType:{defaultValue:null,description:"",name:"fileType",required:!0,type:{name:"enum",value:[{value:'"image"'},{value:'"text"'},{value:'"directory"'},{value:'"binary"'}]}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},isMinified:{defaultValue:null,description:"",name:"isMinified",required:!0,type:{name:"boolean"}},mimeType:{defaultValue:null,description:"",name:"mimeType",required:!0,type:{name:"string"}},sha256:{defaultValue:null,description:"",name:"sha256",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}},diff:{defaultValue:null,description:"",name:"diff",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#isFileWithContent"]={docgenInfo:isFileWithContent.__docgenInfo,name:"isFileWithContent",path:"src/reducers/versions.tsx#isFileWithContent"})}catch(__react_docgen_typescript_loader_error){}try{isFileWithDiff.displayName="isFileWithDiff",isFileWithDiff.__docgenInfo={description:"",displayName:"isFileWithDiff",props:{downloadURL:{defaultValue:null,description:"",name:"downloadURL",required:!0,type:{name:"string | null"}},filename:{defaultValue:null,description:"",name:"filename",required:!0,type:{name:"string"}},fileType:{defaultValue:null,description:"",name:"fileType",required:!0,type:{name:"enum",value:[{value:'"image"'},{value:'"text"'},{value:'"directory"'},{value:'"binary"'}]}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},isMinified:{defaultValue:null,description:"",name:"isMinified",required:!0,type:{name:"boolean"}},mimeType:{defaultValue:null,description:"",name:"mimeType",required:!0,type:{name:"string"}},sha256:{defaultValue:null,description:"",name:"sha256",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}},diff:{defaultValue:null,description:"",name:"diff",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#isFileWithDiff"]={docgenInfo:isFileWithDiff.__docgenInfo,name:"isFileWithDiff",path:"src/reducers/versions.tsx#isFileWithDiff"})}catch(__react_docgen_typescript_loader_error){}try{getParentFolders.displayName="getParentFolders",getParentFolders.__docgenInfo={description:"",displayName:"getParentFolders",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#getParentFolders"]={docgenInfo:getParentFolders.__docgenInfo,name:"getParentFolders",path:"src/reducers/versions.tsx#getParentFolders"})}catch(__react_docgen_typescript_loader_error){}try{createInternalChangeInfo.displayName="createInternalChangeInfo",createInternalChangeInfo.__docgenInfo={description:"",displayName:"createInternalChangeInfo",props:{content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}},new_line_number:{defaultValue:null,description:"",name:"new_line_number",required:!0,type:{name:"number"}},old_line_number:{defaultValue:null,description:"",name:"old_line_number",required:!0,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#createInternalChangeInfo"]={docgenInfo:createInternalChangeInfo.__docgenInfo,name:"createInternalChangeInfo",path:"src/reducers/versions.tsx#createInternalChangeInfo"})}catch(__react_docgen_typescript_loader_error){}try{createInternalHunk.displayName="createInternalHunk",createInternalHunk.__docgenInfo={description:"",displayName:"createInternalHunk",props:{changes:{defaultValue:null,description:"",name:"changes",required:!0,type:{name:"ExternalChange[]"}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},new_lines:{defaultValue:null,description:"",name:"new_lines",required:!0,type:{name:"number"}},new_start:{defaultValue:null,description:"",name:"new_start",required:!0,type:{name:"number"}},old_lines:{defaultValue:null,description:"",name:"old_lines",required:!0,type:{name:"number"}},old_start:{defaultValue:null,description:"",name:"old_start",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#createInternalHunk"]={docgenInfo:createInternalHunk.__docgenInfo,name:"createInternalHunk",path:"src/reducers/versions.tsx#createInternalHunk"})}catch(__react_docgen_typescript_loader_error){}try{createInternalDiff.displayName="createInternalDiff",createInternalDiff.__docgenInfo={description:"",displayName:"createInternalDiff",props:{hash:{defaultValue:null,description:"",name:"hash",required:!0,type:{name:"string"}},hunks:{defaultValue:null,description:"",name:"hunks",required:!0,type:{name:"ExternalHunk[]"}},is_binary:{defaultValue:null,description:"",name:"is_binary",required:!0,type:{name:"boolean"}},lines_added:{defaultValue:null,description:"",name:"lines_added",required:!0,type:{name:"number"}},lines_deleted:{defaultValue:null,description:"",name:"lines_deleted",required:!0,type:{name:"number"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"string"}},new_ending_new_line:{defaultValue:null,description:"",name:"new_ending_new_line",required:!0,type:{name:"boolean"}},old_ending_new_line:{defaultValue:null,description:"",name:"old_ending_new_line",required:!0,type:{name:"boolean"}},old_path:{defaultValue:null,description:"",name:"old_path",required:!0,type:{name:"string"}},parent:{defaultValue:null,description:"",name:"parent",required:!0,type:{name:"string"}},path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#createInternalDiff"]={docgenInfo:createInternalDiff.__docgenInfo,name:"createInternalDiff",path:"src/reducers/versions.tsx#createInternalDiff"})}catch(__react_docgen_typescript_loader_error){}try{createInternalVersionFile.displayName="createInternalVersionFile",createInternalVersionFile.__docgenInfo={description:"",displayName:"createInternalVersionFile",props:{download_url:{defaultValue:null,description:"",name:"download_url",required:!0,type:{name:"string | null"}},filename:{defaultValue:null,description:"",name:"filename",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},mime_category:{defaultValue:null,description:"",name:"mime_category",required:!0,type:{name:"enum",value:[{value:'"image"'},{value:'"text"'},{value:'"directory"'},{value:'"binary"'}]}},mimetype:{defaultValue:null,description:"",name:"mimetype",required:!0,type:{name:"string"}},selected_file:{defaultValue:null,description:"",name:"selected_file",required:!0,type:{name:"string"}},sha256:{defaultValue:null,description:"",name:"sha256",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},uses_unknown_minified_code:{defaultValue:null,description:"",name:"uses_unknown_minified_code",required:!0,type:{name:"boolean"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}},diff:{defaultValue:null,description:"",name:"diff",required:!0,type:{name:"ExternalDiff | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#createInternalVersionFile"]={docgenInfo:createInternalVersionFile.__docgenInfo,name:"createInternalVersionFile",path:"src/reducers/versions.tsx#createInternalVersionFile"})}catch(__react_docgen_typescript_loader_error){}try{createInternalVersionEntry.displayName="createInternalVersionEntry",createInternalVersionEntry.__docgenInfo={description:"",displayName:"createInternalVersionEntry",props:{depth:{defaultValue:null,description:"",name:"depth",required:!0,type:{name:"number"}},filename:{defaultValue:null,description:"",name:"filename",required:!0,type:{name:"string"}},mime_category:{defaultValue:null,description:"",name:"mime_category",required:!0,type:{name:"enum",value:[{value:'"image"'},{value:'"text"'},{value:'"directory"'},{value:'"binary"'}]}},path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'""'},{value:'"M"'},{value:'"A"'},{value:'"D"'},{value:'"R"'},{value:'"C"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#createInternalVersionEntry"]={docgenInfo:createInternalVersionEntry.__docgenInfo,name:"createInternalVersionEntry",path:"src/reducers/versions.tsx#createInternalVersionEntry"})}catch(__react_docgen_typescript_loader_error){}try{getEntryStatusMapKey.displayName="getEntryStatusMapKey",getEntryStatusMapKey.__docgenInfo={description:"",displayName:"getEntryStatusMapKey",props:{versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},comparedToVersionId:{defaultValue:null,description:"",name:"comparedToVersionId",required:!0,type:{name:"number | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#getEntryStatusMapKey"]={docgenInfo:getEntryStatusMapKey.__docgenInfo,name:"getEntryStatusMapKey",path:"src/reducers/versions.tsx#getEntryStatusMapKey"})}catch(__react_docgen_typescript_loader_error){}try{createEntryStatusMap.displayName="createEntryStatusMap",createEntryStatusMap.__docgenInfo={description:"",displayName:"createEntryStatusMap",props:{addon:{defaultValue:null,description:"",name:"addon",required:!0,type:{name:"ExternalVersionAddon"}},channel:{defaultValue:null,description:"",name:"channel",required:!0,type:{name:"string"}},has_been_validated:{defaultValue:null,description:"",name:"has_been_validated",required:!0,type:{name:"boolean"}},file_entries:{defaultValue:null,description:"",name:"file_entries",required:!0,type:{name:"{ [nodeName: string]: ExternalVersionEntry; }"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},reviewed:{defaultValue:null,description:"",name:"reviewed",required:!0,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},validation_url:{defaultValue:null,description:"",name:"validation_url",required:!0,type:{name:"string"}},validation_url_json:{defaultValue:null,description:"",name:"validation_url_json",required:!0,type:{name:"string"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"string"}},file:{defaultValue:null,description:"",name:"file",required:!0,type:{name:"ExternalVersionFileWithContent | ExternalVersionFileWithDiff"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#createEntryStatusMap"]={docgenInfo:createEntryStatusMap.__docgenInfo,name:"createEntryStatusMap",path:"src/reducers/versions.tsx#createEntryStatusMap"})}catch(__react_docgen_typescript_loader_error){}try{createInternalVersionAddon.displayName="createInternalVersionAddon",createInternalVersionAddon.__docgenInfo={description:"",displayName:"createInternalVersionAddon",props:{icon_url:{defaultValue:null,description:"",name:"icon_url",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"LocalizedStringMap | null"}},slug:{defaultValue:null,description:"",name:"slug",required:!0,type:{name:"string | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#createInternalVersionAddon"]={docgenInfo:createInternalVersionAddon.__docgenInfo,name:"createInternalVersionAddon",path:"src/reducers/versions.tsx#createInternalVersionAddon"})}catch(__react_docgen_typescript_loader_error){}try{createInternalVersion.displayName="createInternalVersion",createInternalVersion.__docgenInfo={description:"",displayName:"createInternalVersion",props:{addon:{defaultValue:null,description:"",name:"addon",required:!0,type:{name:"ExternalVersionAddon"}},channel:{defaultValue:null,description:"",name:"channel",required:!0,type:{name:"string"}},has_been_validated:{defaultValue:null,description:"",name:"has_been_validated",required:!0,type:{name:"boolean"}},file_entries:{defaultValue:null,description:"",name:"file_entries",required:!0,type:{name:"{ [nodeName: string]: ExternalVersionEntry; }"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},reviewed:{defaultValue:null,description:"",name:"reviewed",required:!0,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},validation_url:{defaultValue:null,description:"",name:"validation_url",required:!0,type:{name:"string"}},validation_url_json:{defaultValue:null,description:"",name:"validation_url_json",required:!0,type:{name:"string"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"string"}},file:{defaultValue:null,description:"",name:"file",required:!0,type:{name:"ExternalVersionFileWithContent | ExternalVersionFileWithDiff"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#createInternalVersion"]={docgenInfo:createInternalVersion.__docgenInfo,name:"createInternalVersion",path:"src/reducers/versions.tsx#createInternalVersion"})}catch(__react_docgen_typescript_loader_error){}try{createVersionPathChecker.displayName="createVersionPathChecker",createVersionPathChecker.__docgenInfo={description:"",displayName:"createVersionPathChecker",props:{addon:{defaultValue:null,description:"",name:"addon",required:!0,type:{name:"VersionAddon"}},initialPath:{defaultValue:null,description:"",name:"initialPath",required:!0,type:{name:"string"}},entries:{defaultValue:null,description:"",name:"entries",required:!0,type:{name:"VersionEntry[]"}},fileId:{defaultValue:null,description:"",name:"fileId",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},reviewed:{defaultValue:null,description:"",name:"reviewed",required:!0,type:{name:"string"}},versionString:{defaultValue:null,description:"",name:"versionString",required:!0,type:{name:"string"}},expandedPaths:{defaultValue:null,description:"",name:"expandedPaths",required:!0,type:{name:"string[]"}},selectedPath:{defaultValue:null,description:"",name:"selectedPath",required:!0,type:{name:"string"}},visibleSelectedPath:{defaultValue:null,description:"",name:"visibleSelectedPath",required:!0,type:{name:"string | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#createVersionPathChecker"]={docgenInfo:createVersionPathChecker.__docgenInfo,name:"createVersionPathChecker",path:"src/reducers/versions.tsx#createVersionPathChecker"})}catch(__react_docgen_typescript_loader_error){}try{getEntryStatusMap.displayName="getEntryStatusMap",getEntryStatusMap.__docgenInfo={description:"",displayName:"getEntryStatusMap",props:{versions:{defaultValue:null,description:"",name:"versions",required:!0,type:{name:"VersionsState"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},comparedToVersionId:{defaultValue:null,description:"",name:"comparedToVersionId",required:!0,type:{name:"number | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#getEntryStatusMap"]={docgenInfo:getEntryStatusMap.__docgenInfo,name:"getEntryStatusMap",path:"src/reducers/versions.tsx#getEntryStatusMap"})}catch(__react_docgen_typescript_loader_error){}try{selectCurrentVersionInfo.displayName="selectCurrentVersionInfo",selectCurrentVersionInfo.__docgenInfo={description:"",displayName:"selectCurrentVersionInfo",props:{byAddonId:{defaultValue:null,description:"",name:"byAddonId",required:!0,type:{name:"{ [addonId: number]: VersionsMap; }"}},currentBaseVersionId:{defaultValue:null,description:"",name:"currentBaseVersionId",required:!0,type:{name:"number | false | undefined"}},currentVersionId:{defaultValue:null,description:"",name:"currentVersionId",required:!0,type:{name:"number | false | undefined"}},entryStatusMaps:{defaultValue:null,description:"",name:"entryStatusMaps",required:!0,type:{name:"{ [entryStatusMapKey: string]: EntryStatusMap; }"}},expandedPaths:{defaultValue:null,description:"",name:"expandedPaths",required:!0,type:{name:"string[] | undefined"}},pendingBaseVersionId:{defaultValue:null,description:"",name:"pendingBaseVersionId",required:!0,type:{name:"number | undefined"}},pendingHeadVersionId:{defaultValue:null,description:"",name:"pendingHeadVersionId",required:!0,type:{name:"number | undefined"}},selectedPath:{defaultValue:null,description:"",name:"selectedPath",required:!0,type:{name:"string | null"}},visibleSelectedPath:{defaultValue:null,description:"",name:"visibleSelectedPath",required:!0,type:{name:"string | null"}},versionInfo:{defaultValue:null,description:"",name:"versionInfo",required:!0,type:{name:"{ [versionId: number]: Version | null | undefined; }"}},versionInfoLoading:{defaultValue:null,description:"",name:"versionInfoLoading",required:!0,type:{name:"{ [versionId: number]: boolean; }"}},versionFiles:{defaultValue:null,description:"",name:"versionFiles",required:!0,type:{name:"{ [versionId: number]: { [path: string]: VersionFileWithContent | null | undefined; }; }"}},versionDiffs:{defaultValue:null,description:"",name:"versionDiffs",required:!0,type:{name:"{ [diffKey: string]: { [path: string]: VersionFileWithDiff | null | undefined; }; }"}},versionFilesLoading:{defaultValue:null,description:"",name:"versionFilesLoading",required:!0,type:{name:"{ [versionId: number]: { [path: string]: boolean; }; }"}},versionDiffsLoading:{defaultValue:null,description:"",name:"versionDiffsLoading",required:!0,type:{name:"{ [diffKey: string]: { [path: string]: boolean; }; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#selectCurrentVersionInfo"]={docgenInfo:selectCurrentVersionInfo.__docgenInfo,name:"selectCurrentVersionInfo",path:"src/reducers/versions.tsx#selectCurrentVersionInfo"})}catch(__react_docgen_typescript_loader_error){}try{getMostRelevantEntryStatus.displayName="getMostRelevantEntryStatus",getMostRelevantEntryStatus.__docgenInfo={description:"",displayName:"getMostRelevantEntryStatus",props:{version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"Version"}},entryStatusMap:{defaultValue:null,description:"",name:"entryStatusMap",required:!0,type:{name:"EntryStatusMap"}},path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#getMostRelevantEntryStatus"]={docgenInfo:getMostRelevantEntryStatus.__docgenInfo,name:"getMostRelevantEntryStatus",path:"src/reducers/versions.tsx#getMostRelevantEntryStatus"})}catch(__react_docgen_typescript_loader_error){}try{getDiffKey.displayName="getDiffKey",getDiffKey.__docgenInfo={description:"",displayName:"getDiffKey",props:{addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},baseVersionId:{defaultValue:null,description:"",name:"baseVersionId",required:!0,type:{name:"number"}},headVersionId:{defaultValue:null,description:"",name:"headVersionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#getDiffKey"]={docgenInfo:getDiffKey.__docgenInfo,name:"getDiffKey",path:"src/reducers/versions.tsx#getDiffKey"})}catch(__react_docgen_typescript_loader_error){}try{getVersionDiff.displayName="getVersionDiff",getVersionDiff.__docgenInfo={description:"",displayName:"getVersionDiff",props:{versions:{defaultValue:null,description:"",name:"versions",required:!0,type:{name:"VersionsState"}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},baseVersionId:{defaultValue:null,description:"",name:"baseVersionId",required:!0,type:{name:"number"}},headVersionId:{defaultValue:null,description:"",name:"headVersionId",required:!0,type:{name:"number"}},path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#getVersionDiff"]={docgenInfo:getVersionDiff.__docgenInfo,name:"getVersionDiff",path:"src/reducers/versions.tsx#getVersionDiff"})}catch(__react_docgen_typescript_loader_error){}try{getDiffAnchors.displayName="getDiffAnchors",getDiffAnchors.__docgenInfo={description:"",displayName:"getDiffAnchors",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#getDiffAnchors"]={docgenInfo:getDiffAnchors.__docgenInfo,name:"getDiffAnchors",path:"src/reducers/versions.tsx#getDiffAnchors"})}catch(__react_docgen_typescript_loader_error){}try{getInsertedLines.displayName="getInsertedLines",getInsertedLines.__docgenInfo={description:"",displayName:"getInsertedLines",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#getInsertedLines"]={docgenInfo:getInsertedLines.__docgenInfo,name:"getInsertedLines",path:"src/reducers/versions.tsx#getInsertedLines"})}catch(__react_docgen_typescript_loader_error){}try{getRelativeDiffAnchor.displayName="getRelativeDiffAnchor",getRelativeDiffAnchor.__docgenInfo={description:"",displayName:"getRelativeDiffAnchor",props:{currentAnchor:{defaultValue:{value:""},description:"",name:"currentAnchor",required:!1,type:{name:"string"}},diff:{defaultValue:null,description:"",name:"diff",required:!0,type:{name:"any"}},position:{defaultValue:{value:"RelativePathPosition.next"},description:"",name:"position",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#getRelativeDiffAnchor"]={docgenInfo:getRelativeDiffAnchor.__docgenInfo,name:"getRelativeDiffAnchor",path:"src/reducers/versions.tsx#getRelativeDiffAnchor"})}catch(__react_docgen_typescript_loader_error){}try{getRelativeDiff.displayName="getRelativeDiff",getRelativeDiff.__docgenInfo={description:"",displayName:"getRelativeDiff",props:{_findRelativePathWithDiff:{defaultValue:{value:"({\n  currentPath,\n  entryStatusMap,\n  pathList,\n  position,\n  version,\n}: FindRelativePathWithDiffParams): string => {\n  let path = currentPath;\n  const maxAttempts = pathList.length;\n  for (let attempt = 1; attempt <= maxAttempts; attempt++) {\n    const nextPath = getRelativePath({\n      currentPath: path,\n      pathList,\n      position,\n    });\n\n    // Does this path contain differences?\n    // Locate the entry for this path.\n    const entry = version.entries.find((e) => e.path === nextPath);\n    if (!entry) {\n      throw new Error(\n        `Entry missing for path: ${nextPath}, versionId: ${version.id}`,\n      );\n    }\n\n    if (entryStatusMap[entry.path] === undefined) {\n      throw new Error(\n        `Entry status missing for path: ${nextPath}, versionId: ${version.id}`,\n      );\n    }\n\n    if (entryStatusMap[entry.path] !== '') {\n      // There is a difference.\n      return nextPath;\n    }\n    path = nextPath;\n  }\n  // If we got here then we never found another path with a diff, which would\n  // be odd, because we should have at the very least gotten back to our\n  // original path.\n  throw new Error(\n    `findRelativePathWithDiff was unable to find a path with a diff using currentPath: ${currentPath}`,\n  );\n}"},description:"",name:"_findRelativePathWithDiff",required:!1,type:{name:"(({ currentPath, entryStatusMap, pathList, position, version, }: FindRelativePathWithDiffParams) => string)"}},_getRelativeDiffAnchor:{defaultValue:{value:"({\n  currentAnchor = '',\n  diff,\n  position = RelativePathPosition.next,\n}: GetRelativeDiffAnchorParams): string | null => {\n  const anchors = getDiffAnchors(diff);\n  if (anchors.length) {\n    if (!currentAnchor) {\n      // Since we aren't looking for an anchor relative to an existing one,\n      // just get the first anchor.\n      return anchors[0];\n    }\n\n    const currentIndex = anchors.indexOf(currentAnchor);\n\n    if (currentIndex >= 0) {\n      const newIndex =\n        position === RelativePathPosition.previous\n          ? currentIndex - 1\n          : currentIndex + 1;\n\n      if (newIndex >= 0 && newIndex < anchors.length) {\n        return anchors[newIndex];\n      }\n      // The currentAnchor is the only anchor in the diff.\n      return null;\n    }\n\n    // We have a currentAnchor, but is doesn't match anything in anchors, so\n    // we need to try to find the correct anchor closest to the currentAnchor.\n    const currentAnchorNumber = extractNumber(currentAnchor);\n    const sortedAnchors: string[] =\n      position === RelativePathPosition.previous\n        ? [...anchors].reverse()\n        : anchors;\n    if (currentAnchorNumber) {\n      for (const anchor of sortedAnchors) {\n        const anchorNumber = extractNumber(anchor);\n        if (anchorNumber) {\n          if (\n            (position === RelativePathPosition.previous &&\n              anchorNumber <= currentAnchorNumber) ||\n            (position === RelativePathPosition.next &&\n              anchorNumber >= currentAnchorNumber)\n          ) {\n            return anchor;\n          }\n        }\n      }\n    }\n  }\n\n  // We never found a valid next/previous anchor in the file, so return null.\n  return null;\n}"},description:"",name:"_getRelativeDiffAnchor",required:!1,type:{name:"(({ currentAnchor, diff, position, }: GetRelativeDiffAnchorParams) => string | null)"}},currentAnchor:{defaultValue:{value:""},description:"",name:"currentAnchor",required:!1,type:{name:"string"}},diff:{defaultValue:null,description:"",name:"diff",required:!0,type:{name:"any"}},entryStatusMap:{defaultValue:null,description:"",name:"entryStatusMap",required:!0,type:{name:"EntryStatusMap"}},pathList:{defaultValue:null,description:"",name:"pathList",required:!0,type:{name:"string[]"}},position:{defaultValue:{value:"RelativePathPosition.next"},description:"",name:"position",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},selectedPath:{defaultValue:null,description:"",name:"selectedPath",required:!0,type:{name:"string | null"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"Version"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#getRelativeDiff"]={docgenInfo:getRelativeDiff.__docgenInfo,name:"getRelativeDiff",path:"src/reducers/versions.tsx#getRelativeDiff"})}catch(__react_docgen_typescript_loader_error){}try{fetchVersion.displayName="fetchVersion",fetchVersion.__docgenInfo={description:"",displayName:"fetchVersion",props:{_getVersion:{defaultValue:{value:"async ({\n  addonId,\n  apiState,\n  path,\n  versionId,\n}: GetVersionParams) => {\n  return callApi<ResponseOnly<ExternalVersionWithContent>>({\n    apiState,\n    endpoint: `reviewers/addon/${addonId}/versions/${versionId}`,\n    query: makeApiQuery(path),\n  });\n}"},description:"",name:"_getVersion",required:!1,type:{name:"(({ addonId, apiState, path, versionId, }: GetVersionParams) => Promise<CallApiResponse<ExternalVersionWithContent>>)"}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},path:{defaultValue:null,description:"",name:"path",required:!1,type:{name:"string"}},setAsCurrent:{defaultValue:{value:"true"},description:"",name:"setAsCurrent",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#fetchVersion"]={docgenInfo:fetchVersion.__docgenInfo,name:"fetchVersion",path:"src/reducers/versions.tsx#fetchVersion"})}catch(__react_docgen_typescript_loader_error){}try{fetchVersionFile.displayName="fetchVersionFile",fetchVersionFile.__docgenInfo={description:"",displayName:"fetchVersionFile",props:{_getVersionFileOnly:{defaultValue:{value:"async ({\n  addonId,\n  apiState,\n  path,\n  versionId,\n}: GetVersionParams) => {\n  return callApi<ResponseOnly<ExternalVersionWithContentFileOnly>>({\n    apiState,\n    endpoint: `reviewers/addon/${addonId}/versions/${versionId}`,\n    query: makeApiQuery(path, true),\n  });\n}"},description:"",name:"_getVersionFileOnly",required:!1,type:{name:"(({ addonId, apiState, path, versionId, }: GetVersionParams) => Promise<CallApiResponse<ExternalVersionWithContentFileOnly>>)"}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#fetchVersionFile"]={docgenInfo:fetchVersionFile.__docgenInfo,name:"fetchVersionFile",path:"src/reducers/versions.tsx#fetchVersionFile"})}catch(__react_docgen_typescript_loader_error){}try{fetchDiffFile.displayName="fetchDiffFile",fetchDiffFile.__docgenInfo={description:"",displayName:"fetchDiffFile",props:{_getDiffFileOnly:{defaultValue:{value:"async ({\n  addonId,\n  apiState,\n  baseVersionId,\n  headVersionId,\n  path,\n}: GetDiffParams) => {\n  return callApi<ResponseOnly<ExternalVersionWithDiffFileOnly>>({\n    apiState,\n    endpoint: `reviewers/addon/${addonId}/versions/${baseVersionId}/compare_to/${headVersionId}`,\n    query: makeApiQuery(path, true),\n  });\n}"},description:"",name:"_getDiffFileOnly",required:!1,type:{name:"(({ addonId, apiState, baseVersionId, headVersionId, path, }: GetDiffParams) => Promise<CallApiResponse<ExternalVersionWithDiffFileOnly>>)"}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},baseVersionId:{defaultValue:null,description:"",name:"baseVersionId",required:!0,type:{name:"number"}},headVersionId:{defaultValue:null,description:"",name:"headVersionId",required:!0,type:{name:"number"}},path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#fetchDiffFile"]={docgenInfo:fetchDiffFile.__docgenInfo,name:"fetchDiffFile",path:"src/reducers/versions.tsx#fetchDiffFile"})}catch(__react_docgen_typescript_loader_error){}try{createInternalVersionsListItem.displayName="createInternalVersionsListItem",createInternalVersionsListItem.__docgenInfo={description:"",displayName:"createInternalVersionsListItem",props:{channel:{defaultValue:null,description:"",name:"channel",required:!0,type:{name:"enum",value:[{value:'"unlisted"'},{value:'"listed"'}]}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#createInternalVersionsListItem"]={docgenInfo:createInternalVersionsListItem.__docgenInfo,name:"createInternalVersionsListItem",path:"src/reducers/versions.tsx#createInternalVersionsListItem"})}catch(__react_docgen_typescript_loader_error){}try{createVersionsMap.displayName="createVersionsMap",createVersionsMap.__docgenInfo={description:"",displayName:"createVersionsMap",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#createVersionsMap"]={docgenInfo:createVersionsMap.__docgenInfo,name:"createVersionsMap",path:"src/reducers/versions.tsx#createVersionsMap"})}catch(__react_docgen_typescript_loader_error){}try{fetchVersionsList.displayName="fetchVersionsList",fetchVersionsList.__docgenInfo={description:"",displayName:"fetchVersionsList",props:{_getVersionsList:{defaultValue:{value:"async ({\n  apiState,\n  addonId,\n}: GetVersionsListParams) => {\n  return callApi<ResponseOnly<ExternalVersionsList>>({\n    apiState,\n    endpoint: `reviewers/addon/${addonId}/versions/`,\n  });\n}"},description:"",name:"_getVersionsList",required:!1,type:{name:"(({ apiState, addonId, }: GetVersionsListParams) => Promise<CallApiResponse<ExternalVersionsList>>)"}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#fetchVersionsList"]={docgenInfo:fetchVersionsList.__docgenInfo,name:"fetchVersionsList",path:"src/reducers/versions.tsx#fetchVersionsList"})}catch(__react_docgen_typescript_loader_error){}try{fetchVersionWithDiff.displayName="fetchVersionWithDiff",fetchVersionWithDiff.__docgenInfo={description:"",displayName:"fetchVersionWithDiff",props:{_getDiff:{defaultValue:{value:"async ({\n  addonId,\n  apiState,\n  baseVersionId,\n  headVersionId,\n  path,\n}: GetDiffParams) => {\n  return callApi<ResponseOnly<ExternalVersionWithDiff>>({\n    apiState,\n    endpoint: `reviewers/addon/${addonId}/versions/${baseVersionId}/compare_to/${headVersionId}`,\n    query: makeApiQuery(path),\n  });\n}"},description:"",name:"_getDiff",required:!1,type:{name:"(({ addonId, apiState, baseVersionId, headVersionId, path, }: GetDiffParams) => Promise<CallApiResponse<ExternalVersionWithDiff>>)"}},addonId:{defaultValue:null,description:"",name:"addonId",required:!0,type:{name:"number"}},baseVersionId:{defaultValue:null,description:"",name:"baseVersionId",required:!0,type:{name:"number"}},forceReloadVersion:{defaultValue:null,description:"",name:"forceReloadVersion",required:!1,type:{name:"boolean"}},headVersionId:{defaultValue:null,description:"",name:"headVersionId",required:!0,type:{name:"number"}},path:{defaultValue:null,description:"",name:"path",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#fetchVersionWithDiff"]={docgenInfo:fetchVersionWithDiff.__docgenInfo,name:"fetchVersionWithDiff",path:"src/reducers/versions.tsx#fetchVersionWithDiff"})}catch(__react_docgen_typescript_loader_error){}try{viewVersionFile.displayName="viewVersionFile",viewVersionFile.__docgenInfo={description:"",displayName:"viewVersionFile",props:{preserveHash:{defaultValue:{value:"false"},description:"",name:"preserveHash",required:!1,type:{name:"boolean"}},selectedPath:{defaultValue:null,description:"",name:"selectedPath",required:!0,type:{name:"string"}},scrollTo:{defaultValue:null,description:"",name:"scrollTo",required:!1,type:{name:"enum",value:[{value:'"firstDiff"'},{value:'"lastDiff"'}]}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#viewVersionFile"]={docgenInfo:viewVersionFile.__docgenInfo,name:"viewVersionFile",path:"src/reducers/versions.tsx#viewVersionFile"})}catch(__react_docgen_typescript_loader_error){}try{goToRelativeDiff.displayName="goToRelativeDiff",goToRelativeDiff.__docgenInfo={description:"",displayName:"goToRelativeDiff",props:{_getRelativeDiff:{defaultValue:{value:"({\n  _findRelativePathWithDiff = findRelativePathWithDiff,\n  _getRelativeDiffAnchor = getRelativeDiffAnchor,\n  currentAnchor,\n  diff,\n  entryStatusMap,\n  pathList,\n  position,\n  selectedPath,\n  version,\n}: GetRelativeDiffParams): RelativeDiffResult => {\n  const result: RelativeDiffResult = {\n    anchor: diff\n      ? _getRelativeDiffAnchor({ currentAnchor, diff, position })\n      : null,\n    path: null,\n  };\n\n  if (!result.anchor && selectedPath) {\n    result.path = _findRelativePathWithDiff({\n      currentPath: selectedPath,\n      entryStatusMap,\n      pathList,\n      position,\n      version,\n    });\n  }\n\n  return result;\n}"},description:"",name:"_getRelativeDiff",required:!1,type:{name:"(({ _findRelativePathWithDiff, _getRelativeDiffAnchor, currentAnchor, diff, entryStatusMap, pathList, position, selectedPath, version, }: GetRelativeDiffParams) => RelativeDiffResult)"}},_viewVersionFile:{defaultValue:{value:"({\n  preserveHash = false,\n  selectedPath,\n  scrollTo,\n  versionId,\n}: ViewVersionFileParams): ThunkActionCreator => {\n  return async (dispatch, getState) => {\n    const { router } = getState();\n\n    const newLocation = {\n      ...router.location,\n      search: createAdjustedQueryString(router.location, {\n        path: selectedPath,\n        scrollTo,\n      }),\n    };\n\n    // We do not want to preserve the hash when we select a new file for\n    // instance, but we want to keep it when we load a file via its path.\n    if (!preserveHash) {\n      newLocation.hash = '';\n    }\n\n    dispatch(actions.updateSelectedPath({ versionId, selectedPath }));\n    dispatch(push(newLocation));\n  };\n}"},description:"",name:"_viewVersionFile",required:!1,type:{name:"(({ preserveHash, selectedPath, scrollTo, versionId, }: ViewVersionFileParams) => ThunkActionCreator<void>)"}},currentAnchor:{defaultValue:{value:""},description:"",name:"currentAnchor",required:!1,type:{name:"string"}},diff:{defaultValue:null,description:"",name:"diff",required:!0,type:{name:"any"}},pathList:{defaultValue:null,description:"",name:"pathList",required:!0,type:{name:"string[]"}},position:{defaultValue:{value:"RelativePathPosition.next"},description:"",name:"position",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"number"}},comparedToVersionId:{defaultValue:null,description:"",name:"comparedToVersionId",required:!0,type:{name:"number | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#goToRelativeDiff"]={docgenInfo:goToRelativeDiff.__docgenInfo,name:"goToRelativeDiff",path:"src/reducers/versions.tsx#goToRelativeDiff"})}catch(__react_docgen_typescript_loader_error){}try{getAddonName.displayName="getAddonName",getAddonName.__docgenInfo={description:"",displayName:"getAddonName",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#getAddonName"]={docgenInfo:getAddonName.__docgenInfo,name:"getAddonName",path:"src/reducers/versions.tsx#getAddonName"})}catch(__react_docgen_typescript_loader_error){}try{createReducer.displayName="createReducer",createReducer.__docgenInfo={description:"",displayName:"createReducer",props:{_getPrunedExpandedPaths:{defaultValue:{value:"(\n  expandedPaths: string[],\n  version: Version,\n) => {\n  const doesPathExist = createVersionPathChecker(version);\n  return expandedPaths.filter(doesPathExist);\n}"},description:"",name:"_getPrunedExpandedPaths",required:!1,type:{name:"((expandedPaths: string[], version: Version) => string[])"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reducers/versions.tsx#createReducer"]={docgenInfo:createReducer.__docgenInfo,name:"createReducer",path:"src/reducers/versions.tsx#createReducer"})}catch(__react_docgen_typescript_loader_error){}},"./src/refractor/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var refractor=__webpack_require__("./node_modules/refractor/index.js"),refractor_default=__webpack_require__.n(refractor),text_language_text=function text(Prism){Prism.languages.text={}};text_language_text.displayName="text",text_language_text.aliases=[];var text_language=text_language_text;try{text_language_text.displayName="text",text_language_text.__docgenInfo={description:"",displayName:"text",props:{languages:{defaultValue:null,description:"",name:"languages",required:!0,type:{name:"{ text: Record<string, unknown>; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/refractor/text-language.tsx#text"]={docgenInfo:text_language_text.__docgenInfo,name:"text",path:"src/refractor/text-language.tsx#text"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./src/refractor/prism.css"),__webpack_require__("./src/refractor/prism.overrides.scss");refractor_default.a.register(text_language);__webpack_exports__.a=refractor_default.a},"./src/refractor/prism.css":function(module,exports,__webpack_require__){},"./src/refractor/prism.overrides.scss":function(module,exports,__webpack_require__){},"./src/stories/fixtures/js-sample.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='/**\n * There was an error executing the script.\n * Display the popup\'s error message, and hide the normal UI.\n */\nfunction reportExecuteScriptError(error) {\n  document.querySelector("#popup-content").classList.add("hidden");\n  document.querySelector("#error-content").classList.remove("hidden");\n  console.error(`Failed to execute beastify content script: ${\n    error.message\n  }`);\n}\n\n/**\n * When the popup loads, inject a content script into the active tab,\n * and add a click handler.\n * If we couldn\'t inject the script, handle the error.\n */\nbrowser.tabs.executeScript({file: "/content_scripts/beastify.js"})\n  .then(listenForClicks)\n  .catch(reportExecuteScriptError);\n'},"./src/stories/fixtures/long-unbroken-minified-diff.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='"undefined"!=typeof browser&&(chrome=browser),function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1119)}({0:function(e,t,n){"use strict";e.exports=n(82)},1:function(e,t,n){e.exports=n(98)()},10:function(e,t,n){"use strict";var a=n(153),r="object"==typeof self&&self&&self.Object===Object&&self,i=(a.a||r||Function("return this")()).Symbol,s=Object.prototype,o=s.hasOwnProperty,l=s.toString,u=i?i.toStringTag:void 0;var c=function(e){var t=o.call(e,u),n=e[u];try{e[u]=void 0;var a=!0}catch(e){}var r=l.call(e);return a&&(t?e[u]=n:delete e[u]),r},d=Object.prototype.toString;var h=function(e){return d.call(e)},f="[object Null]",m="[object Undefined]",p=i?i.toStringTag:void 0;var _=function(e){return null==e?void 0===e?m:f:p&&p in Object(e)?c(e):h(e)};var g=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);'},"./src/storybook-utils.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return renderWithStoreAndRouter})),__webpack_require__.d(__webpack_exports__,"e",(function(){return newLinterMessageUID})),__webpack_require__.d(__webpack_exports__,"d",(function(){return loremIpsum})),__webpack_require__.d(__webpack_exports__,"c",(function(){return generateParagraphs})),__webpack_require__.d(__webpack_exports__,"a",(function(){return createOneLineComment})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createVeryLongComments}));__webpack_require__("./node_modules/react/index.js");var react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-router-dom/es/MemoryRouter.js"),_configureStore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/configureStore.tsx"),_test_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/test-helpers.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),renderWithStoreAndRouter=function renderWithStoreAndRouter(element){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_redux__WEBPACK_IMPORTED_MODULE_1__.Provider,{store:options.store?options.store:Object(_configureStore__WEBPACK_IMPORTED_MODULE_3__.a)(),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:options.location?[options.location]:void 0,children:element})})},newLinterMessageUID=function newLinterMessageUID(){return"msg-".concat(Object(_test_helpers__WEBPACK_IMPORTED_MODULE_4__.o)())},rootAttributeParams=function rootAttributeParams(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$fullscreen=_ref.fullscreen,fullscreen=void 0!==_ref$fullscreen&&_ref$fullscreen,defaultState={name:"Body is not set to fullscreen",value:null};return fullscreen&&(defaultState={name:"Body is set to fullscreen",value:"fullscreen"}),{rootAttribute:{root:"body",attribute:"class",defaultState:defaultState,states:[]}}},loremIpsum="\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\nquis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\nconsequat. Duis aute irure dolor in reprehenderit in voluptate velit esse\ncillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat\nnon proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n",generateParagraphs=function generateParagraphs(count){var _ref2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref2$text=_ref2.text,text=void 0===_ref2$text?loremIpsum:_ref2$text;return new Array(count).fill(text).map((function(p,i){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("p",{children:p},i)}))},createOneLineComment=function createOneLineComment(){return[Object(_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:23,comment:"This is a deprecated permission"})]},createVeryLongComments=function createVeryLongComments(){return new Array(10).fill(null).map((function(value,index){return Object(_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:index+1,comment:loremIpsum.trim()})}))};try{rootAttributeParams.displayName="rootAttributeParams",rootAttributeParams.__docgenInfo={description:"",displayName:"rootAttributeParams",props:{fullscreen:{defaultValue:{value:"false"},description:"",name:"fullscreen",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/storybook-utils.tsx#rootAttributeParams"]={docgenInfo:rootAttributeParams.__docgenInfo,name:"rootAttributeParams",path:"src/storybook-utils.tsx#rootAttributeParams"})}catch(__react_docgen_typescript_loader_error){}},"./src/styles.scss":function(module,exports,__webpack_require__){},"./src/test-helpers.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"o",(function(){return nextUniqueId})),__webpack_require__.d(__webpack_exports__,"k",(function(){return fakeVersionEntry})),__webpack_require__.d(__webpack_exports__,"l",(function(){return fakeVersionFileWithContent})),__webpack_require__.d(__webpack_exports__,"j",(function(){return fakeVersionAddon})),__webpack_require__.d(__webpack_exports__,"m",(function(){return fakeVersionWithContent})),__webpack_require__.d(__webpack_exports__,"i",(function(){return fakeUser})),__webpack_require__.d(__webpack_exports__,"h",(function(){return fakeExternalLinterMessage})),__webpack_require__.d(__webpack_exports__,"n",(function(){return fakeVersionsListItem})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createFakeExternalLinterResult})),__webpack_require__.d(__webpack_exports__,"c",(function(){return createFakeLocation})),__webpack_require__.d(__webpack_exports__,"g",(function(){return dispatchLoadVersionInfo})),__webpack_require__.d(__webpack_exports__,"d",(function(){return createStoreWithVersion})),__webpack_require__.d(__webpack_exports__,"a",(function(){return createFakeExternalComment})),__webpack_require__.d(__webpack_exports__,"f",(function(){return dispatchComments})),__webpack_require__.d(__webpack_exports__,"e",(function(){return createStoreWithVersionComments}));var _home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),path__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/path-browserify/index.js"),path__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__),query_string__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/query-string/index.js"),query_string__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_4__),prop_types__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/prop-types/index.js")),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),enzyme__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/enzyme/build/index.js"),typesafe_actions__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),__webpack_require__("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js")),_configureStore__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/configureStore.tsx"),_reducers_comments__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/reducers/comments.tsx"),_reducers_linter__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/reducers/linter.tsx"),_reducers_versions__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/reducers/versions.tsx"),_components_Commentable__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/components/Commentable/index.tsx"),_components_CommentList__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/components/CommentList/index.tsx"),_components_PopoverButton__WEBPACK_IMPORTED_MODULE_18__=(__webpack_require__("./src/components/LinterProvider/index.tsx"),__webpack_require__("./src/components/FullscreenGrid/ContentShell.tsx"),__webpack_require__("./src/components/PopoverButton/index.tsx")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["searchQuery"],_excluded2=["history","location","match"],_excluded3=["comment","store"],_uniqueId=0,nextUniqueId=function nextUniqueId(){return++_uniqueId},fakeVersionEntry=Object.freeze({depth:0,filename:"manifest.json",mime_category:"text",path:"manifest.json",status:"M"}),partialFakeVersionFile={download_url:"https://example.org/download/manifest.json",filename:"manifest.json",id:789,mime_category:"text",mimetype:"application/json",selected_file:"manifest.json",sha256:"some-sha",size:123,uses_unknown_minified_code:!1},fakeVersionFileWithContent=Object.freeze(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},partialFakeVersionFile),{},{content:"some file content"})),fakeExternalDiff=Object.freeze({path:"manifest.json",size:172,lines_added:2,lines_deleted:2,is_binary:!1,mode:"M",hunks:[{header:"@@ -1,6 +1,6 @@",old_start:1,new_start:1,old_lines:6,new_lines:6,changes:[{content:"{",type:"normal",old_line_number:1,new_line_number:1},{content:'    "manifest_version": 2,',type:"normal",old_line_number:2,new_line_number:2},{content:'    "version": "7",',type:"delete",old_line_number:3,new_line_number:-1},{content:'    "version": "8",',type:"insert",old_line_number:-1,new_line_number:3},{content:'    "name": "Awesome Screenshot - Capture, Annotate & More",',type:"normal",old_line_number:4,new_line_number:4},{content:'    "description": "this is a new description"',type:"delete",old_line_number:5,new_line_number:-1},{content:'    "description": "this is a new version with files"',type:"insert",old_line_number:-1,new_line_number:5},{content:"}",type:"normal",old_line_number:6,new_line_number:6}]}],old_path:"manifest.json",parent:"514a8bd3cfb1ccae67dff61e3ea174bb444dfb00",hash:"054771578d3a903264bfd16ba71e5b4808a6764b",old_ending_new_line:!0,new_ending_new_line:!1}),fakeVersionFileWithDiff=Object.freeze(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},partialFakeVersionFile),{},{diff:fakeExternalDiff})),fakeVersionAddon=Object.freeze({icon_url:"some-icon-url",id:111,name:{"en-US":"addon name"},slug:"addon-slug"}),partialFakeVersion={addon:fakeVersionAddon,channel:"some channel",file_entries:{"manifest.json":fakeVersionEntry},has_been_validated:!0,id:123,reviewed:"2017-08-15T12:01:13Z",url:"http://example.com/",validation_url:"http://example.com/validation/",validation_url_json:"http://example.com/validation/json/",version:"1.0"},fakeVersionWithContent=Object.freeze(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},partialFakeVersion),{},{file:fakeVersionFileWithContent})),createExternalVersionWithEntries=function createExternalVersionWithEntries(partialEntries){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$addonId=_ref.addonId,addonId=void 0===_ref$addonId?nextUniqueId():_ref$addonId,_ref$diff=_ref.diff,diff=void 0===_ref$diff?null:_ref$diff,_ref$id=_ref.id,id=void 0===_ref$id?fakeVersionWithContent.id:_ref$id,_ref$selected_file=_ref.selected_file,selected_file=void 0===_ref$selected_file?fakeVersionWithContent.file.selected_file:_ref$selected_file;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersionWithContent),{},{id:id,addon:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersionAddon),{},{id:addonId}),file:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersionWithContent.file),{},{diff:diff,selected_file:selected_file}),file_entries:partialEntries.reduce((function(entries,file){return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},entries),{},Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)({},file.path,Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersionEntry),{},{filename:path__WEBPACK_IMPORTED_MODULE_3___default.a.basename(file.path)},file)))}),{})})},createVersionWithInternalEntries=function createVersionWithInternalEntries(entries){return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_13__.e)(fakeVersionWithContent)),{},{id:nextUniqueId(),entries:entries})},createVersionWithEntries=function createVersionWithEntries(){return Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_13__.e)(createExternalVersionWithEntries.apply(void 0,arguments))},createVersionAndEntryStatusMap=function createVersionAndEntryStatusMap(){var externalVersion=createExternalVersionWithEntries.apply(void 0,arguments);return{version:Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_13__.e)(externalVersion),entryStatusMap:Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_13__.d)(externalVersion)}},getFakeVersionAndPathList=function getFakeVersionAndPathList(entries){var pathList=entries.map((function(e){return e.path})),externalEntries=entries.map((function(params){return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersionEntry),{},{mime_category:"text"},params),{},{filename:params.path})})),_createVersionAndEntr=createVersionAndEntryStatusMap(externalEntries),version=_createVersionAndEntr.version,entryStatusMap=_createVersionAndEntr.entryStatusMap;return version.selectedPath=pathList[0],{entryStatusMap:entryStatusMap,pathList:pathList,version:version}},fakeUser=Object.freeze({average_addon_rating:4.3,biography:"I love making add-ons!",created:"2017-08-15T12:01:13Z",display_name:null,email:"bob@somewhere.com",fxa_edit_email_url:"https://example.com/settings",has_anonymous_display_name:!1,has_anonymous_username:!1,homepage:null,id:1,is_addon_developer:!1,is_artist:!1,location:null,name:"Bob",num_addons_listed:1,occupation:null,permissions:["a-fake-permission"],picture_type:"",picture_url:"https://example.com/anon_user.png",url:null,username:"user-1234"}),fakeExternalLinterMessage=Object.freeze({column:2,context:["<code>"],description:"To prevent vulnerabilities...",file:"chrome/content/youtune.js",for_appversions:{"{ec8030f7-c20a-464f-9b0e-13a3a9e97384}":["4.0b1"]},id:["UNSAFE_VAR_ASSIGNMENT"],line:226,message:"on* attribute being set using setAttribute",tier:3,type:"notice",uid:"9a07163bb74e476c96a2bd467a2bbe52"}),fakeExternalLinterResult=Object.freeze({error:null,full_report_url:"/upload/d5d993a5a2fa4b759ae2fa3b2eda2a38",upload:"d5d993a5a2fa4b759ae2fa3b2eda2a38",url:"/upload/d5d993a5a2fa4b759ae2fa3b2eda2a38/json",validation:{detected_type:"extension",ending_tier:5,errors:0,message_tree:{},messages:[fakeExternalLinterMessage],metadata:{},notices:2,success:!1,warnings:5}}),fakeVersionWithDiff=Object.freeze(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},partialFakeVersion),{},{file:fakeVersionFileWithDiff})),fakeVersionsListItem=(Object.freeze({id:fakeVersionWithDiff.id,file:fakeVersionWithDiff.file}),{id:nextUniqueId(),channel:"unlisted",version:"1.5.0"}),createFakeExternalLinterResult=(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersionsListItem),{},{id:nextUniqueId(),channel:"unlisted",version:"1.5.0"}),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersionsListItem),{},{id:nextUniqueId(),channel:"listed",version:"1.4.0"}),Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersionsListItem),{},{id:nextUniqueId(),channel:"listed",version:"1.3.0"}),function createFakeExternalLinterResult(_ref2){var messages=_ref2.messages;return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeExternalLinterResult),{},{validation:Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeExternalLinterResult.validation),{},{messages:messages.map((function(msg){return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeExternalLinterMessage),msg)}))})})}),createFakeLinterMessagesByPath=function createFakeLinterMessagesByPath(_ref3){var messages=_ref3.messages,_ref3$path=_ref3.path,path=void 0===_ref3$path?"scripts/background.js":_ref3$path,map=Object(_reducers_linter__WEBPACK_IMPORTED_MODULE_12__.f)(createFakeExternalLinterResult({messages:messages.map((function(msg){return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},msg),{},{file:path})}))}));if(!map.byPath[path])throw new Error('Somehow no messages were mapped to path "'.concat(path,'"'));return map.byPath[path]},createFakeLocation=function createFakeLocation(){var _ref4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},searchQuery=_ref4.searchQuery,props=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref4,_excluded);return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({hash:"",key:"some-key",pathname:"/some/url",search:searchQuery?"?".concat(query_string__WEBPACK_IMPORTED_MODULE_4___default.a.stringify(searchQuery)):"",state:{}},props)},createFakeHistory=function createFakeHistory(){var _ref5=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref5$location=_ref5.location,location=void 0===_ref5$location?createFakeLocation():_ref5$location;return{action:"PUSH",block:jest.fn(),createHref:jest.fn(),go:jest.fn(),goBack:jest.fn(),goForward:jest.fn(),length:1,listen:jest.fn(),location:location,push:jest.fn(),replace:jest.fn()}},createContextWithFakeRouter=function createContextWithFakeRouter(){var _ref6=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref6$history=_ref6.history,history=void 0===_ref6$history?createFakeHistory():_ref6$history,_ref6$location=_ref6.location,location=void 0===_ref6$location?null:_ref6$location,_ref6$match=_ref6.match,match=void 0===_ref6$match?{}:_ref6$match,overrides=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref6,_excluded2);return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({context:{router:{history:history,route:{location:location||history.location,match:match}}},childContextTypes:{router:prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.object.isRequired}},overrides)},thunkTester=function thunkTester(_ref8){var _ref8$store=_ref8.store,store=void 0===_ref8$store?Object(_configureStore__WEBPACK_IMPORTED_MODULE_10__.a)():_ref8$store,_thunk=(0,_ref8.createThunk)(),dispatch=jest.fn();return{dispatch:dispatch,thunk:function thunk(){return _thunk(dispatch,(function(){return store.getState()}),void 0)},store:store}},createFakeEvent=function createFakeEvent(){var extraProps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({currentTarget:jest.fn(),preventDefault:jest.fn(),stopPropagation:jest.fn(),target:jest.fn()},extraProps)},createFakeChangeEvent=function createFakeChangeEvent(_ref9){var name=_ref9.name,value=_ref9.value;return createFakeEvent({target:{name:name,value:value}})},createKeydownEvent=function createKeydownEvent(_ref10){var _ref10$altKey=_ref10.altKey,altKey=void 0!==_ref10$altKey&&_ref10$altKey,_ref10$ctrlKey=_ref10.ctrlKey,ctrlKey=void 0!==_ref10$ctrlKey&&_ref10$ctrlKey,key=_ref10.key,_ref10$metaKey=_ref10.metaKey,metaKey=void 0!==_ref10$metaKey&&_ref10$metaKey,_ref10$shiftKey=_ref10.shiftKey;return new KeyboardEvent("keydown",{altKey:altKey,ctrlKey:ctrlKey,key:key,metaKey:metaKey,shiftKey:void 0!==_ref10$shiftKey&&_ref10$shiftKey})},multiRenderPropSimulator=function multiRenderPropSimulator(_ref12){var Component=_ref12.Component,renderArgValue=_ref12.renderArgValue,shell=_ref12.root.find(Component);return{shell:shell,renderContent:function renderContent(){var oneShell=arguments.length>0&&void 0!==arguments[0]?arguments[0]:shell,render=oneShell.renderProp("children");return render(renderArgValue)}}},simulateCommentable=function simulateCommentable(_ref13){var _ref13$addCommentButt=_ref13.addCommentButton,addCommentButton=void 0===_ref13$addCommentButt?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("button",{type:"button",children:"Add"}):_ref13$addCommentButt,root=_ref13.root;return multiRenderPropSimulator({Component:_components_Commentable__WEBPACK_IMPORTED_MODULE_14__.b,renderArgValue:addCommentButton,root:root})},simulateCommentList=function simulateCommentList(_ref14){var _ref14$commentList=_ref14.commentList,commentList=void 0===_ref14$commentList?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("div",{}):_ref14$commentList,root=_ref14.root;return multiRenderPropSimulator({Component:_components_CommentList__WEBPACK_IMPORTED_MODULE_15__.a,renderArgValue:commentList,root:root})},dispatchLoadVersionInfo=function dispatchLoadVersionInfo(_ref16){var store=_ref16.store,_ref16$updatePathInfo=_ref16.updatePathInfo,updatePathInfo=void 0===_ref16$updatePathInfo||_ref16$updatePathInfo,version=_ref16.version;store.dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_13__.b.loadVersionInfo({updatePathInfo:updatePathInfo,version:version}))},createStoreWithVersion=function createStoreWithVersion(){var _ref17=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref17$version=_ref17.version,version=void 0===_ref17$version?fakeVersionWithContent:_ref17$version,_ref17$makeCurrent=_ref17.makeCurrent,makeCurrent=void 0!==_ref17$makeCurrent&&_ref17$makeCurrent,store=Object(_configureStore__WEBPACK_IMPORTED_MODULE_10__.a)();return dispatchLoadVersionInfo({store:store,version:version}),makeCurrent&&store.dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_13__.b.setCurrentVersionId({versionId:version.id})),store},createFakeExternalComment=function createFakeExternalComment(){var comment=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({canned_response:null,comment:"Example comment about some code",id:nextUniqueId(),lineno:null,filename:null,user:{id:1,name:null,url:null,username:"some_user"},version_id:nextUniqueId()},comment)},createFakeComment=function createFakeComment(){var comment=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_11__.c)(createFakeExternalComment())),comment)},dispatchComments=(Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_9__.createAction)("FAKE_ACTION"),function dispatchComments(){var _ref19=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref19$store=_ref19.store,store=void 0===_ref19$store?Object(_configureStore__WEBPACK_IMPORTED_MODULE_10__.a)():_ref19$store,_ref19$comments=_ref19.comments,comments=void 0===_ref19$comments?[createFakeExternalComment()]:_ref19$comments,_ref19$versionId=_ref19.versionId,versionId=void 0===_ref19$versionId?nextUniqueId():_ref19$versionId;return store.dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_11__.a.setComments({versionId:versionId,comments:comments})),{store:store}}),dispatchComment=function dispatchComment(){var _ref20=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref20$comment=_ref20.comment,comment=void 0===_ref20$comment?createFakeExternalComment():_ref20$comment,_ref20$store=_ref20.store,store=void 0===_ref20$store?Object(_configureStore__WEBPACK_IMPORTED_MODULE_10__.a)():_ref20$store,params=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref20,_excluded3);return dispatchComments(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({comments:[comment],store:store},params))},createStoreWithVersionComments=function createStoreWithVersionComments(){var _ref21=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref21$versionId=_ref21.versionId,versionId=void 0===_ref21$versionId?1:_ref21$versionId,_ref21$comments=_ref21.comments,comments=void 0===_ref21$comments?[createFakeExternalComment()]:_ref21$comments,version=Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_circleci_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},fakeVersionWithContent),{},{id:versionId}),store=createStoreWithVersion({version:version,makeCurrent:!0});return dispatchComments({versionId:versionId,store:store,comments:comments}),store},createFakeApiPage=function createFakeApiPage(){var _ref22=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref22$next=_ref22.next,next=void 0===_ref22$next?null:_ref22$next,_ref22$previous=_ref22.previous,previous=void 0===_ref22$previous?null:_ref22$previous,_ref22$page_size=_ref22.page_size,page_size=void 0===_ref22$page_size?25:_ref22$page_size,_ref22$results=_ref22.results,results=void 0===_ref22$results?[]:_ref22$results,_ref22$count=_ref22.count,count=void 0===_ref22$count?results.length:_ref22$count,_ref22$page_count=_ref22.page_count,page_count=void 0===_ref22$page_count?count>page_size?Math.ceil(count/page_size):1:_ref22$page_count;return{count:count,next:next,page_count:page_count,page_size:page_size,previous:previous,results:results}},createFakeCommentsResponse=function createFakeCommentsResponse(){var results=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[createFakeExternalComment()];return createFakeApiPage({results:results})},createErrorResponse=function createErrorResponse(){var errorResponse=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:new Error("Example error")};return errorResponse},getInstance=function getInstance(root){return root.instance()},simulatePopover=function simulatePopover(root){var popover=root.find(_components_PopoverButton__WEBPACK_IMPORTED_MODULE_18__.b);return expect(popover).toHaveProp("content"),{content:Object(enzyme__WEBPACK_IMPORTED_MODULE_7__.shallow)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("div",{children:popover.prop("content")})),popover:popover}};Object.freeze({content:"change-content",isDelete:!1,isInsert:!0,isNormal:!1,lineNumber:1,newLineNumber:void 0,oldLineNumber:1,type:"insert"}),Object.freeze({content:"change-content",new_line_number:1,old_line_number:1,type:"normal"}),Object.freeze({new:[{type:"token type",value:"token value"}],old:[{type:"token type",value:"token value"}]});try{createVersionWithInternalEntries.displayName="createVersionWithInternalEntries",createVersionWithInternalEntries.__docgenInfo={description:"",displayName:"createVersionWithInternalEntries",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createVersionWithInternalEntries"]={docgenInfo:createVersionWithInternalEntries.__docgenInfo,name:"createVersionWithInternalEntries",path:"src/test-helpers.tsx#createVersionWithInternalEntries"})}catch(__react_docgen_typescript_loader_error){}try{createVersionWithEntries.displayName="createVersionWithEntries",createVersionWithEntries.__docgenInfo={description:"",displayName:"createVersionWithEntries",props:{0:{defaultValue:null,description:"",name:"0",required:!0,type:{name:"({ path: string; } & Partial<ExternalVersionEntry>)[]"}},1:{defaultValue:null,description:"",name:"1",required:!1,type:{name:"{ addonId?: number; diff?: Readonly<{ path: string; size: number; lines_added: number; lines_deleted: number; is_binary: boolean; mode: string; hunks: { header: string; old_start: number; new_start: number; old_lines: number; new_lines: number; changes: { ...; }[]; }[]; ... 4 more ...; new_ending_new_lin..."}},length:{defaultValue:null,description:"",name:"length",required:!0,type:{name:"enum",value:[{value:"2"},{value:"1"}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createVersionWithEntries"]={docgenInfo:createVersionWithEntries.__docgenInfo,name:"createVersionWithEntries",path:"src/test-helpers.tsx#createVersionWithEntries"})}catch(__react_docgen_typescript_loader_error){}try{createVersionAndEntryStatusMap.displayName="createVersionAndEntryStatusMap",createVersionAndEntryStatusMap.__docgenInfo={description:"",displayName:"createVersionAndEntryStatusMap",props:{0:{defaultValue:null,description:"",name:"0",required:!0,type:{name:"({ path: string; } & Partial<ExternalVersionEntry>)[]"}},1:{defaultValue:null,description:"",name:"1",required:!1,type:{name:"{ addonId?: number; diff?: Readonly<{ path: string; size: number; lines_added: number; lines_deleted: number; is_binary: boolean; mode: string; hunks: { header: string; old_start: number; new_start: number; old_lines: number; new_lines: number; changes: { ...; }[]; }[]; ... 4 more ...; new_ending_new_lin..."}},length:{defaultValue:null,description:"",name:"length",required:!0,type:{name:"enum",value:[{value:"2"},{value:"1"}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createVersionAndEntryStatusMap"]={docgenInfo:createVersionAndEntryStatusMap.__docgenInfo,name:"createVersionAndEntryStatusMap",path:"src/test-helpers.tsx#createVersionAndEntryStatusMap"})}catch(__react_docgen_typescript_loader_error){}try{getFakeVersionAndPathList.displayName="getFakeVersionAndPathList",getFakeVersionAndPathList.__docgenInfo={description:"",displayName:"getFakeVersionAndPathList",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#getFakeVersionAndPathList"]={docgenInfo:getFakeVersionAndPathList.__docgenInfo,name:"getFakeVersionAndPathList",path:"src/test-helpers.tsx#getFakeVersionAndPathList"})}catch(__react_docgen_typescript_loader_error){}try{createFakeExternalLinterResult.displayName="createFakeExternalLinterResult",createFakeExternalLinterResult.__docgenInfo={description:"",displayName:"createFakeExternalLinterResult",props:{messages:{defaultValue:null,description:"",name:"messages",required:!0,type:{name:"Partial<ExternalLinterMessage>[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createFakeExternalLinterResult"]={docgenInfo:createFakeExternalLinterResult.__docgenInfo,name:"createFakeExternalLinterResult",path:"src/test-helpers.tsx#createFakeExternalLinterResult"})}catch(__react_docgen_typescript_loader_error){}try{createFakeLinterMessagesByPath.displayName="createFakeLinterMessagesByPath",createFakeLinterMessagesByPath.__docgenInfo={description:"",displayName:"createFakeLinterMessagesByPath",props:{messages:{defaultValue:null,description:"",name:"messages",required:!0,type:{name:"Partial<ExternalLinterMessage>[]"}},path:{defaultValue:{value:"scripts/background.js"},description:"",name:"path",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createFakeLinterMessagesByPath"]={docgenInfo:createFakeLinterMessagesByPath.__docgenInfo,name:"createFakeLinterMessagesByPath",path:"src/test-helpers.tsx#createFakeLinterMessagesByPath"})}catch(__react_docgen_typescript_loader_error){}try{createFakeLocation.displayName="createFakeLocation",createFakeLocation.__docgenInfo={description:"",displayName:"createFakeLocation",props:{searchQuery:{defaultValue:null,description:"",name:"searchQuery",required:!1,type:{name:"Record<string, string>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createFakeLocation"]={docgenInfo:createFakeLocation.__docgenInfo,name:"createFakeLocation",path:"src/test-helpers.tsx#createFakeLocation"})}catch(__react_docgen_typescript_loader_error){}try{createFakeHistory.displayName="createFakeHistory",createFakeHistory.__docgenInfo={description:"",displayName:"createFakeHistory",props:{location:{defaultValue:{value:"null as Location | null"},description:"",name:"location",required:!1,type:{name:"Location<unknown>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createFakeHistory"]={docgenInfo:createFakeHistory.__docgenInfo,name:"createFakeHistory",path:"src/test-helpers.tsx#createFakeHistory"})}catch(__react_docgen_typescript_loader_error){}try{createContextWithFakeRouter.displayName="createContextWithFakeRouter",createContextWithFakeRouter.__docgenInfo={description:"",displayName:"createContextWithFakeRouter",props:{history:{defaultValue:{value:"createFakeHistory()"},description:"",name:"history",required:!1,type:{name:"History<unknown>"}},location:{defaultValue:{value:"null as Location | null"},description:"",name:"location",required:!1,type:{name:"Location<unknown> | null"}},match:{defaultValue:{value:"{}"},description:"",name:"match",required:!1,type:{name:"{}"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createContextWithFakeRouter"]={docgenInfo:createContextWithFakeRouter.__docgenInfo,name:"createContextWithFakeRouter",path:"src/test-helpers.tsx#createContextWithFakeRouter"})}catch(__react_docgen_typescript_loader_error){}try{thunkTester.displayName="thunkTester",thunkTester.__docgenInfo={description:"",displayName:"thunkTester",props:{store:{defaultValue:{value:"configureStore()"},description:"",name:"store",required:!1,type:{name:"Store<ApplicationState, AnyAction>"}},createThunk:{defaultValue:null,description:"",name:"createThunk",required:!0,type:{name:"() => ThunkActionCreator<void>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#thunkTester"]={docgenInfo:thunkTester.__docgenInfo,name:"thunkTester",path:"src/test-helpers.tsx#thunkTester"})}catch(__react_docgen_typescript_loader_error){}try{createFakeEvent.displayName="createFakeEvent",createFakeEvent.__docgenInfo={description:"",displayName:"createFakeEvent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createFakeEvent"]={docgenInfo:createFakeEvent.__docgenInfo,name:"createFakeEvent",path:"src/test-helpers.tsx#createFakeEvent"})}catch(__react_docgen_typescript_loader_error){}try{createFakeChangeEvent.displayName="createFakeChangeEvent",createFakeChangeEvent.__docgenInfo={description:"",displayName:"createFakeChangeEvent",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createFakeChangeEvent"]={docgenInfo:createFakeChangeEvent.__docgenInfo,name:"createFakeChangeEvent",path:"src/test-helpers.tsx#createFakeChangeEvent"})}catch(__react_docgen_typescript_loader_error){}try{createKeydownEvent.displayName="createKeydownEvent",createKeydownEvent.__docgenInfo={description:"",displayName:"createKeydownEvent",props:{altKey:{defaultValue:{value:"false"},description:"",name:"altKey",required:!1,type:{name:"boolean"}},ctrlKey:{defaultValue:{value:"false"},description:"",name:"ctrlKey",required:!1,type:{name:"boolean"}},key:{defaultValue:null,description:"",name:"key",required:!0,type:{name:"string"}},metaKey:{defaultValue:{value:"false"},description:"",name:"metaKey",required:!1,type:{name:"boolean"}},shiftKey:{defaultValue:{value:"false"},description:"",name:"shiftKey",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createKeydownEvent"]={docgenInfo:createKeydownEvent.__docgenInfo,name:"createKeydownEvent",path:"src/test-helpers.tsx#createKeydownEvent"})}catch(__react_docgen_typescript_loader_error){}try{simulateCommentable.displayName="simulateCommentable",simulateCommentable.__docgenInfo={description:"",displayName:"simulateCommentable",props:{addCommentButton:{defaultValue:{value:'<button type="button">Add</button>'},description:"",name:"addCommentButton",required:!1,type:{name:"Element"}},root:{defaultValue:null,description:"",name:"root",required:!0,type:{name:"ShallowWrapper<{}, {}, Component<{}, {}, any>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#simulateCommentable"]={docgenInfo:simulateCommentable.__docgenInfo,name:"simulateCommentable",path:"src/test-helpers.tsx#simulateCommentable"})}catch(__react_docgen_typescript_loader_error){}try{simulateCommentList.displayName="simulateCommentList",simulateCommentList.__docgenInfo={description:"",displayName:"simulateCommentList",props:{commentList:{defaultValue:{value:"<div />"},description:"",name:"commentList",required:!1,type:{name:"Element"}},root:{defaultValue:null,description:"",name:"root",required:!0,type:{name:"ShallowWrapper<{}, {}, Component<{}, {}, any>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#simulateCommentList"]={docgenInfo:simulateCommentList.__docgenInfo,name:"simulateCommentList",path:"src/test-helpers.tsx#simulateCommentList"})}catch(__react_docgen_typescript_loader_error){}try{dispatchLoadVersionInfo.displayName="dispatchLoadVersionInfo",dispatchLoadVersionInfo.__docgenInfo={description:"",displayName:"dispatchLoadVersionInfo",props:{store:{defaultValue:{value:"configureStore()"},description:"",name:"store",required:!1,type:{name:"Store<ApplicationState, AnyAction>"}},updatePathInfo:{defaultValue:{value:"true"},description:"",name:"updatePathInfo",required:!1,type:{name:"boolean"}},version:{defaultValue:{value:"Object.freeze(\n  {\n    ...partialFakeVersion,\n    file: fakeVersionFileWithContent,\n  },\n)"},description:"",name:"version",required:!1,type:{name:"ExternalVersionWithContent | ExternalVersionWithDiff"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#dispatchLoadVersionInfo"]={docgenInfo:dispatchLoadVersionInfo.__docgenInfo,name:"dispatchLoadVersionInfo",path:"src/test-helpers.tsx#dispatchLoadVersionInfo"})}catch(__react_docgen_typescript_loader_error){}try{createStoreWithVersion.displayName="createStoreWithVersion",createStoreWithVersion.__docgenInfo={description:"",displayName:"createStoreWithVersion",props:{version:{defaultValue:{value:"Object.freeze(\n  {\n    ...partialFakeVersion,\n    file: fakeVersionFileWithContent,\n  },\n)"},description:"",name:"version",required:!1,type:{name:"ExternalVersionWithContent | ExternalVersionWithDiff"}},makeCurrent:{defaultValue:{value:"false"},description:"",name:"makeCurrent",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createStoreWithVersion"]={docgenInfo:createStoreWithVersion.__docgenInfo,name:"createStoreWithVersion",path:"src/test-helpers.tsx#createStoreWithVersion"})}catch(__react_docgen_typescript_loader_error){}try{createFakeExternalComment.displayName="createFakeExternalComment",createFakeExternalComment.__docgenInfo={description:"",displayName:"createFakeExternalComment",props:{filename:{defaultValue:null,description:"",name:"filename",required:!1,type:{name:"string | null"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"number"}},lineno:{defaultValue:null,description:"",name:"lineno",required:!1,type:{name:"number | null"}},canned_response:{defaultValue:null,description:"",name:"canned_response",required:!1,type:{name:"ExternalCannedResponse | null"}},comment:{defaultValue:{value:"createFakeExternalComment()"},description:"",name:"comment",required:!1,type:{name:"string | null"}},user:{defaultValue:null,description:"",name:"user",required:!1,type:{name:"{ id: number; name: string | null; url: string | null; username: string; }"}},version_id:{defaultValue:null,description:"",name:"version_id",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createFakeExternalComment"]={docgenInfo:createFakeExternalComment.__docgenInfo,name:"createFakeExternalComment",path:"src/test-helpers.tsx#createFakeExternalComment"})}catch(__react_docgen_typescript_loader_error){}try{createFakeComment.displayName="createFakeComment",createFakeComment.__docgenInfo={description:"",displayName:"createFakeComment",props:{filename:{defaultValue:null,description:"",name:"filename",required:!1,type:{name:"string | null"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"number"}},lineno:{defaultValue:null,description:"",name:"lineno",required:!1,type:{name:"number | null"}},beginDelete:{defaultValue:null,description:"",name:"beginDelete",required:!1,type:{name:"boolean"}},considerDelete:{defaultValue:null,description:"",name:"considerDelete",required:!1,type:{name:"boolean"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"string | null"}},userId:{defaultValue:null,description:"",name:"userId",required:!1,type:{name:"number"}},userName:{defaultValue:null,description:"",name:"userName",required:!1,type:{name:"string | null"}},userUrl:{defaultValue:null,description:"",name:"userUrl",required:!1,type:{name:"string | null"}},userUsername:{defaultValue:null,description:"",name:"userUsername",required:!1,type:{name:"string"}},versionId:{defaultValue:{value:"1"},description:"",name:"versionId",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createFakeComment"]={docgenInfo:createFakeComment.__docgenInfo,name:"createFakeComment",path:"src/test-helpers.tsx#createFakeComment"})}catch(__react_docgen_typescript_loader_error){}try{dispatchComments.displayName="dispatchComments",dispatchComments.__docgenInfo={description:"",displayName:"dispatchComments",props:{store:{defaultValue:{value:"configureStore()"},description:"",name:"store",required:!1,type:{name:"Store<any, AnyAction>"}},comments:{defaultValue:{value:"[createFakeExternalComment()]"},description:"",name:"comments",required:!1,type:{name:"ExternalComment[]"}},versionId:{defaultValue:{value:"1"},description:"",name:"versionId",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#dispatchComments"]={docgenInfo:dispatchComments.__docgenInfo,name:"dispatchComments",path:"src/test-helpers.tsx#dispatchComments"})}catch(__react_docgen_typescript_loader_error){}try{dispatchComment.displayName="dispatchComment",dispatchComment.__docgenInfo={description:"",displayName:"dispatchComment",props:{comment:{defaultValue:{value:"createFakeExternalComment()"},description:"",name:"comment",required:!1,type:{name:"ExternalComment"}},versionId:{defaultValue:{value:"1"},description:"",name:"versionId",required:!1,type:{name:"number"}},store:{defaultValue:{value:"configureStore()"},description:"",name:"store",required:!1,type:{name:"Store<any, AnyAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#dispatchComment"]={docgenInfo:dispatchComment.__docgenInfo,name:"dispatchComment",path:"src/test-helpers.tsx#dispatchComment"})}catch(__react_docgen_typescript_loader_error){}try{createStoreWithVersionComments.displayName="createStoreWithVersionComments",createStoreWithVersionComments.__docgenInfo={description:"",displayName:"createStoreWithVersionComments",props:{versionId:{defaultValue:{value:"1"},description:"",name:"versionId",required:!1,type:{name:"number"}},comments:{defaultValue:{value:"[createFakeExternalComment()]"},description:"",name:"comments",required:!1,type:{name:"{ filename: string | null; id: number; lineno: number | null; canned_response: ExternalCannedResponse | null; comment: string | null; user: { id: number; name: string | null; url: string | null; username: string; } | { ...; }; version_id: number; }[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createStoreWithVersionComments"]={docgenInfo:createStoreWithVersionComments.__docgenInfo,name:"createStoreWithVersionComments",path:"src/test-helpers.tsx#createStoreWithVersionComments"})}catch(__react_docgen_typescript_loader_error){}try{createFakeApiPage.displayName="createFakeApiPage",createFakeApiPage.__docgenInfo={description:"",displayName:"createFakeApiPage",props:{count:{defaultValue:{value:"results.length"},description:"",name:"count",required:!1,type:{name:"number"}},next:{defaultValue:{value:"null"},description:"",name:"next",required:!1,type:{name:"string | null"}},page_count:{defaultValue:{value:"count > page_size ? Math.ceil(count / page_size) : 1"},description:"",name:"page_count",required:!1,type:{name:"number"}},page_size:{defaultValue:{value:"25"},description:"",name:"page_size",required:!1,type:{name:"number"}},previous:{defaultValue:{value:"null"},description:"",name:"previous",required:!1,type:{name:"string | null"}},results:{defaultValue:{value:"[]"},description:"",name:"results",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createFakeApiPage"]={docgenInfo:createFakeApiPage.__docgenInfo,name:"createFakeApiPage",path:"src/test-helpers.tsx#createFakeApiPage"})}catch(__react_docgen_typescript_loader_error){}try{createFakeCommentsResponse.displayName="createFakeCommentsResponse",createFakeCommentsResponse.__docgenInfo={description:"",displayName:"createFakeCommentsResponse",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createFakeCommentsResponse"]={docgenInfo:createFakeCommentsResponse.__docgenInfo,name:"createFakeCommentsResponse",path:"src/test-helpers.tsx#createFakeCommentsResponse"})}catch(__react_docgen_typescript_loader_error){}try{createErrorResponse.displayName="createErrorResponse",createErrorResponse.__docgenInfo={description:"",displayName:"createErrorResponse",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"Error"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#createErrorResponse"]={docgenInfo:createErrorResponse.__docgenInfo,name:"createErrorResponse",path:"src/test-helpers.tsx#createErrorResponse"})}catch(__react_docgen_typescript_loader_error){}try{getInstance.displayName="getInstance",getInstance.__docgenInfo={description:"",displayName:"getInstance",props:{shallow:{defaultValue:null,description:"",name:"shallow",required:!0,type:{name:"(options?: ShallowRendererProps | undefined) => ShallowWrapper<{}, {}, Component<{}, {}, any>>"}},unmount:{defaultValue:null,description:"",name:"unmount",required:!0,type:{name:"() => ShallowWrapper<{}, {}, Component<{}, {}, any>>"}},find:{defaultValue:null,description:"Find every node in the render tree that matches the provided selector.\n@param selector The selector to match.",name:"find",required:!0,type:{name:"{ <P2>(statelessComponent: StatelessComponent<P2>): ShallowWrapper<P2, never, Component<{}, {}, any>>; <P2>(component: ComponentType<P2>): ShallowWrapper<...>; <C2 extends Component<...>>(componentClass: ComponentClass<...>): ShallowWrapper<...>; (props: EnzymePropSelector): ShallowWrapper<...>; (selector: string): ..."}},filter:{defaultValue:null,description:"Removes nodes in the current wrapper that do not match the provided selector.\n@param selector The selector to match.",name:"filter",required:!0,type:{name:"{ <P2>(statelessComponent: StatelessComponent<P2>): ShallowWrapper<P2, never, Component<{}, {}, any>>; <P2>(component: ComponentType<P2>): ShallowWrapper<...>; (props: string | EnzymePropSelector): ShallowWrapper<...>; }"}},findWhere:{defaultValue:null,description:"Finds every node in the render tree that returns true for the provided predicate function.",name:"findWhere",required:!0,type:{name:"(predicate: (wrapper: ShallowWrapper<any, any, Component<{}, {}, any>>) => boolean) => ShallowWrapper<any, any, Component<{}, {}, any>>"}},children:{defaultValue:null,description:"Returns a new wrapper with all of the children of the node(s) in the current wrapper. Optionally, a selector\ncan be provided and it will filter the children by this selector.",name:"children",required:!0,type:{name:"{ <P2>(statelessComponent: StatelessComponent<P2>): ShallowWrapper<P2, never, Component<{}, {}, any>>; <P2>(component: ComponentType<P2>): ShallowWrapper<...>; (selector: string): ShallowWrapper<...>; (props?: EnzymePropSelector | undefined): ShallowWrapper<...>; }"}},childAt:{defaultValue:null,description:"Returns a new wrapper with child at the specified index.",name:"childAt",required:!0,type:{name:"{ (index: number): ShallowWrapper<any, any, Component<{}, {}, any>>; <P2, S2>(index: number): ShallowWrapper<P2, S2, Component<{}, {}, any>>; }"}},dive:{defaultValue:null,description:"Shallow render the one non-DOM child of the current wrapper, and return a wrapper around the result.\nNOTE: can only be called on wrapper of a single non-DOM component element node.",name:"dive",required:!0,type:{name:'{ <C2 extends Component<{}, {}, any>, P2 = C2["props"], S2 = C2["state"]>(options?: ShallowRendererProps | undefined): ShallowWrapper<P2, S2, C2>; <P2, S2>(options?: ShallowRendererProps | undefined): ShallowWrapper<...>; <P2, S2, C2>(options?: ShallowRendererProps | undefined): ShallowWrapper<...>; }'}},hostNodes:{defaultValue:null,description:"Strips out all the not host-nodes from the list of nodes\n\nThis method is useful if you want to check for the presence of host nodes\n(actually rendered HTML elements) ignoring the React nodes.",name:"hostNodes",required:!0,type:{name:"() => ShallowWrapper<HTMLAttributes, {}, Component<{}, {}, any>>"}},parents:{defaultValue:null,description:"Returns a wrapper around all of the parents/ancestors of the wrapper. Does not include the node in the\ncurrent wrapper. Optionally, a selector can be provided and it will filter the parents by this selector.\n\nNote: can only be called on a wrapper of a single node.",name:"parents",required:!0,type:{name:"{ <P2>(statelessComponent: StatelessComponent<P2>): ShallowWrapper<P2, never, Component<{}, {}, any>>; <P2>(component: ComponentType<P2>): ShallowWrapper<...>; (selector: string): ShallowWrapper<...>; (props?: EnzymePropSelector | undefined): ShallowWrapper<...>; }"}},closest:{defaultValue:null,description:"Returns a wrapper of the first element that matches the selector by traversing up through the current node's\nancestors in the tree, starting with itself.\n\nNote: can only be called on a wrapper of a single node.",name:"closest",required:!0,type:{name:"{ <P2>(statelessComponent: StatelessComponent<P2>): ShallowWrapper<P2, never, Component<{}, {}, any>>; <P2>(component: ComponentType<P2>): ShallowWrapper<...>; (props: EnzymePropSelector): ShallowWrapper<...>; (selector: string): ShallowWrapper<...>; }"}},parent:{defaultValue:null,description:"Returns a wrapper with the direct parent of the node in the current wrapper.",name:"parent",required:!0,type:{name:"() => ShallowWrapper<any, any, Component<{}, {}, any>>"}},renderProp:{defaultValue:null,description:"Returns a wrapper of the node rendered by the provided render prop.",name:"renderProp",required:!0,type:{name:"<PropName extends never>(prop: PropName) => (...params: Parameters<{}[PropName]>) => ShallowWrapper<any, never, Component<{}, {}, any>>"}},getWrappingComponent:{defaultValue:null,description:"If a wrappingComponent was passed in options,\nthis methods returns a ShallowWrapper around the rendered wrappingComponent.\nThis ShallowWrapper can be used to update the wrappingComponent's props and state",name:"getWrappingComponent",required:!0,type:{name:"() => ShallowWrapper<{}, {}, Component<{}, {}, any>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#getInstance"]={docgenInfo:getInstance.__docgenInfo,name:"getInstance",path:"src/test-helpers.tsx#getInstance"})}catch(__react_docgen_typescript_loader_error){}try{simulatePopover.displayName="simulatePopover",simulatePopover.__docgenInfo={description:"",displayName:"simulatePopover",props:{shallow:{defaultValue:null,description:"",name:"shallow",required:!0,type:{name:"(options?: ShallowRendererProps | undefined) => ShallowWrapper<{}, {}, Component<{}, {}, any>>"}},unmount:{defaultValue:null,description:"",name:"unmount",required:!0,type:{name:"() => ShallowWrapper<{}, {}, Component<{}, {}, any>>"}},find:{defaultValue:null,description:"Find every node in the render tree that matches the provided selector.\n@param selector The selector to match.",name:"find",required:!0,type:{name:"{ <P2>(statelessComponent: StatelessComponent<P2>): ShallowWrapper<P2, never, Component<{}, {}, any>>; <P2>(component: ComponentType<P2>): ShallowWrapper<...>; <C2 extends Component<...>>(componentClass: ComponentClass<...>): ShallowWrapper<...>; (props: EnzymePropSelector): ShallowWrapper<...>; (selector: string): ..."}},filter:{defaultValue:null,description:"Removes nodes in the current wrapper that do not match the provided selector.\n@param selector The selector to match.",name:"filter",required:!0,type:{name:"{ <P2>(statelessComponent: StatelessComponent<P2>): ShallowWrapper<P2, never, Component<{}, {}, any>>; <P2>(component: ComponentType<P2>): ShallowWrapper<...>; (props: string | EnzymePropSelector): ShallowWrapper<...>; }"}},findWhere:{defaultValue:null,description:"Finds every node in the render tree that returns true for the provided predicate function.",name:"findWhere",required:!0,type:{name:"(predicate: (wrapper: ShallowWrapper<any, any, Component<{}, {}, any>>) => boolean) => ShallowWrapper<any, any, Component<{}, {}, any>>"}},children:{defaultValue:null,description:"Returns a new wrapper with all of the children of the node(s) in the current wrapper. Optionally, a selector\ncan be provided and it will filter the children by this selector.",name:"children",required:!0,type:{name:"{ <P2>(statelessComponent: StatelessComponent<P2>): ShallowWrapper<P2, never, Component<{}, {}, any>>; <P2>(component: ComponentType<P2>): ShallowWrapper<...>; (selector: string): ShallowWrapper<...>; (props?: EnzymePropSelector | undefined): ShallowWrapper<...>; }"}},childAt:{defaultValue:null,description:"Returns a new wrapper with child at the specified index.",name:"childAt",required:!0,type:{name:"{ (index: number): ShallowWrapper<any, any, Component<{}, {}, any>>; <P2, S2>(index: number): ShallowWrapper<P2, S2, Component<{}, {}, any>>; }"}},dive:{defaultValue:null,description:"Shallow render the one non-DOM child of the current wrapper, and return a wrapper around the result.\nNOTE: can only be called on wrapper of a single non-DOM component element node.",name:"dive",required:!0,type:{name:'{ <C2 extends Component<{}, {}, any>, P2 = C2["props"], S2 = C2["state"]>(options?: ShallowRendererProps | undefined): ShallowWrapper<P2, S2, C2>; <P2, S2>(options?: ShallowRendererProps | undefined): ShallowWrapper<...>; <P2, S2, C2>(options?: ShallowRendererProps | undefined): ShallowWrapper<...>; }'}},hostNodes:{defaultValue:null,description:"Strips out all the not host-nodes from the list of nodes\n\nThis method is useful if you want to check for the presence of host nodes\n(actually rendered HTML elements) ignoring the React nodes.",name:"hostNodes",required:!0,type:{name:"() => ShallowWrapper<HTMLAttributes, {}, Component<{}, {}, any>>"}},parents:{defaultValue:null,description:"Returns a wrapper around all of the parents/ancestors of the wrapper. Does not include the node in the\ncurrent wrapper. Optionally, a selector can be provided and it will filter the parents by this selector.\n\nNote: can only be called on a wrapper of a single node.",name:"parents",required:!0,type:{name:"{ <P2>(statelessComponent: StatelessComponent<P2>): ShallowWrapper<P2, never, Component<{}, {}, any>>; <P2>(component: ComponentType<P2>): ShallowWrapper<...>; (selector: string): ShallowWrapper<...>; (props?: EnzymePropSelector | undefined): ShallowWrapper<...>; }"}},closest:{defaultValue:null,description:"Returns a wrapper of the first element that matches the selector by traversing up through the current node's\nancestors in the tree, starting with itself.\n\nNote: can only be called on a wrapper of a single node.",name:"closest",required:!0,type:{name:"{ <P2>(statelessComponent: StatelessComponent<P2>): ShallowWrapper<P2, never, Component<{}, {}, any>>; <P2>(component: ComponentType<P2>): ShallowWrapper<...>; (props: EnzymePropSelector): ShallowWrapper<...>; (selector: string): ShallowWrapper<...>; }"}},parent:{defaultValue:null,description:"Returns a wrapper with the direct parent of the node in the current wrapper.",name:"parent",required:!0,type:{name:"() => ShallowWrapper<any, any, Component<{}, {}, any>>"}},renderProp:{defaultValue:null,description:"Returns a wrapper of the node rendered by the provided render prop.",name:"renderProp",required:!0,type:{name:"<PropName extends never>(prop: PropName) => (...params: Parameters<{}[PropName]>) => ShallowWrapper<any, never, Component<{}, {}, any>>"}},getWrappingComponent:{defaultValue:null,description:"If a wrappingComponent was passed in options,\nthis methods returns a ShallowWrapper around the rendered wrappingComponent.\nThis ShallowWrapper can be used to update the wrappingComponent's props and state",name:"getWrappingComponent",required:!0,type:{name:"() => ShallowWrapper<{}, {}, Component<{}, {}, any>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/test-helpers.tsx#simulatePopover"]={docgenInfo:simulatePopover.__docgenInfo,name:"simulatePopover",path:"src/test-helpers.tsx#simulatePopover"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SLOW_LOADING_LINE_COUNT})),__webpack_require__.d(__webpack_exports__,"b",(function(){return TRIMMED_CHAR_COUNT})),__webpack_require__.d(__webpack_exports__,"f",(function(){return contentAddedByTrimmer})),__webpack_require__.d(__webpack_exports__,"n",(function(){return messageUidQueryParam})),__webpack_require__.d(__webpack_exports__,"p",(function(){return pathQueryParam})),__webpack_require__.d(__webpack_exports__,"c",(function(){return allowSlowPagesParam})),__webpack_require__.d(__webpack_exports__,"m",(function(){return gettext})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getLocalizedString})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getLanguageFromMimeType})),__webpack_require__.d(__webpack_exports__,"q",(function(){return utils_sanitizeHTML})),__webpack_require__.d(__webpack_exports__,"o",(function(){return nl2br})),__webpack_require__.d(__webpack_exports__,"i",(function(){return utils_formatFilesize})),__webpack_require__.d(__webpack_exports__,"g",(function(){return utils_createAdjustedQueryString})),__webpack_require__.d(__webpack_exports__,"h",(function(){return extractNumber})),__webpack_require__.d(__webpack_exports__,"s",(function(){return utils_shouldAllowSlowPages})),__webpack_require__.d(__webpack_exports__,"d",(function(){return codeCanBeHighlighted})),__webpack_require__.d(__webpack_exports__,"j",(function(){return utils_getAllHunkChanges})),__webpack_require__.d(__webpack_exports__,"e",(function(){return codeShouldBeTrimmed})),__webpack_require__.d(__webpack_exports__,"r",(function(){return utils_sendPerfTiming}));var createForOfIteratorHelper=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),classCallCheck=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),toConsumableArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),url_url=__webpack_require__("./node_modules/url/url.js"),url_default=__webpack_require__.n(url_url),filesize_min=__webpack_require__("./node_modules/filesize/lib/filesize.min.js"),filesize_min_default=__webpack_require__.n(filesize_min),purify=__webpack_require__("./node_modules/dompurify/dist/purify.js"),purify_default=__webpack_require__.n(purify),query_string=__webpack_require__("./node_modules/query-string/index.js"),query_string_default=__webpack_require__.n(query_string),loglevel=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel_default=__webpack_require__.n(loglevel),es=__webpack_require__("./node_modules/react-diff-view/es/index.js"),versions=__webpack_require__("./src/reducers/versions.tsx"),utils=__webpack_require__("./src/components/CodeView/utils.tsx"),esm=__webpack_require__("./node_modules/react-ga/dist/esm/index.js");function isDoNotTrackEnabled(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$_navigator=_ref._navigator,_navigator=void 0===_ref$_navigator?navigator:_ref$_navigator,_ref$_window=_ref._window,_window=void 0===_ref$_window?window:_ref$_window;if(!_navigator||!_window)return!1;var dnt=_navigator.doNotTrack||_window.doNotTrack;return"1"===dnt&&(loglevel_default.a.debug("Do Not Track is enabled"),!0)}var tracking=new function Tracking(){var _this=this,_ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref2$_isDoNotTrackEn=_ref2._isDoNotTrackEnabled,_isDoNotTrackEnabled=void 0===_ref2$_isDoNotTrackEn?isDoNotTrackEnabled:_ref2$_isDoNotTrackEn,_ref2$_reactGA=_ref2._reactGA,_reactGA=void 0===_ref2$_reactGA?esm.a:_ref2$_reactGA,_ref2$trackingEnabled=_ref2.trackingEnabled,trackingEnabled=void 0===_ref2$trackingEnabled||_ref2$trackingEnabled,_ref2$trackingId=_ref2.trackingId,trackingId=void 0===_ref2$trackingId?"UA-77033033-29":_ref2$trackingId;_ref2.useMock;Object(classCallCheck.a)(this,Tracking),this._reactGA=void 0,this.logPrefix=void 0,this.trackingEnabled=void 0,this.timing=function(params){_this._reactGA&&(_this._reactGA.timing(params),loglevel_default.a.info(_this.logPrefix,"Sending timing for ".concat(JSON.stringify(params))))},this.logPrefix="[GA]",trackingEnabled?trackingId?_isDoNotTrackEnabled()?(loglevel_default.a.debug("Do Not Track Enabled; Google Analytics not loaded and tracking disabled"),this.trackingEnabled=!1):(loglevel_default.a.debug("Google Analytics is enabled"),this.trackingEnabled=!0):(loglevel_default.a.debug("GA Disabled because trackingId was empty"),this.trackingEnabled=!1):(loglevel_default.a.debug("GA disabled because trackingEnabled was false"),this.trackingEnabled=!1),this.logPrefix="[GA: ".concat(this.trackingEnabled?"ON":"OFF","]"),this.trackingEnabled&&trackingId&&(this._reactGA=_reactGA,this._reactGA.initialize(trackingId,{debug:!1,titleCase:!1,gaOptions:{siteSpeedSampleRate:100}}),this._reactGA.set({transport:"beacon"}))};try{isDoNotTrackEnabled.displayName="isDoNotTrackEnabled",isDoNotTrackEnabled.__docgenInfo={description:"",displayName:"isDoNotTrackEnabled",props:{_navigator:{defaultValue:null,description:"",name:"_navigator",required:!1,type:{name:"Navigator | null"}},_window:{defaultValue:null,description:"",name:"_window",required:!1,type:{name:"Window | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/tracking.tsx#isDoNotTrackEnabled"]={docgenInfo:isDoNotTrackEnabled.__docgenInfo,name:"isDoNotTrackEnabled",path:"src/tracking.tsx#isDoNotTrackEnabled"})}catch(__react_docgen_typescript_loader_error){}var SLOW_LOADING_LINE_COUNT=5e3,TRIMMED_CHAR_COUNT=300,contentAddedByTrimmer="/* truncated by code-manager */",messageUidQueryParam="messageUid",pathQueryParam="path",allowSlowPagesParam="allowSlowPages",gettext=function gettext(text){return text},getLocalizedString=function getLocalizedString(localizedStringMap){var lang=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",stringForCurrentLang=localizedStringMap[lang],langs=Object.keys(localizedStringMap);return stringForCurrentLang||langs.length&&localizedStringMap[langs[0]]||""},getLanguageFromMimeType=function getLanguageFromMimeType(mimeType){switch(mimeType){case"application/javascript":case"text/javascript":return"js";case"application/json":return"json";case"application/xml":return"xml";case"text/css":return"css";case"text/html":return"html";default:return"text"}},utils_sanitizeHTML=function sanitizeHTML(text){var allowTags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],_purify=arguments.length>2&&void 0!==arguments[2]?arguments[2]:purify_default.a;return{__html:_purify.sanitize(text,{ALLOWED_TAGS:allowTags})}},nl2br=function nl2br(text){return(text||"").replace(/(\r\n|\r|\n)(?!<\/?(li|ul|ol)>)/g,"<br />")},utils_formatFilesize=function formatFilesize(size){return filesize_min_default()(size,{standard:"iec"})},utils_getPathFromQueryString=function getPathFromQueryString(history){var path=query_string_default.a.parse(history.location.search)[pathQueryParam];return"string"==typeof path&&path.length?path:null},utils_createAdjustedQueryString=function createAdjustedQueryString(location,newParams){var query=query_string_default.a.parse(location.search);return"?".concat(query_string_default.a.stringify(Object(objectSpread2.a)(Object(objectSpread2.a)({},query),newParams)))},extractNumber=function extractNumber(text){var matches=text.match(/\d+/);return Array.isArray(matches)?parseInt(matches[0],10):null},utils_makeReviewersURL=function makeReviewersURL(_ref){var _ref$reviewersHost=_ref.reviewersHost,reviewersHost=void 0===_ref$reviewersHost?"https://reviewers.addons.mozilla.org":_ref$reviewersHost,url=_ref.url,_ref$useInsecureProxy=_ref.useInsecureProxy,useInsecureProxy=void 0===_ref$useInsecureProxy?"true"==={NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:".",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_USER_AUTH_SESSION_ID_PLACEHOLDER:"__AUTH_SESSION_ID__",REACT_APP_AUTHENTICATION_COOKIE:"sessionid",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29",REACT_APP_GA_DEBUG_MODE:"false"}.REACT_APP_USE_INSECURE_PROXY:_ref$useInsecureProxy,path=url_default.a.parse(url).path;return reviewersHost&&!useInsecureProxy?"".concat(reviewersHost).concat(path):path||void 0},utils_shouldAllowSlowPages=function shouldAllowSlowPages(_ref2){var _ref2$allowByDefault=_ref2.allowByDefault,allowByDefault=void 0!==_ref2$allowByDefault&&_ref2$allowByDefault,location=_ref2.location,shouldAllowQueryParam=query_string_default.a.parse(location.search)[allowSlowPagesParam];return void 0!==shouldAllowQueryParam?"true"===shouldAllowQueryParam:allowByDefault},codeCanBeHighlighted=function codeCanBeHighlighted(_ref3){for(var code=_ref3.code,_ref3$wideLineLength=_ref3.wideLineLength,wideLineLength=void 0===_ref3$wideLineLength?500:_ref3$wideLineLength,_ref3$highLineCount=_ref3.highLineCount,highLineCount=void 0===_ref3$highLineCount?3e3:_ref3$highLineCount,index=0;index<code.length;index++){var codeLineOrChange=code[index];if(("string"==typeof codeLineOrChange?codeLineOrChange:codeLineOrChange.content).length>wideLineLength)return!1;if(index>=highLineCount)return!1}return!0},utils_getAllHunkChanges=function getAllHunkChanges(hunks){return hunks.reduce((function(result,_ref4){var changes=_ref4.changes;return[].concat(Object(toConsumableArray.a)(result),Object(toConsumableArray.a)(changes))}),[])},flattenDiffChanges=function flattenDiffChanges(diff){return utils_getAllHunkChanges(diff.hunks).map((function(change){return change.content})).join("\n")},appendChangesInPlace=function appendChangesInPlace(changeMap,line,change){changeMap[line]=changeMap[line]||[],changeMap[line].push(change)},utils_ForwardComparisonMap=function(){function ForwardComparisonMap(diff){var _this=this;Object(classCallCheck.a)(this,ForwardComparisonMap),this.changeMap=void 0,this.changeMap={};var _step,_iterator=Object(createForOfIteratorHelper.a)(utils_getAllHunkChanges(diff.hunks));try{for(_iterator.s();!(_step=_iterator.n()).done;){var change=_step.value;appendChangesInPlace(this.changeMap,String(change.oldLineNumber),change),appendChangesInPlace(this.changeMap,String(change.newLineNumber),change)}}catch(err){_iterator.e(err)}finally{_iterator.f()}var relevantTypes=[versions.c.insert,versions.c.normal,versions.c.delete];Object.keys(this.changeMap).forEach((function(line){_this.changeMap[line].sort((function(firstChange,secondChange){if(firstChange.type===secondChange.type)return 0;var _step2,_iterator2=Object(createForOfIteratorHelper.a)(relevantTypes);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var type=_step2.value;if(firstChange.type===type)return-1;if(secondChange.type===type)return 1}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return 0}))}))}return Object(createClass.a)(ForwardComparisonMap,[{key:"createCodeLineAnchorGetter",value:function createCodeLineAnchorGetter(){return this.getCodeLineAnchor.bind(this)}},{key:"getCodeLineAnchor",value:function getCodeLineAnchor(line){var lineChanges=this.changeMap[line];return lineChanges&&0!==lineChanges.length?"#".concat(Object(es.d)(lineChanges[0])):(loglevel_default.a.warn("No changes were mapped for line ".concat(line)),"")}}]),ForwardComparisonMap}(),utils_createCodeLineAnchorGetter=function createCodeLineAnchorGetter(file){return file&&Object(versions.p)(file)&&file.diff?new utils_ForwardComparisonMap(file.diff).createCodeLineAnchorGetter():utils.b},codeShouldBeTrimmed=function codeShouldBeTrimmed(_ref5){var codeCharLength=_ref5.codeCharLength,codeLineLength=_ref5.codeLineLength,isMinified=_ref5.isMinified,trimmedCharCount=_ref5.trimmedCharCount;return codeLineLength>=_ref5.slowLoadingLineCount||isMinified&&codeCharLength>trimmedCharCount},utils_sendPerfTiming=function sendPerfTiming(_ref6){var _ref6$_tracking=_ref6._tracking,_tracking=void 0===_ref6$_tracking?tracking:_ref6$_tracking,_ref6$_window=_ref6._window,_window=void 0===_ref6$_window?window:_ref6$_window,actualDuration=_ref6.actualDuration,id=_ref6.id;_tracking.timing({category:"renderPerf",label:_window.location.href,value:actualDuration,variable:id})};try{gettext.displayName="gettext",gettext.__docgenInfo={description:"",displayName:"gettext",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#gettext"]={docgenInfo:gettext.__docgenInfo,name:"gettext",path:"src/utils.tsx#gettext"})}catch(__react_docgen_typescript_loader_error){}try{getLanguageFromMimeType.displayName="getLanguageFromMimeType",getLanguageFromMimeType.__docgenInfo={description:"",displayName:"getLanguageFromMimeType",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#getLanguageFromMimeType"]={docgenInfo:getLanguageFromMimeType.__docgenInfo,name:"getLanguageFromMimeType",path:"src/utils.tsx#getLanguageFromMimeType"})}catch(__react_docgen_typescript_loader_error){}try{nl2br.displayName="nl2br",nl2br.__docgenInfo={description:"",displayName:"nl2br",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#nl2br"]={docgenInfo:nl2br.__docgenInfo,name:"nl2br",path:"src/utils.tsx#nl2br"})}catch(__react_docgen_typescript_loader_error){}try{utils_formatFilesize.displayName="formatFilesize",utils_formatFilesize.__docgenInfo={description:"",displayName:"formatFilesize",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#formatFilesize"]={docgenInfo:utils_formatFilesize.__docgenInfo,name:"formatFilesize",path:"src/utils.tsx#formatFilesize"})}catch(__react_docgen_typescript_loader_error){}try{utils_getPathFromQueryString.displayName="getPathFromQueryString",utils_getPathFromQueryString.__docgenInfo={description:"",displayName:"getPathFromQueryString",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#getPathFromQueryString"]={docgenInfo:utils_getPathFromQueryString.__docgenInfo,name:"getPathFromQueryString",path:"src/utils.tsx#getPathFromQueryString"})}catch(__react_docgen_typescript_loader_error){}try{extractNumber.displayName="extractNumber",extractNumber.__docgenInfo={description:"",displayName:"extractNumber",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#extractNumber"]={docgenInfo:extractNumber.__docgenInfo,name:"extractNumber",path:"src/utils.tsx#extractNumber"})}catch(__react_docgen_typescript_loader_error){}try{utils_makeReviewersURL.displayName="makeReviewersURL",utils_makeReviewersURL.__docgenInfo={description:"",displayName:"makeReviewersURL",props:{apiHost:{defaultValue:null,description:"",name:"apiHost",required:!1,type:{name:"string | null"}},reviewersHost:{defaultValue:{value:"process.env.REACT_APP_REVIEWERS_HOST"},description:"",name:"reviewersHost",required:!1,type:{name:"string | null"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},useInsecureProxy:{defaultValue:{value:"process.env.REACT_APP_USE_INSECURE_PROXY === 'true'"},description:"",name:"useInsecureProxy",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#makeReviewersURL"]={docgenInfo:utils_makeReviewersURL.__docgenInfo,name:"makeReviewersURL",path:"src/utils.tsx#makeReviewersURL"})}catch(__react_docgen_typescript_loader_error){}try{utils_shouldAllowSlowPages.displayName="shouldAllowSlowPages",utils_shouldAllowSlowPages.__docgenInfo={description:"",displayName:"shouldAllowSlowPages",props:{allowByDefault:{defaultValue:{value:"false"},description:"",name:"allowByDefault",required:!1,type:{name:"boolean"}},location:{defaultValue:null,description:"",name:"location",required:!0,type:{name:"Location<unknown>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#shouldAllowSlowPages"]={docgenInfo:utils_shouldAllowSlowPages.__docgenInfo,name:"shouldAllowSlowPages",path:"src/utils.tsx#shouldAllowSlowPages"})}catch(__react_docgen_typescript_loader_error){}try{codeCanBeHighlighted.displayName="codeCanBeHighlighted",codeCanBeHighlighted.__docgenInfo={description:"",displayName:"codeCanBeHighlighted",props:{code:{defaultValue:null,description:"",name:"code",required:!0,type:{name:"string[] | any[]"}},wideLineLength:{defaultValue:{value:"500"},description:"",name:"wideLineLength",required:!1,type:{name:"number"}},highLineCount:{defaultValue:{value:"3000"},description:"",name:"highLineCount",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#codeCanBeHighlighted"]={docgenInfo:codeCanBeHighlighted.__docgenInfo,name:"codeCanBeHighlighted",path:"src/utils.tsx#codeCanBeHighlighted"})}catch(__react_docgen_typescript_loader_error){}try{utils_getAllHunkChanges.displayName="getAllHunkChanges",utils_getAllHunkChanges.__docgenInfo={description:"",displayName:"getAllHunkChanges",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#getAllHunkChanges"]={docgenInfo:utils_getAllHunkChanges.__docgenInfo,name:"getAllHunkChanges",path:"src/utils.tsx#getAllHunkChanges"})}catch(__react_docgen_typescript_loader_error){}try{flattenDiffChanges.displayName="flattenDiffChanges",flattenDiffChanges.__docgenInfo={description:"",displayName:"flattenDiffChanges",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#flattenDiffChanges"]={docgenInfo:flattenDiffChanges.__docgenInfo,name:"flattenDiffChanges",path:"src/utils.tsx#flattenDiffChanges"})}catch(__react_docgen_typescript_loader_error){}try{utils_createCodeLineAnchorGetter.displayName="createCodeLineAnchorGetter",utils_createCodeLineAnchorGetter.__docgenInfo={description:"",displayName:"createCodeLineAnchorGetter",props:{downloadURL:{defaultValue:null,description:"",name:"downloadURL",required:!0,type:{name:"string | null"}},filename:{defaultValue:null,description:"",name:"filename",required:!0,type:{name:"string"}},fileType:{defaultValue:null,description:"",name:"fileType",required:!0,type:{name:"enum",value:[{value:'"image"'},{value:'"text"'},{value:'"directory"'},{value:'"binary"'}]}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},isMinified:{defaultValue:null,description:"",name:"isMinified",required:!0,type:{name:"boolean"}},mimeType:{defaultValue:null,description:"",name:"mimeType",required:!0,type:{name:"string"}},sha256:{defaultValue:null,description:"",name:"sha256",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}},diff:{defaultValue:null,description:"",name:"diff",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#createCodeLineAnchorGetter"]={docgenInfo:utils_createCodeLineAnchorGetter.__docgenInfo,name:"createCodeLineAnchorGetter",path:"src/utils.tsx#createCodeLineAnchorGetter"})}catch(__react_docgen_typescript_loader_error){}try{codeShouldBeTrimmed.displayName="codeShouldBeTrimmed",codeShouldBeTrimmed.__docgenInfo={description:"",displayName:"codeShouldBeTrimmed",props:{codeCharLength:{defaultValue:null,description:"",name:"codeCharLength",required:!0,type:{name:"number"}},codeLineLength:{defaultValue:null,description:"",name:"codeLineLength",required:!0,type:{name:"number"}},isMinified:{defaultValue:null,description:"",name:"isMinified",required:!0,type:{name:"boolean"}},trimmedCharCount:{defaultValue:null,description:"",name:"trimmedCharCount",required:!0,type:{name:"number"}},slowLoadingLineCount:{defaultValue:null,description:"",name:"slowLoadingLineCount",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#codeShouldBeTrimmed"]={docgenInfo:codeShouldBeTrimmed.__docgenInfo,name:"codeShouldBeTrimmed",path:"src/utils.tsx#codeShouldBeTrimmed"})}catch(__react_docgen_typescript_loader_error){}try{utils_sendPerfTiming.displayName="sendPerfTiming",utils_sendPerfTiming.__docgenInfo={description:"",displayName:"sendPerfTiming",props:{_tracking:{defaultValue:null,description:"",name:"_tracking",required:!1,type:{name:"Tracking"}},_window:{defaultValue:null,description:"",name:"_window",required:!1,type:{name:"(Window & typeof globalThis)"}},actualDuration:{defaultValue:null,description:"",name:"actualDuration",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#sendPerfTiming"]={docgenInfo:utils_sendPerfTiming.__docgenInfo,name:"sendPerfTiming",path:"src/utils.tsx#sendPerfTiming"})}catch(__react_docgen_typescript_loader_error){}},"./stories/setup/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),loglevel=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel_default=__webpack_require__.n(loglevel),index_es=__webpack_require__("./node_modules/@fortawesome/fontawesome-svg-core/index.es.js"),free_solid_svg_icons_index_es=__webpack_require__("./node_modules/@fortawesome/free-solid-svg-icons/index.es.js"),free_regular_svg_icons_index_es=__webpack_require__("./node_modules/@fortawesome/free-regular-svg-icons/index.es.js"),configureApplication_configureApplication=(__webpack_require__("./node_modules/@fortawesome/fontawesome-svg-core/styles.css"),__webpack_require__("./node_modules/focus-visible/dist/focus-visible.js"),function configureApplication(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$_log=_ref._log,_log=void 0===_ref$_log?loglevel_default.a:_ref$_log,_ref$env=_ref.env,env=void 0===_ref$env?{NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:".",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_USER_AUTH_SESSION_ID_PLACEHOLDER:"__AUTH_SESSION_ID__",REACT_APP_AUTHENTICATION_COOKIE:"sessionid",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29",REACT_APP_GA_DEBUG_MODE:"false"}:_ref$env;"production"===env.NODE_ENV?_log.setLevel(loglevel_default.a.levels.INFO,!1):_log.setLevel(loglevel_default.a.levels.DEBUG,!1),index_es.a.autoAddCss=!1,index_es.c.add(free_solid_svg_icons_index_es.a,free_regular_svg_icons_index_es.a)}),src_configureApplication=configureApplication_configureApplication;try{configureApplication_configureApplication.displayName="configureApplication",configureApplication_configureApplication.__docgenInfo={description:"",displayName:"configureApplication",props:{_log:{defaultValue:null,description:"",name:"_log",required:!1,type:{name:"RootLogger"}},env:{defaultValue:{value:"process.env as any as ClientEnvVars"},description:"",name:"env",required:!1,type:{name:"ClientEnvVars"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/configureApplication.tsx#configureApplication"]={docgenInfo:configureApplication_configureApplication.__docgenInfo,name:"configureApplication",path:"src/configureApplication.tsx#configureApplication"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./src/styles.scss"),__webpack_require__("./stories/setup/styles.scss");src_configureApplication();var parameters={actions:{argTypesRegex:"^on[A-Z].*"}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./stories/setup/styles.scss":function(module,exports,__webpack_require__){},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-server/node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-server/node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./stories/setup/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){},2:function(module,exports){}},[[0,5,6]]]);